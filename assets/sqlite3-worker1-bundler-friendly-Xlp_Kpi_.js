var Xn=Object.defineProperty;var Yn=(me,ce,pe)=>ce in me?Xn(me,ce,{enumerable:!0,configurable:!0,writable:!0,value:pe}):me[ce]=pe;var Nt=(me,ce,pe)=>(Yn(me,typeof ce!="symbol"?ce+"":ce,pe),pe),at=(me,ce,pe)=>{if(!ce.has(me))throw TypeError("Cannot "+pe)};var G=(me,ce,pe)=>(at(me,ce,"read from private field"),pe?pe.call(me):ce.get(me)),Ee=(me,ce,pe)=>{if(ce.has(me))throw TypeError("Cannot add the same private member more than once");ce instanceof WeakSet?ce.add(me):ce.set(me,pe)},Ae=(me,ce,pe,t)=>(at(me,ce,"write to private field"),t?t.call(me,pe):ce.set(me,pe),pe);var Ye=(me,ce,pe)=>(at(me,ce,"access private method"),pe);var ct=(()=>{var me=import.meta.url;return function(ce){var pe=ce||{},t=typeof pe<"u"?pe:{},De,ke;t.ready=new Promise(function(n,e){De=n,ke=e});const He=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,He.debugModule("globalThis.location =",globalThis.location);const ut="emscripten-bug-17951";t[ut]=function n(e,s){e.env.foo=function(){};const r=t.locateFile(n.uri,typeof Se>"u"?"":Se);He.debugModule("instantiateWasm() uri =",r);const i=()=>fetch(r,{credentials:"same-origin"});return(WebAssembly.instantiateStreaming?async()=>WebAssembly.instantiateStreaming(i(),e).then(h=>s(h.instance,h.module)):async()=>i().then(h=>h.arrayBuffer()).then(h=>WebAssembly.instantiate(h,e)).then(h=>s(h.instance,h.module)))(),{}},t[ut].uri="sqlite3.wasm";var _t=Object.assign({},t),ft="./this.program",pt=typeof window=="object",Be=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var Se="";function Mt(n){return t.locateFile?t.locateFile(n,Se):Se+n}var et,dt,tt;(pt||Be)&&(Be?Se=self.location.href:typeof document<"u"&&document.currentScript&&(Se=document.currentScript.src),me&&(Se=me),Se.indexOf("blob:")!==0?Se=Se.substr(0,Se.replace(/[?#].*/,"").lastIndexOf("/")+1):Se="",et=n=>{var e=new XMLHttpRequest;return e.open("GET",n,!1),e.send(null),e.responseText},Be&&(tt=n=>{var e=new XMLHttpRequest;return e.open("GET",n,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),dt=(n,e,s)=>{var r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="arraybuffer",r.onload=()=>{if(r.status==200||r.status==0&&r.response){e(r.response);return}s()},r.onerror=s,r.send(null)});var Ve=t.print||console.log.bind(console),Pe=t.printErr||console.warn.bind(console);Object.assign(t,_t),_t=null,t.arguments&&t.arguments,t.thisProgram&&(ft=t.thisProgram),t.quit&&t.quit;var Ue;t.wasmBinary&&(Ue=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&je("no native wasm support detected");var Le,mt=!1;function jt(n,e){n||je(e)}var ht=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ne(n,e,s){for(var r=e+s,i=e;n[i]&&!(i>=r);)++i;if(i-e>16&&n.buffer&&ht)return ht.decode(n.subarray(e,i));for(var l="";e<i;){var h=n[e++];if(!(h&128)){l+=String.fromCharCode(h);continue}var w=n[e++]&63;if((h&224)==192){l+=String.fromCharCode((h&31)<<6|w);continue}var O=n[e++]&63;if((h&240)==224?h=(h&15)<<12|w<<6|O:h=(h&7)<<18|w<<12|O<<6|n[e++]&63,h<65536)l+=String.fromCharCode(h);else{var B=h-65536;l+=String.fromCharCode(55296|B>>10,56320|B&1023)}}return l}function Bt(n,e){return n?Ne(Me,n,e):""}function Ge(n,e,s,r){if(!(r>0))return 0;for(var i=s,l=s+r-1,h=0;h<n.length;++h){var w=n.charCodeAt(h);if(w>=55296&&w<=57343){var O=n.charCodeAt(++h);w=65536+((w&1023)<<10)|O&1023}if(w<=127){if(s>=l)break;e[s++]=w}else if(w<=2047){if(s+1>=l)break;e[s++]=192|w>>6,e[s++]=128|w&63}else if(w<=65535){if(s+2>=l)break;e[s++]=224|w>>12,e[s++]=128|w>>6&63,e[s++]=128|w&63}else{if(s+3>=l)break;e[s++]=240|w>>18,e[s++]=128|w>>12&63,e[s++]=128|w>>6&63,e[s++]=128|w&63}}return e[s]=0,s-i}function gt(n,e,s){return Ge(n,Me,e,s)}function ze(n){for(var e=0,s=0;s<n.length;++s){var r=n.charCodeAt(s);r<=127?e++:r<=2047?e+=2:r>=55296&&r<=57343?(e+=4,++s):e+=3}return e}var ve,Me,yt,ae,ge;function qt(){var n=Le.buffer;t.HEAP8=ve=new Int8Array(n),t.HEAP16=yt=new Int16Array(n),t.HEAP32=ae=new Int32Array(n),t.HEAPU8=Me=new Uint8Array(n),t.HEAPU16=new Uint16Array(n),t.HEAPU32=ge=new Uint32Array(n),t.HEAPF32=new Float32Array(n),t.HEAPF64=new Float64Array(n),t.HEAP64=new BigInt64Array(n),t.HEAPU64=new BigUint64Array(n)}var bt=t.INITIAL_MEMORY||16777216;t.wasmMemory?Le=t.wasmMemory:Le=new WebAssembly.Memory({initial:bt/65536,maximum:32768}),qt(),bt=Le.buffer.byteLength;var wt=[],Et=[],vt=[];function Ut(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Qt(t.preRun.shift());rt(wt)}function zt(){!t.noFSInit&&!o.init.initialized&&o.init(),o.ignorePermissions=!1,rt(Et)}function Wt(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Vt(t.postRun.shift());rt(vt)}function Qt(n){wt.unshift(n)}function Ht(n){Et.unshift(n)}function Vt(n){vt.unshift(n)}var Ce=0,We=null;function tr(n){return n}function nt(n){Ce++,t.monitorRunDependencies&&t.monitorRunDependencies(Ce)}function $e(n){if(Ce--,t.monitorRunDependencies&&t.monitorRunDependencies(Ce),Ce==0&&We){var e=We;We=null,e()}}function je(n){t.onAbort&&t.onAbort(n),n="Aborted("+n+")",Pe(n),mt=!0,n+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(n);throw ke(e),e}var Gt="data:application/octet-stream;base64,";function St(n){return n.startsWith(Gt)}var xe;t.locateFile?(xe="sqlite3.wasm",St(xe)||(xe=Mt(xe))):xe=new URL(""+new URL("sqlite3-Sc2bb0G-.wasm",import.meta.url).href,import.meta.url).href;function xt(n){try{if(n==xe&&Ue)return new Uint8Array(Ue);if(tt)return tt(n);throw"both async and sync fetching of the wasm failed"}catch(e){je(e)}}function $t(){return!Ue&&(pt||Be)&&typeof fetch=="function"?fetch(xe,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+xe+"'";return n.arrayBuffer()}).catch(function(){return xt(xe)}):Promise.resolve().then(function(){return xt(xe)})}function Kt(){var n={env:Ot,wasi_snapshot_preview1:Ot};function e(h,w){var O=h.exports;t.asm=O,t.asm.__indirect_function_table,Ht(t.asm.__wasm_call_ctors),$e()}nt();function s(h){e(h.instance)}function r(h){return $t().then(function(w){return WebAssembly.instantiate(w,n)}).then(function(w){return w}).then(h,function(w){Pe("failed to asynchronously prepare wasm: "+w),je(w)})}function i(){return!Ue&&typeof WebAssembly.instantiateStreaming=="function"&&!St(xe)&&typeof fetch=="function"?fetch(xe,{credentials:"same-origin"}).then(function(h){var w=WebAssembly.instantiateStreaming(h,n);return w.then(s,function(O){return Pe("wasm streaming compile failed: "+O),Pe("falling back to ArrayBuffer instantiation"),r(s)})}):r(s)}if(t.instantiateWasm)try{var l=t.instantiateWasm(n,e);return l}catch(h){Pe("Module.instantiateWasm callback failed with error: "+h),ke(h)}return i().catch(ke),{}}var ue,qe;function rt(n){for(;n.length>0;)n.shift()(t)}var de={isAbs:n=>n.charAt(0)==="/",splitPath:n=>{var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return e.exec(n).slice(1)},normalizeArray:(n,e)=>{for(var s=0,r=n.length-1;r>=0;r--){var i=n[r];i==="."?n.splice(r,1):i===".."?(n.splice(r,1),s++):s&&(n.splice(r,1),s--)}if(e)for(;s;s--)n.unshift("..");return n},normalize:n=>{var e=de.isAbs(n),s=n.substr(-1)==="/";return n=de.normalizeArray(n.split("/").filter(r=>!!r),!e).join("/"),!n&&!e&&(n="."),n&&s&&(n+="/"),(e?"/":"")+n},dirname:n=>{var e=de.splitPath(n),s=e[0],r=e[1];return!s&&!r?".":(r&&(r=r.substr(0,r.length-1)),s+r)},basename:n=>{if(n==="/")return"/";n=de.normalize(n),n=n.replace(/\/$/,"");var e=n.lastIndexOf("/");return e===-1?n:n.substr(e+1)},join:function(){var n=Array.prototype.slice.call(arguments);return de.normalize(n.join("/"))},join2:(n,e)=>de.normalize(n+"/"+e)};function Jt(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var n=new Uint8Array(1);return()=>(crypto.getRandomValues(n),n[0])}else return()=>je("randomDevice")}var Te={resolve:function(){for(var n="",e=!1,s=arguments.length-1;s>=-1&&!e;s--){var r=s>=0?arguments[s]:o.cwd();if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";n=r+"/"+n,e=de.isAbs(r)}return n=de.normalizeArray(n.split("/").filter(i=>!!i),!e).join("/"),(e?"/":"")+n||"."},relative:(n,e)=>{n=Te.resolve(n).substr(1),e=Te.resolve(e).substr(1);function s(B){for(var Q=0;Q<B.length&&B[Q]==="";Q++);for(var $=B.length-1;$>=0&&B[$]==="";$--);return Q>$?[]:B.slice(Q,$-Q+1)}for(var r=s(n.split("/")),i=s(e.split("/")),l=Math.min(r.length,i.length),h=l,w=0;w<l;w++)if(r[w]!==i[w]){h=w;break}for(var O=[],w=h;w<r.length;w++)O.push("..");return O=O.concat(i.slice(h)),O.join("/")}};function st(n,e,s){var r=s>0?s:ze(n)+1,i=new Array(r),l=Ge(n,i,0,i.length);return e&&(i.length=l),i}var Re={ttys:[],init:function(){},shutdown:function(){},register:function(n,e){Re.ttys[n]={input:[],output:[],ops:e},o.registerDevice(n,Re.stream_ops)},stream_ops:{open:function(n){var e=Re.ttys[n.node.rdev];if(!e)throw new o.ErrnoError(43);n.tty=e,n.seekable=!1},close:function(n){n.tty.ops.fsync(n.tty)},fsync:function(n){n.tty.ops.fsync(n.tty)},read:function(n,e,s,r,i){if(!n.tty||!n.tty.ops.get_char)throw new o.ErrnoError(60);for(var l=0,h=0;h<r;h++){var w;try{w=n.tty.ops.get_char(n.tty)}catch{throw new o.ErrnoError(29)}if(w===void 0&&l===0)throw new o.ErrnoError(6);if(w==null)break;l++,e[s+h]=w}return l&&(n.node.timestamp=Date.now()),l},write:function(n,e,s,r,i){if(!n.tty||!n.tty.ops.put_char)throw new o.ErrnoError(60);try{for(var l=0;l<r;l++)n.tty.ops.put_char(n.tty,e[s+l])}catch{throw new o.ErrnoError(29)}return r&&(n.node.timestamp=Date.now()),l}},default_tty_ops:{get_char:function(n){if(!n.input.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e)return null;n.input=st(e,!0)}return n.input.shift()},put_char:function(n,e){e===null||e===10?(Ve(Ne(n.output,0)),n.output=[]):e!=0&&n.output.push(e)},fsync:function(n){n.output&&n.output.length>0&&(Ve(Ne(n.output,0)),n.output=[])}},default_tty1_ops:{put_char:function(n,e){e===null||e===10?(Pe(Ne(n.output,0)),n.output=[]):e!=0&&n.output.push(e)},fsync:function(n){n.output&&n.output.length>0&&(Pe(Ne(n.output,0)),n.output=[])}}};function Xt(n,e){return Me.fill(0,n,n+e),n}function Yt(n,e){return Math.ceil(n/e)*e}function At(n){n=Yt(n,65536);var e=Dt(65536,n);return e?Xt(e,n):0}var oe={ops_table:null,mount:function(n){return oe.createNode(null,"/",16895,0)},createNode:function(n,e,s,r){if(o.isBlkdev(s)||o.isFIFO(s))throw new o.ErrnoError(63);oe.ops_table||(oe.ops_table={dir:{node:{getattr:oe.node_ops.getattr,setattr:oe.node_ops.setattr,lookup:oe.node_ops.lookup,mknod:oe.node_ops.mknod,rename:oe.node_ops.rename,unlink:oe.node_ops.unlink,rmdir:oe.node_ops.rmdir,readdir:oe.node_ops.readdir,symlink:oe.node_ops.symlink},stream:{llseek:oe.stream_ops.llseek}},file:{node:{getattr:oe.node_ops.getattr,setattr:oe.node_ops.setattr},stream:{llseek:oe.stream_ops.llseek,read:oe.stream_ops.read,write:oe.stream_ops.write,allocate:oe.stream_ops.allocate,mmap:oe.stream_ops.mmap,msync:oe.stream_ops.msync}},link:{node:{getattr:oe.node_ops.getattr,setattr:oe.node_ops.setattr,readlink:oe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:oe.node_ops.getattr,setattr:oe.node_ops.setattr},stream:o.chrdev_stream_ops}});var i=o.createNode(n,e,s,r);return o.isDir(i.mode)?(i.node_ops=oe.ops_table.dir.node,i.stream_ops=oe.ops_table.dir.stream,i.contents={}):o.isFile(i.mode)?(i.node_ops=oe.ops_table.file.node,i.stream_ops=oe.ops_table.file.stream,i.usedBytes=0,i.contents=null):o.isLink(i.mode)?(i.node_ops=oe.ops_table.link.node,i.stream_ops=oe.ops_table.link.stream):o.isChrdev(i.mode)&&(i.node_ops=oe.ops_table.chrdev.node,i.stream_ops=oe.ops_table.chrdev.stream),i.timestamp=Date.now(),n&&(n.contents[e]=i,n.timestamp=i.timestamp),i},getFileDataAsTypedArray:function(n){return n.contents?n.contents.subarray?n.contents.subarray(0,n.usedBytes):new Uint8Array(n.contents):new Uint8Array(0)},expandFileStorage:function(n,e){var s=n.contents?n.contents.length:0;if(!(s>=e)){var r=1024*1024;e=Math.max(e,s*(s<r?2:1.125)>>>0),s!=0&&(e=Math.max(e,256));var i=n.contents;n.contents=new Uint8Array(e),n.usedBytes>0&&n.contents.set(i.subarray(0,n.usedBytes),0)}},resizeFileStorage:function(n,e){if(n.usedBytes!=e)if(e==0)n.contents=null,n.usedBytes=0;else{var s=n.contents;n.contents=new Uint8Array(e),s&&n.contents.set(s.subarray(0,Math.min(e,n.usedBytes))),n.usedBytes=e}},node_ops:{getattr:function(n){var e={};return e.dev=o.isChrdev(n.mode)?n.id:1,e.ino=n.id,e.mode=n.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=n.rdev,o.isDir(n.mode)?e.size=4096:o.isFile(n.mode)?e.size=n.usedBytes:o.isLink(n.mode)?e.size=n.link.length:e.size=0,e.atime=new Date(n.timestamp),e.mtime=new Date(n.timestamp),e.ctime=new Date(n.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr:function(n,e){e.mode!==void 0&&(n.mode=e.mode),e.timestamp!==void 0&&(n.timestamp=e.timestamp),e.size!==void 0&&oe.resizeFileStorage(n,e.size)},lookup:function(n,e){throw o.genericErrors[44]},mknod:function(n,e,s,r){return oe.createNode(n,e,s,r)},rename:function(n,e,s){if(o.isDir(n.mode)){var r;try{r=o.lookupNode(e,s)}catch{}if(r)for(var i in r.contents)throw new o.ErrnoError(55)}delete n.parent.contents[n.name],n.parent.timestamp=Date.now(),n.name=s,e.contents[s]=n,e.timestamp=n.parent.timestamp,n.parent=e},unlink:function(n,e){delete n.contents[e],n.timestamp=Date.now()},rmdir:function(n,e){var s=o.lookupNode(n,e);for(var r in s.contents)throw new o.ErrnoError(55);delete n.contents[e],n.timestamp=Date.now()},readdir:function(n){var e=[".",".."];for(var s in n.contents)n.contents.hasOwnProperty(s)&&e.push(s);return e},symlink:function(n,e,s){var r=oe.createNode(n,e,41471,0);return r.link=s,r},readlink:function(n){if(!o.isLink(n.mode))throw new o.ErrnoError(28);return n.link}},stream_ops:{read:function(n,e,s,r,i){var l=n.node.contents;if(i>=n.node.usedBytes)return 0;var h=Math.min(n.node.usedBytes-i,r);if(h>8&&l.subarray)e.set(l.subarray(i,i+h),s);else for(var w=0;w<h;w++)e[s+w]=l[i+w];return h},write:function(n,e,s,r,i,l){if(e.buffer===ve.buffer&&(l=!1),!r)return 0;var h=n.node;if(h.timestamp=Date.now(),e.subarray&&(!h.contents||h.contents.subarray)){if(l)return h.contents=e.subarray(s,s+r),h.usedBytes=r,r;if(h.usedBytes===0&&i===0)return h.contents=e.slice(s,s+r),h.usedBytes=r,r;if(i+r<=h.usedBytes)return h.contents.set(e.subarray(s,s+r),i),r}if(oe.expandFileStorage(h,i+r),h.contents.subarray&&e.subarray)h.contents.set(e.subarray(s,s+r),i);else for(var w=0;w<r;w++)h.contents[i+w]=e[s+w];return h.usedBytes=Math.max(h.usedBytes,i+r),r},llseek:function(n,e,s){var r=e;if(s===1?r+=n.position:s===2&&o.isFile(n.node.mode)&&(r+=n.node.usedBytes),r<0)throw new o.ErrnoError(28);return r},allocate:function(n,e,s){oe.expandFileStorage(n.node,e+s),n.node.usedBytes=Math.max(n.node.usedBytes,e+s)},mmap:function(n,e,s,r,i){if(!o.isFile(n.node.mode))throw new o.ErrnoError(43);var l,h,w=n.node.contents;if(!(i&2)&&w.buffer===ve.buffer)h=!1,l=w.byteOffset;else{if((s>0||s+e<w.length)&&(w.subarray?w=w.subarray(s,s+e):w=Array.prototype.slice.call(w,s,s+e)),h=!0,l=At(e),!l)throw new o.ErrnoError(48);ve.set(w,l)}return{ptr:l,allocated:h}},msync:function(n,e,s,r,i){return oe.stream_ops.write(n,e,0,r,s,!1),0}}};function Zt(n,e,s,r){var i=r?"":"al "+n;dt(n,l=>{jt(l,'Loading data file "'+n+'" failed (no arrayBuffer).'),e(new Uint8Array(l)),i&&$e()},l=>{if(s)s();else throw'Loading data file "'+n+'" failed.'}),i&&nt()}var o={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(n,e={})=>{if(n=Te.resolve(n),!n)return{path:"",node:null};var s={follow_mount:!0,recurse_count:0};if(e=Object.assign(s,e),e.recurse_count>8)throw new o.ErrnoError(32);for(var r=n.split("/").filter($=>!!$),i=o.root,l="/",h=0;h<r.length;h++){var w=h===r.length-1;if(w&&e.parent)break;if(i=o.lookupNode(i,r[h]),l=de.join2(l,r[h]),o.isMountpoint(i)&&(!w||w&&e.follow_mount)&&(i=i.mounted.root),!w||e.follow)for(var O=0;o.isLink(i.mode);){var B=o.readlink(l);l=Te.resolve(de.dirname(l),B);var Q=o.lookupPath(l,{recurse_count:e.recurse_count+1});if(i=Q.node,O++>40)throw new o.ErrnoError(32)}}return{path:l,node:i}},getPath:n=>{for(var e;;){if(o.isRoot(n)){var s=n.mount.mountpoint;return e?s[s.length-1]!=="/"?s+"/"+e:s+e:s}e=e?n.name+"/"+e:n.name,n=n.parent}},hashName:(n,e)=>{for(var s=0,r=0;r<e.length;r++)s=(s<<5)-s+e.charCodeAt(r)|0;return(n+s>>>0)%o.nameTable.length},hashAddNode:n=>{var e=o.hashName(n.parent.id,n.name);n.name_next=o.nameTable[e],o.nameTable[e]=n},hashRemoveNode:n=>{var e=o.hashName(n.parent.id,n.name);if(o.nameTable[e]===n)o.nameTable[e]=n.name_next;else for(var s=o.nameTable[e];s;){if(s.name_next===n){s.name_next=n.name_next;break}s=s.name_next}},lookupNode:(n,e)=>{var s=o.mayLookup(n);if(s)throw new o.ErrnoError(s,n);for(var r=o.hashName(n.id,e),i=o.nameTable[r];i;i=i.name_next){var l=i.name;if(i.parent.id===n.id&&l===e)return i}return o.lookup(n,e)},createNode:(n,e,s,r)=>{var i=new o.FSNode(n,e,s,r);return o.hashAddNode(i),i},destroyNode:n=>{o.hashRemoveNode(n)},isRoot:n=>n===n.parent,isMountpoint:n=>!!n.mounted,isFile:n=>(n&61440)===32768,isDir:n=>(n&61440)===16384,isLink:n=>(n&61440)===40960,isChrdev:n=>(n&61440)===8192,isBlkdev:n=>(n&61440)===24576,isFIFO:n=>(n&61440)===4096,isSocket:n=>(n&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:n=>{var e=o.flagModes[n];if(typeof e>"u")throw new Error("Unknown file open mode: "+n);return e},flagsToPermissionString:n=>{var e=["r","w","rw"][n&3];return n&512&&(e+="w"),e},nodePermissions:(n,e)=>o.ignorePermissions?0:e.includes("r")&&!(n.mode&292)||e.includes("w")&&!(n.mode&146)||e.includes("x")&&!(n.mode&73)?2:0,mayLookup:n=>{var e=o.nodePermissions(n,"x");return e||(n.node_ops.lookup?0:2)},mayCreate:(n,e)=>{try{var s=o.lookupNode(n,e);return 20}catch{}return o.nodePermissions(n,"wx")},mayDelete:(n,e,s)=>{var r;try{r=o.lookupNode(n,e)}catch(l){return l.errno}var i=o.nodePermissions(n,"wx");if(i)return i;if(s){if(!o.isDir(r.mode))return 54;if(o.isRoot(r)||o.getPath(r)===o.cwd())return 10}else if(o.isDir(r.mode))return 31;return 0},mayOpen:(n,e)=>n?o.isLink(n.mode)?32:o.isDir(n.mode)&&(o.flagsToPermissionString(e)!=="r"||e&512)?31:o.nodePermissions(n,o.flagsToPermissionString(e)):44,MAX_OPEN_FDS:4096,nextfd:(n=0,e=o.MAX_OPEN_FDS)=>{for(var s=n;s<=e;s++)if(!o.streams[s])return s;throw new o.ErrnoError(33)},getStream:n=>o.streams[n],createStream:(n,e,s)=>{o.FSStream||(o.FSStream=function(){this.shared={}},o.FSStream.prototype={},Object.defineProperties(o.FSStream.prototype,{object:{get:function(){return this.node},set:function(i){this.node=i}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(i){this.shared.flags=i}},position:{get:function(){return this.shared.position},set:function(i){this.shared.position=i}}})),n=Object.assign(new o.FSStream,n);var r=o.nextfd(e,s);return n.fd=r,o.streams[r]=n,n},closeStream:n=>{o.streams[n]=null},chrdev_stream_ops:{open:n=>{var e=o.getDevice(n.node.rdev);n.stream_ops=e.stream_ops,n.stream_ops.open&&n.stream_ops.open(n)},llseek:()=>{throw new o.ErrnoError(70)}},major:n=>n>>8,minor:n=>n&255,makedev:(n,e)=>n<<8|e,registerDevice:(n,e)=>{o.devices[n]={stream_ops:e}},getDevice:n=>o.devices[n],getMounts:n=>{for(var e=[],s=[n];s.length;){var r=s.pop();e.push(r),s.push.apply(s,r.mounts)}return e},syncfs:(n,e)=>{typeof n=="function"&&(e=n,n=!1),o.syncFSRequests++,o.syncFSRequests>1&&Pe("warning: "+o.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var s=o.getMounts(o.root.mount),r=0;function i(h){return o.syncFSRequests--,e(h)}function l(h){if(h)return l.errored?void 0:(l.errored=!0,i(h));++r>=s.length&&i(null)}s.forEach(h=>{if(!h.type.syncfs)return l(null);h.type.syncfs(h,n,l)})},mount:(n,e,s)=>{var r=s==="/",i=!s,l;if(r&&o.root)throw new o.ErrnoError(10);if(!r&&!i){var h=o.lookupPath(s,{follow_mount:!1});if(s=h.path,l=h.node,o.isMountpoint(l))throw new o.ErrnoError(10);if(!o.isDir(l.mode))throw new o.ErrnoError(54)}var w={type:n,opts:e,mountpoint:s,mounts:[]},O=n.mount(w);return O.mount=w,w.root=O,r?o.root=O:l&&(l.mounted=w,l.mount&&l.mount.mounts.push(w)),O},unmount:n=>{var e=o.lookupPath(n,{follow_mount:!1});if(!o.isMountpoint(e.node))throw new o.ErrnoError(28);var s=e.node,r=s.mounted,i=o.getMounts(r);Object.keys(o.nameTable).forEach(h=>{for(var w=o.nameTable[h];w;){var O=w.name_next;i.includes(w.mount)&&o.destroyNode(w),w=O}}),s.mounted=null;var l=s.mount.mounts.indexOf(r);s.mount.mounts.splice(l,1)},lookup:(n,e)=>n.node_ops.lookup(n,e),mknod:(n,e,s)=>{var r=o.lookupPath(n,{parent:!0}),i=r.node,l=de.basename(n);if(!l||l==="."||l==="..")throw new o.ErrnoError(28);var h=o.mayCreate(i,l);if(h)throw new o.ErrnoError(h);if(!i.node_ops.mknod)throw new o.ErrnoError(63);return i.node_ops.mknod(i,l,e,s)},create:(n,e)=>(e=e!==void 0?e:438,e&=4095,e|=32768,o.mknod(n,e,0)),mkdir:(n,e)=>(e=e!==void 0?e:511,e&=1023,e|=16384,o.mknod(n,e,0)),mkdirTree:(n,e)=>{for(var s=n.split("/"),r="",i=0;i<s.length;++i)if(s[i]){r+="/"+s[i];try{o.mkdir(r,e)}catch(l){if(l.errno!=20)throw l}}},mkdev:(n,e,s)=>(typeof s>"u"&&(s=e,e=438),e|=8192,o.mknod(n,e,s)),symlink:(n,e)=>{if(!Te.resolve(n))throw new o.ErrnoError(44);var s=o.lookupPath(e,{parent:!0}),r=s.node;if(!r)throw new o.ErrnoError(44);var i=de.basename(e),l=o.mayCreate(r,i);if(l)throw new o.ErrnoError(l);if(!r.node_ops.symlink)throw new o.ErrnoError(63);return r.node_ops.symlink(r,i,n)},rename:(n,e)=>{var s=de.dirname(n),r=de.dirname(e),i=de.basename(n),l=de.basename(e),h,w,O;if(h=o.lookupPath(n,{parent:!0}),w=h.node,h=o.lookupPath(e,{parent:!0}),O=h.node,!w||!O)throw new o.ErrnoError(44);if(w.mount!==O.mount)throw new o.ErrnoError(75);var B=o.lookupNode(w,i),Q=Te.relative(n,r);if(Q.charAt(0)!==".")throw new o.ErrnoError(28);if(Q=Te.relative(e,s),Q.charAt(0)!==".")throw new o.ErrnoError(55);var $;try{$=o.lookupNode(O,l)}catch{}if(B!==$){var I=o.isDir(B.mode),f=o.mayDelete(w,i,I);if(f)throw new o.ErrnoError(f);if(f=$?o.mayDelete(O,l,I):o.mayCreate(O,l),f)throw new o.ErrnoError(f);if(!w.node_ops.rename)throw new o.ErrnoError(63);if(o.isMountpoint(B)||$&&o.isMountpoint($))throw new o.ErrnoError(10);if(O!==w&&(f=o.nodePermissions(w,"w"),f))throw new o.ErrnoError(f);o.hashRemoveNode(B);try{w.node_ops.rename(B,O,l)}catch(p){throw p}finally{o.hashAddNode(B)}}},rmdir:n=>{var e=o.lookupPath(n,{parent:!0}),s=e.node,r=de.basename(n),i=o.lookupNode(s,r),l=o.mayDelete(s,r,!0);if(l)throw new o.ErrnoError(l);if(!s.node_ops.rmdir)throw new o.ErrnoError(63);if(o.isMountpoint(i))throw new o.ErrnoError(10);s.node_ops.rmdir(s,r),o.destroyNode(i)},readdir:n=>{var e=o.lookupPath(n,{follow:!0}),s=e.node;if(!s.node_ops.readdir)throw new o.ErrnoError(54);return s.node_ops.readdir(s)},unlink:n=>{var e=o.lookupPath(n,{parent:!0}),s=e.node;if(!s)throw new o.ErrnoError(44);var r=de.basename(n),i=o.lookupNode(s,r),l=o.mayDelete(s,r,!1);if(l)throw new o.ErrnoError(l);if(!s.node_ops.unlink)throw new o.ErrnoError(63);if(o.isMountpoint(i))throw new o.ErrnoError(10);s.node_ops.unlink(s,r),o.destroyNode(i)},readlink:n=>{var e=o.lookupPath(n),s=e.node;if(!s)throw new o.ErrnoError(44);if(!s.node_ops.readlink)throw new o.ErrnoError(28);return Te.resolve(o.getPath(s.parent),s.node_ops.readlink(s))},stat:(n,e)=>{var s=o.lookupPath(n,{follow:!e}),r=s.node;if(!r)throw new o.ErrnoError(44);if(!r.node_ops.getattr)throw new o.ErrnoError(63);return r.node_ops.getattr(r)},lstat:n=>o.stat(n,!0),chmod:(n,e,s)=>{var r;if(typeof n=="string"){var i=o.lookupPath(n,{follow:!s});r=i.node}else r=n;if(!r.node_ops.setattr)throw new o.ErrnoError(63);r.node_ops.setattr(r,{mode:e&4095|r.mode&-4096,timestamp:Date.now()})},lchmod:(n,e)=>{o.chmod(n,e,!0)},fchmod:(n,e)=>{var s=o.getStream(n);if(!s)throw new o.ErrnoError(8);o.chmod(s.node,e)},chown:(n,e,s,r)=>{var i;if(typeof n=="string"){var l=o.lookupPath(n,{follow:!r});i=l.node}else i=n;if(!i.node_ops.setattr)throw new o.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:(n,e,s)=>{o.chown(n,e,s,!0)},fchown:(n,e,s)=>{var r=o.getStream(n);if(!r)throw new o.ErrnoError(8);o.chown(r.node,e,s)},truncate:(n,e)=>{if(e<0)throw new o.ErrnoError(28);var s;if(typeof n=="string"){var r=o.lookupPath(n,{follow:!0});s=r.node}else s=n;if(!s.node_ops.setattr)throw new o.ErrnoError(63);if(o.isDir(s.mode))throw new o.ErrnoError(31);if(!o.isFile(s.mode))throw new o.ErrnoError(28);var i=o.nodePermissions(s,"w");if(i)throw new o.ErrnoError(i);s.node_ops.setattr(s,{size:e,timestamp:Date.now()})},ftruncate:(n,e)=>{var s=o.getStream(n);if(!s)throw new o.ErrnoError(8);if(!(s.flags&2097155))throw new o.ErrnoError(28);o.truncate(s.node,e)},utime:(n,e,s)=>{var r=o.lookupPath(n,{follow:!0}),i=r.node;i.node_ops.setattr(i,{timestamp:Math.max(e,s)})},open:(n,e,s)=>{if(n==="")throw new o.ErrnoError(44);e=typeof e=="string"?o.modeStringToFlags(e):e,s=typeof s>"u"?438:s,e&64?s=s&4095|32768:s=0;var r;if(typeof n=="object")r=n;else{n=de.normalize(n);try{var i=o.lookupPath(n,{follow:!(e&131072)});r=i.node}catch{}}var l=!1;if(e&64)if(r){if(e&128)throw new o.ErrnoError(20)}else r=o.mknod(n,s,0),l=!0;if(!r)throw new o.ErrnoError(44);if(o.isChrdev(r.mode)&&(e&=-513),e&65536&&!o.isDir(r.mode))throw new o.ErrnoError(54);if(!l){var h=o.mayOpen(r,e);if(h)throw new o.ErrnoError(h)}e&512&&!l&&o.truncate(r,0),e&=-131713;var w=o.createStream({node:r,path:o.getPath(r),flags:e,seekable:!0,position:0,stream_ops:r.stream_ops,ungotten:[],error:!1});return w.stream_ops.open&&w.stream_ops.open(w),t.logReadFiles&&!(e&1)&&(o.readFiles||(o.readFiles={}),n in o.readFiles||(o.readFiles[n]=1)),w},close:n=>{if(o.isClosed(n))throw new o.ErrnoError(8);n.getdents&&(n.getdents=null);try{n.stream_ops.close&&n.stream_ops.close(n)}catch(e){throw e}finally{o.closeStream(n.fd)}n.fd=null},isClosed:n=>n.fd===null,llseek:(n,e,s)=>{if(o.isClosed(n))throw new o.ErrnoError(8);if(!n.seekable||!n.stream_ops.llseek)throw new o.ErrnoError(70);if(s!=0&&s!=1&&s!=2)throw new o.ErrnoError(28);return n.position=n.stream_ops.llseek(n,e,s),n.ungotten=[],n.position},read:(n,e,s,r,i)=>{if(r<0||i<0)throw new o.ErrnoError(28);if(o.isClosed(n))throw new o.ErrnoError(8);if((n.flags&2097155)===1)throw new o.ErrnoError(8);if(o.isDir(n.node.mode))throw new o.ErrnoError(31);if(!n.stream_ops.read)throw new o.ErrnoError(28);var l=typeof i<"u";if(!l)i=n.position;else if(!n.seekable)throw new o.ErrnoError(70);var h=n.stream_ops.read(n,e,s,r,i);return l||(n.position+=h),h},write:(n,e,s,r,i,l)=>{if(r<0||i<0)throw new o.ErrnoError(28);if(o.isClosed(n))throw new o.ErrnoError(8);if(!(n.flags&2097155))throw new o.ErrnoError(8);if(o.isDir(n.node.mode))throw new o.ErrnoError(31);if(!n.stream_ops.write)throw new o.ErrnoError(28);n.seekable&&n.flags&1024&&o.llseek(n,0,2);var h=typeof i<"u";if(!h)i=n.position;else if(!n.seekable)throw new o.ErrnoError(70);var w=n.stream_ops.write(n,e,s,r,i,l);return h||(n.position+=w),w},allocate:(n,e,s)=>{if(o.isClosed(n))throw new o.ErrnoError(8);if(e<0||s<=0)throw new o.ErrnoError(28);if(!(n.flags&2097155))throw new o.ErrnoError(8);if(!o.isFile(n.node.mode)&&!o.isDir(n.node.mode))throw new o.ErrnoError(43);if(!n.stream_ops.allocate)throw new o.ErrnoError(138);n.stream_ops.allocate(n,e,s)},mmap:(n,e,s,r,i)=>{if(r&2&&!(i&2)&&(n.flags&2097155)!==2)throw new o.ErrnoError(2);if((n.flags&2097155)===1)throw new o.ErrnoError(2);if(!n.stream_ops.mmap)throw new o.ErrnoError(43);return n.stream_ops.mmap(n,e,s,r,i)},msync:(n,e,s,r,i)=>n.stream_ops.msync?n.stream_ops.msync(n,e,s,r,i):0,munmap:n=>0,ioctl:(n,e,s)=>{if(!n.stream_ops.ioctl)throw new o.ErrnoError(59);return n.stream_ops.ioctl(n,e,s)},readFile:(n,e={})=>{if(e.flags=e.flags||0,e.encoding=e.encoding||"binary",e.encoding!=="utf8"&&e.encoding!=="binary")throw new Error('Invalid encoding type "'+e.encoding+'"');var s,r=o.open(n,e.flags),i=o.stat(n),l=i.size,h=new Uint8Array(l);return o.read(r,h,0,l,0),e.encoding==="utf8"?s=Ne(h,0):e.encoding==="binary"&&(s=h),o.close(r),s},writeFile:(n,e,s={})=>{s.flags=s.flags||577;var r=o.open(n,s.flags,s.mode);if(typeof e=="string"){var i=new Uint8Array(ze(e)+1),l=Ge(e,i,0,i.length);o.write(r,i,0,l,void 0,s.canOwn)}else if(ArrayBuffer.isView(e))o.write(r,e,0,e.byteLength,void 0,s.canOwn);else throw new Error("Unsupported data type");o.close(r)},cwd:()=>o.currentPath,chdir:n=>{var e=o.lookupPath(n,{follow:!0});if(e.node===null)throw new o.ErrnoError(44);if(!o.isDir(e.node.mode))throw new o.ErrnoError(54);var s=o.nodePermissions(e.node,"x");if(s)throw new o.ErrnoError(s);o.currentPath=e.path},createDefaultDirectories:()=>{o.mkdir("/tmp"),o.mkdir("/home"),o.mkdir("/home/web_user")},createDefaultDevices:()=>{o.mkdir("/dev"),o.registerDevice(o.makedev(1,3),{read:()=>0,write:(e,s,r,i,l)=>i}),o.mkdev("/dev/null",o.makedev(1,3)),Re.register(o.makedev(5,0),Re.default_tty_ops),Re.register(o.makedev(6,0),Re.default_tty1_ops),o.mkdev("/dev/tty",o.makedev(5,0)),o.mkdev("/dev/tty1",o.makedev(6,0));var n=Jt();o.createDevice("/dev","random",n),o.createDevice("/dev","urandom",n),o.mkdir("/dev/shm"),o.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{o.mkdir("/proc");var n=o.mkdir("/proc/self");o.mkdir("/proc/self/fd"),o.mount({mount:()=>{var e=o.createNode(n,"fd",16895,73);return e.node_ops={lookup:(s,r)=>{var i=+r,l=o.getStream(i);if(!l)throw new o.ErrnoError(8);var h={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>l.path}};return h.parent=h,h}},e}},{},"/proc/self/fd")},createStandardStreams:()=>{t.stdin?o.createDevice("/dev","stdin",t.stdin):o.symlink("/dev/tty","/dev/stdin"),t.stdout?o.createDevice("/dev","stdout",null,t.stdout):o.symlink("/dev/tty","/dev/stdout"),t.stderr?o.createDevice("/dev","stderr",null,t.stderr):o.symlink("/dev/tty1","/dev/stderr"),o.open("/dev/stdin",0),o.open("/dev/stdout",1),o.open("/dev/stderr",1)},ensureErrnoError:()=>{o.ErrnoError||(o.ErrnoError=function(e,s){this.node=s,this.setErrno=function(r){this.errno=r},this.setErrno(e),this.message="FS error"},o.ErrnoError.prototype=new Error,o.ErrnoError.prototype.constructor=o.ErrnoError,[44].forEach(n=>{o.genericErrors[n]=new o.ErrnoError(n),o.genericErrors[n].stack="<generic error, no stack>"}))},staticInit:()=>{o.ensureErrnoError(),o.nameTable=new Array(4096),o.mount(oe,{},"/"),o.createDefaultDirectories(),o.createDefaultDevices(),o.createSpecialDirectories(),o.filesystems={MEMFS:oe}},init:(n,e,s)=>{o.init.initialized=!0,o.ensureErrnoError(),t.stdin=n||t.stdin,t.stdout=e||t.stdout,t.stderr=s||t.stderr,o.createStandardStreams()},quit:()=>{o.init.initialized=!1;for(var n=0;n<o.streams.length;n++){var e=o.streams[n];e&&o.close(e)}},getMode:(n,e)=>{var s=0;return n&&(s|=365),e&&(s|=146),s},findObject:(n,e)=>{var s=o.analyzePath(n,e);return s.exists?s.object:null},analyzePath:(n,e)=>{try{var s=o.lookupPath(n,{follow:!e});n=s.path}catch{}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var s=o.lookupPath(n,{parent:!0});r.parentExists=!0,r.parentPath=s.path,r.parentObject=s.node,r.name=de.basename(n),s=o.lookupPath(n,{follow:!e}),r.exists=!0,r.path=s.path,r.object=s.node,r.name=s.node.name,r.isRoot=s.path==="/"}catch(i){r.error=i.errno}return r},createPath:(n,e,s,r)=>{n=typeof n=="string"?n:o.getPath(n);for(var i=e.split("/").reverse();i.length;){var l=i.pop();if(l){var h=de.join2(n,l);try{o.mkdir(h)}catch{}n=h}}return h},createFile:(n,e,s,r,i)=>{var l=de.join2(typeof n=="string"?n:o.getPath(n),e),h=o.getMode(r,i);return o.create(l,h)},createDataFile:(n,e,s,r,i,l)=>{var h=e;n&&(n=typeof n=="string"?n:o.getPath(n),h=e?de.join2(n,e):n);var w=o.getMode(r,i),O=o.create(h,w);if(s){if(typeof s=="string"){for(var B=new Array(s.length),Q=0,$=s.length;Q<$;++Q)B[Q]=s.charCodeAt(Q);s=B}o.chmod(O,w|146);var I=o.open(O,577);o.write(I,s,0,s.length,0,l),o.close(I),o.chmod(O,w)}return O},createDevice:(n,e,s,r)=>{var i=de.join2(typeof n=="string"?n:o.getPath(n),e),l=o.getMode(!!s,!!r);o.createDevice.major||(o.createDevice.major=64);var h=o.makedev(o.createDevice.major++,0);return o.registerDevice(h,{open:w=>{w.seekable=!1},close:w=>{r&&r.buffer&&r.buffer.length&&r(10)},read:(w,O,B,Q,$)=>{for(var I=0,f=0;f<Q;f++){var p;try{p=s()}catch{throw new o.ErrnoError(29)}if(p===void 0&&I===0)throw new o.ErrnoError(6);if(p==null)break;I++,O[B+f]=p}return I&&(w.node.timestamp=Date.now()),I},write:(w,O,B,Q,$)=>{for(var I=0;I<Q;I++)try{r(O[B+I])}catch{throw new o.ErrnoError(29)}return Q&&(w.node.timestamp=Date.now()),I}}),o.mkdev(i,l,h)},forceLoadFile:n=>{if(n.isDevice||n.isFolder||n.link||n.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(et)try{n.contents=st(et(n.url),!0),n.usedBytes=n.contents.length}catch{throw new o.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(n,e,s,r,i)=>{function l(){this.lengthKnown=!1,this.chunks=[]}if(l.prototype.get=function(f){if(!(f>this.length-1||f<0)){var p=f%this.chunkSize,q=f/this.chunkSize|0;return this.getter(q)[p]}},l.prototype.setDataGetter=function(f){this.getter=f},l.prototype.cacheLength=function(){var f=new XMLHttpRequest;if(f.open("HEAD",s,!1),f.send(null),!(f.status>=200&&f.status<300||f.status===304))throw new Error("Couldn't load "+s+". Status: "+f.status);var p=Number(f.getResponseHeader("Content-length")),q,S=(q=f.getResponseHeader("Accept-Ranges"))&&q==="bytes",g=(q=f.getResponseHeader("Content-Encoding"))&&q==="gzip",C=1024*1024;S||(C=p);var j=(D,te)=>{if(D>te)throw new Error("invalid range ("+D+", "+te+") or no bytes requested!");if(te>p-1)throw new Error("only "+p+" bytes available! programmer error!");var _=new XMLHttpRequest;if(_.open("GET",s,!1),p!==C&&_.setRequestHeader("Range","bytes="+D+"-"+te),_.responseType="arraybuffer",_.overrideMimeType&&_.overrideMimeType("text/plain; charset=x-user-defined"),_.send(null),!(_.status>=200&&_.status<300||_.status===304))throw new Error("Couldn't load "+s+". Status: "+_.status);return _.response!==void 0?new Uint8Array(_.response||[]):st(_.responseText||"",!0)},U=this;U.setDataGetter(D=>{var te=D*C,_=(D+1)*C-1;if(_=Math.min(_,p-1),typeof U.chunks[D]>"u"&&(U.chunks[D]=j(te,_)),typeof U.chunks[D]>"u")throw new Error("doXHR failed!");return U.chunks[D]}),(g||!p)&&(C=p=1,p=this.getter(0).length,C=p,Ve("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=p,this._chunkSize=C,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Be)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var h=new l;Object.defineProperties(h,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var w={isDevice:!1,contents:h}}else var w={isDevice:!1,url:s};var O=o.createFile(n,e,w,r,i);w.contents?O.contents=w.contents:w.url&&(O.contents=null,O.url=w.url),Object.defineProperties(O,{usedBytes:{get:function(){return this.contents.length}}});var B={},Q=Object.keys(O.stream_ops);Q.forEach(I=>{var f=O.stream_ops[I];B[I]=function(){return o.forceLoadFile(O),f.apply(null,arguments)}});function $(I,f,p,q,S){var g=I.node.contents;if(S>=g.length)return 0;var C=Math.min(g.length-S,q);if(g.slice)for(var j=0;j<C;j++)f[p+j]=g[S+j];else for(var j=0;j<C;j++)f[p+j]=g.get(S+j);return C}return B.read=(I,f,p,q,S)=>(o.forceLoadFile(O),$(I,f,p,q,S)),B.mmap=(I,f,p,q,S)=>{o.forceLoadFile(O);var g=At(f);if(!g)throw new o.ErrnoError(48);return $(I,ve,g,f,p),{ptr:g,allocated:!0}},O.stream_ops=B,O},createPreloadedFile:(n,e,s,r,i,l,h,w,O,B)=>{var Q=e?Te.resolve(de.join2(n,e)):n;function $(I){function f(p){B&&B(),w||o.createDataFile(n,e,p,r,i,O),l&&l(),$e()}Browser.handledByPreloadPlugin(I,Q,f,()=>{h&&h(),$e()})||f(I)}nt(),typeof s=="string"?Zt(s,I=>$(I),h):$(s)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(n,e,s)=>{e=e||(()=>{}),s=s||(()=>{});var r=o.indexedDB();try{var i=r.open(o.DB_NAME(),o.DB_VERSION)}catch(l){return s(l)}i.onupgradeneeded=()=>{Ve("creating db");var l=i.result;l.createObjectStore(o.DB_STORE_NAME)},i.onsuccess=()=>{var l=i.result,h=l.transaction([o.DB_STORE_NAME],"readwrite"),w=h.objectStore(o.DB_STORE_NAME),O=0,B=0,Q=n.length;function $(){B==0?e():s()}n.forEach(I=>{var f=w.put(o.analyzePath(I).object.contents,I);f.onsuccess=()=>{O++,O+B==Q&&$()},f.onerror=()=>{B++,O+B==Q&&$()}}),h.onerror=s},i.onerror=s},loadFilesFromDB:(n,e,s)=>{e=e||(()=>{}),s=s||(()=>{});var r=o.indexedDB();try{var i=r.open(o.DB_NAME(),o.DB_VERSION)}catch(l){return s(l)}i.onupgradeneeded=s,i.onsuccess=()=>{var l=i.result;try{var h=l.transaction([o.DB_STORE_NAME],"readonly")}catch(I){s(I);return}var w=h.objectStore(o.DB_STORE_NAME),O=0,B=0,Q=n.length;function $(){B==0?e():s()}n.forEach(I=>{var f=w.get(I);f.onsuccess=()=>{o.analyzePath(I).exists&&o.unlink(I),o.createDataFile(de.dirname(I),de.basename(I),f.result,!0,!0,!0),O++,O+B==Q&&$()},f.onerror=()=>{B++,O+B==Q&&$()}}),h.onerror=s},i.onerror=s}},se={DEFAULT_POLLMASK:5,calculateAt:function(n,e,s){if(de.isAbs(e))return e;var r;if(n===-100)r=o.cwd();else{var i=se.getStreamFromFD(n);r=i.path}if(e.length==0){if(!s)throw new o.ErrnoError(44);return r}return de.join2(r,e)},doStat:function(n,e,s){try{var r=n(e)}catch(w){if(w&&w.node&&de.normalize(e)!==de.normalize(o.getPath(w.node)))return-54;throw w}ae[s>>2]=r.dev,ae[s+8>>2]=r.ino,ae[s+12>>2]=r.mode,ge[s+16>>2]=r.nlink,ae[s+20>>2]=r.uid,ae[s+24>>2]=r.gid,ae[s+28>>2]=r.rdev,qe=[r.size>>>0,(ue=r.size,+Math.abs(ue)>=1?ue>0?(Math.min(+Math.floor(ue/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ue-+(~~ue>>>0))/4294967296)>>>0:0)],ae[s+40>>2]=qe[0],ae[s+44>>2]=qe[1],ae[s+48>>2]=4096,ae[s+52>>2]=r.blocks;var i=r.atime.getTime(),l=r.mtime.getTime(),h=r.ctime.getTime();return qe=[Math.floor(i/1e3)>>>0,(ue=Math.floor(i/1e3),+Math.abs(ue)>=1?ue>0?(Math.min(+Math.floor(ue/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ue-+(~~ue>>>0))/4294967296)>>>0:0)],ae[s+56>>2]=qe[0],ae[s+60>>2]=qe[1],ge[s+64>>2]=i%1e3*1e3,qe=[Math.floor(l/1e3)>>>0,(ue=Math.floor(l/1e3),+Math.abs(ue)>=1?ue>0?(Math.min(+Math.floor(ue/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ue-+(~~ue>>>0))/4294967296)>>>0:0)],ae[s+72>>2]=qe[0],ae[s+76>>2]=qe[1],ge[s+80>>2]=l%1e3*1e3,qe=[Math.floor(h/1e3)>>>0,(ue=Math.floor(h/1e3),+Math.abs(ue)>=1?ue>0?(Math.min(+Math.floor(ue/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ue-+(~~ue>>>0))/4294967296)>>>0:0)],ae[s+88>>2]=qe[0],ae[s+92>>2]=qe[1],ge[s+96>>2]=h%1e3*1e3,qe=[r.ino>>>0,(ue=r.ino,+Math.abs(ue)>=1?ue>0?(Math.min(+Math.floor(ue/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ue-+(~~ue>>>0))/4294967296)>>>0:0)],ae[s+104>>2]=qe[0],ae[s+108>>2]=qe[1],0},doMsync:function(n,e,s,r,i){if(!o.isFile(e.node.mode))throw new o.ErrnoError(43);if(r&2)return 0;var l=Me.slice(n,n+s);o.msync(e,l,i,s,r)},varargs:void 0,get:function(){se.varargs+=4;var n=ae[se.varargs-4>>2];return n},getStr:function(n){var e=Bt(n);return e},getStreamFromFD:function(n){var e=o.getStream(n);if(!e)throw new o.ErrnoError(8);return e}};function en(n,e){try{return n=se.getStr(n),o.chmod(n,e),0}catch(s){if(typeof o>"u"||!(s instanceof o.ErrnoError))throw s;return-s.errno}}function tn(n,e,s,r){try{if(e=se.getStr(e),e=se.calculateAt(n,e),s&-8)return-28;var i=o.lookupPath(e,{follow:!0}),l=i.node;if(!l)return-44;var h="";return s&4&&(h+="r"),s&2&&(h+="w"),s&1&&(h+="x"),h&&o.nodePermissions(l,h)?-2:0}catch(w){if(typeof o>"u"||!(w instanceof o.ErrnoError))throw w;return-w.errno}}function nn(n,e){try{return o.fchmod(n,e),0}catch(s){if(typeof o>"u"||!(s instanceof o.ErrnoError))throw s;return-s.errno}}function rn(n,e,s){try{return o.fchown(n,e,s),0}catch(r){if(typeof o>"u"||!(r instanceof o.ErrnoError))throw r;return-r.errno}}function sn(n){return ae[Pt()>>2]=n,n}function on(n,e,s){se.varargs=s;try{var r=se.getStreamFromFD(n);switch(e){case 0:{var i=se.get();if(i<0)return-28;var l;return l=o.createStream(r,i),l.fd}case 1:case 2:return 0;case 3:return r.flags;case 4:{var i=se.get();return r.flags|=i,0}case 5:{var i=se.get(),h=0;return yt[i+h>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return sn(28),-1;default:return-28}}catch(w){if(typeof o>"u"||!(w instanceof o.ErrnoError))throw w;return-w.errno}}function ln(n,e){try{var s=se.getStreamFromFD(n);return se.doStat(o.stat,s.path,e)}catch(r){if(typeof o>"u"||!(r instanceof o.ErrnoError))throw r;return-r.errno}}var an=9007199254740992,cn=-9007199254740992;function It(n){return n<cn||n>an?NaN:Number(n)}function un(n,e){try{return e=It(e),isNaN(e)?-61:(o.ftruncate(n,e),0)}catch(s){if(typeof o>"u"||!(s instanceof o.ErrnoError))throw s;return-s.errno}}function _n(n,e){try{if(e===0)return-28;var s=o.cwd(),r=ze(s)+1;return e<r?-68:(gt(s,n,e),r)}catch(i){if(typeof o>"u"||!(i instanceof o.ErrnoError))throw i;return-i.errno}}function fn(n,e,s){se.varargs=s;try{var r=se.getStreamFromFD(n);switch(e){case 21509:case 21505:return r.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return r.tty?0:-59;case 21519:{if(!r.tty)return-59;var i=se.get();return ae[i>>2]=0,0}case 21520:return r.tty?-28:-59;case 21531:{var i=se.get();return o.ioctl(r,e,i)}case 21523:return r.tty?0:-59;case 21524:return r.tty?0:-59;default:return-28}}catch(l){if(typeof o>"u"||!(l instanceof o.ErrnoError))throw l;return-l.errno}}function pn(n,e){try{return n=se.getStr(n),se.doStat(o.lstat,n,e)}catch(s){if(typeof o>"u"||!(s instanceof o.ErrnoError))throw s;return-s.errno}}function dn(n,e,s){try{return e=se.getStr(e),e=se.calculateAt(n,e),e=de.normalize(e),e[e.length-1]==="/"&&(e=e.substr(0,e.length-1)),o.mkdir(e,s,0),0}catch(r){if(typeof o>"u"||!(r instanceof o.ErrnoError))throw r;return-r.errno}}function mn(n,e,s,r){try{e=se.getStr(e);var i=r&256,l=r&4096;return r=r&-6401,e=se.calculateAt(n,e,l),se.doStat(i?o.lstat:o.stat,e,s)}catch(h){if(typeof o>"u"||!(h instanceof o.ErrnoError))throw h;return-h.errno}}function hn(n,e,s,r){se.varargs=r;try{e=se.getStr(e),e=se.calculateAt(n,e);var i=r?se.get():0;return o.open(e,s,i).fd}catch(l){if(typeof o>"u"||!(l instanceof o.ErrnoError))throw l;return-l.errno}}function gn(n,e,s,r){try{if(e=se.getStr(e),e=se.calculateAt(n,e),r<=0)return-28;var i=o.readlink(e),l=Math.min(r,ze(i)),h=ve[s+l];return gt(i,s,r+1),ve[s+l]=h,l}catch(w){if(typeof o>"u"||!(w instanceof o.ErrnoError))throw w;return-w.errno}}function yn(n){try{return n=se.getStr(n),o.rmdir(n),0}catch(e){if(typeof o>"u"||!(e instanceof o.ErrnoError))throw e;return-e.errno}}function qn(n,e){try{return n=se.getStr(n),se.doStat(o.stat,n,e)}catch(s){if(typeof o>"u"||!(s instanceof o.ErrnoError))throw s;return-s.errno}}function bn(n,e,s){try{return e=se.getStr(e),e=se.calculateAt(n,e),s===0?o.unlink(e):s===512?o.rmdir(e):je("Invalid flags passed to unlinkat"),0}catch(r){if(typeof o>"u"||!(r instanceof o.ErrnoError))throw r;return-r.errno}}function it(n){return ge[n>>2]+ae[n+4>>2]*4294967296}function wn(n,e,s,r){try{if(e=se.getStr(e),e=se.calculateAt(n,e,!0),s){var h=it(s),w=ae[s+8>>2];i=h*1e3+w/1e6,s+=16,h=it(s),w=ae[s+8>>2],l=h*1e3+w/1e6}else var i=Date.now(),l=i;return o.utime(e,i,l),0}catch(O){if(typeof o>"u"||!(O instanceof o.ErrnoError))throw O;return-O.errno}}var En=!0;function vn(){return En}function Sn(n){return n%4===0&&(n%100!==0||n%400===0)}var xn=[0,31,60,91,121,152,182,213,244,274,305,335],An=[0,31,59,90,120,151,181,212,243,273,304,334];function In(n){var e=Sn(n.getFullYear()),s=e?xn:An,r=s[n.getMonth()]+n.getDate()-1;return r}function kn(n,e){var s=new Date(it(n)*1e3);ae[e>>2]=s.getSeconds(),ae[e+4>>2]=s.getMinutes(),ae[e+8>>2]=s.getHours(),ae[e+12>>2]=s.getDate(),ae[e+16>>2]=s.getMonth(),ae[e+20>>2]=s.getFullYear()-1900,ae[e+24>>2]=s.getDay();var r=In(s)|0;ae[e+28>>2]=r,ae[e+36>>2]=-(s.getTimezoneOffset()*60);var i=new Date(s.getFullYear(),0,1),l=new Date(s.getFullYear(),6,1).getTimezoneOffset(),h=i.getTimezoneOffset(),w=(l!=h&&s.getTimezoneOffset()==Math.min(h,l))|0;ae[e+32>>2]=w}function Tn(n,e,s,r,i,l,h){try{var w=se.getStreamFromFD(r),O=o.mmap(w,n,i,e,s),B=O.ptr;return ae[l>>2]=O.allocated,ge[h>>2]=B,0}catch(Q){if(typeof o>"u"||!(Q instanceof o.ErrnoError))throw Q;return-Q.errno}}function Fn(n,e,s,r,i,l){try{var h=se.getStreamFromFD(i);s&2&&se.doMsync(n,h,e,r,l),o.munmap(h)}catch(w){if(typeof o>"u"||!(w instanceof o.ErrnoError))throw w;return-w.errno}}function kt(n){var e=ze(n)+1,s=Lt(e);return s&&Ge(n,ve,s,e),s}function On(n,e,s){var r=new Date().getFullYear(),i=new Date(r,0,1),l=new Date(r,6,1),h=i.getTimezoneOffset(),w=l.getTimezoneOffset(),O=Math.max(h,w);ge[n>>2]=O*60,ae[e>>2]=+(h!=w);function B(p){var q=p.toTimeString().match(/\(([A-Za-z ]+)\)$/);return q?q[1]:"GMT"}var Q=B(i),$=B(l),I=kt(Q),f=kt($);w<h?(ge[s>>2]=I,ge[s+4>>2]=f):(ge[s>>2]=f,ge[s+4>>2]=I)}function Pn(){return Date.now()}var Tt;Tt=()=>performance.now();function Ln(){return 2147483648}function Dn(n){var e=Le.buffer;try{return Le.grow(n-e.byteLength+65535>>>16),qt(),1}catch{}}function Cn(n){var e=Me.length;n=n>>>0;var s=Ln();if(n>s)return!1;let r=(O,B)=>O+(B-O%B)%B;for(var i=1;i<=4;i*=2){var l=e*(1+.2/i);l=Math.min(l,n+100663296);var h=Math.min(s,r(Math.max(n,l),65536)),w=Dn(h);if(w)return!0}return!1}var ot={};function Rn(){return ft||"./this.program"}function Qe(){if(!Qe.strings){var n=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:n,_:Rn()};for(var s in ot)ot[s]===void 0?delete e[s]:e[s]=ot[s];var r=[];for(var s in e)r.push(s+"="+e[s]);Qe.strings=r}return Qe.strings}function Nn(n,e,s){for(var r=0;r<n.length;++r)ve[e++>>0]=n.charCodeAt(r);s||(ve[e>>0]=0)}function Mn(n,e){var s=0;return Qe().forEach(function(r,i){var l=e+s;ge[n+i*4>>2]=l,Nn(r,l),s+=r.length+1}),0}function jn(n,e){var s=Qe();ge[n>>2]=s.length;var r=0;return s.forEach(function(i){r+=i.length+1}),ge[e>>2]=r,0}function Bn(n){try{var e=se.getStreamFromFD(n);return o.close(e),0}catch(s){if(typeof o>"u"||!(s instanceof o.ErrnoError))throw s;return s.errno}}function Un(n,e){try{var s=se.getStreamFromFD(n),r=s.tty?2:o.isDir(s.mode)?3:o.isLink(s.mode)?7:4;return ve[e>>0]=r,0}catch(i){if(typeof o>"u"||!(i instanceof o.ErrnoError))throw i;return i.errno}}function zn(n,e,s,r){for(var i=0,l=0;l<s;l++){var h=ge[e>>2],w=ge[e+4>>2];e+=8;var O=o.read(n,ve,h,w,r);if(O<0)return-1;if(i+=O,O<w)break;typeof r<"u"&&(r+=O)}return i}function Wn(n,e,s,r){try{var i=se.getStreamFromFD(n),l=zn(i,e,s);return ge[r>>2]=l,0}catch(h){if(typeof o>"u"||!(h instanceof o.ErrnoError))throw h;return h.errno}}function Qn(n,e,s,r){try{if(e=It(e),isNaN(e))return 61;var i=se.getStreamFromFD(n);return o.llseek(i,e,s),qe=[i.position>>>0,(ue=i.position,+Math.abs(ue)>=1?ue>0?(Math.min(+Math.floor(ue/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ue-+(~~ue>>>0))/4294967296)>>>0:0)],ae[r>>2]=qe[0],ae[r+4>>2]=qe[1],i.getdents&&e===0&&s===0&&(i.getdents=null),0}catch(l){if(typeof o>"u"||!(l instanceof o.ErrnoError))throw l;return l.errno}}function Hn(n){try{var e=se.getStreamFromFD(n);return e.stream_ops&&e.stream_ops.fsync?e.stream_ops.fsync(e):0}catch(s){if(typeof o>"u"||!(s instanceof o.ErrnoError))throw s;return s.errno}}function Vn(n,e,s,r){for(var i=0,l=0;l<s;l++){var h=ge[e>>2],w=ge[e+4>>2];e+=8;var O=o.write(n,ve,h,w,r);if(O<0)return-1;i+=O,typeof r<"u"&&(r+=O)}return i}function Gn(n,e,s,r){try{var i=se.getStreamFromFD(n),l=Vn(i,e,s);return ge[r>>2]=l,0}catch(h){if(typeof o>"u"||!(h instanceof o.ErrnoError))throw h;return h.errno}}var Ft=function(n,e,s,r){n||(n=this),this.parent=n,this.mount=n.mount,this.mounted=null,this.id=o.nextInode++,this.name=e,this.mode=s,this.node_ops={},this.stream_ops={},this.rdev=r},Ke=365,Je=146;Object.defineProperties(Ft.prototype,{read:{get:function(){return(this.mode&Ke)===Ke},set:function(n){n?this.mode|=Ke:this.mode&=~Ke}},write:{get:function(){return(this.mode&Je)===Je},set:function(n){n?this.mode|=Je:this.mode&=~Je}},isFolder:{get:function(){return o.isDir(this.mode)}},isDevice:{get:function(){return o.isChrdev(this.mode)}}}),o.FSNode=Ft,o.staticInit();var Ot={__syscall_chmod:en,__syscall_faccessat:tn,__syscall_fchmod:nn,__syscall_fchown32:rn,__syscall_fcntl64:on,__syscall_fstat64:ln,__syscall_ftruncate64:un,__syscall_getcwd:_n,__syscall_ioctl:fn,__syscall_lstat64:pn,__syscall_mkdirat:dn,__syscall_newfstatat:mn,__syscall_openat:hn,__syscall_readlinkat:gn,__syscall_rmdir:yn,__syscall_stat64:qn,__syscall_unlinkat:bn,__syscall_utimensat:wn,_emscripten_get_now_is_monotonic:vn,_localtime_js:kn,_mmap_js:Tn,_munmap_js:Fn,_tzset_js:On,emscripten_date_now:Pn,emscripten_get_now:Tt,emscripten_resize_heap:Cn,environ_get:Mn,environ_sizes_get:jn,fd_close:Bn,fd_fdstat_get:Un,fd_read:Wn,fd_seek:Qn,fd_sync:Hn,fd_write:Gn,memory:Le};Kt(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.__wasm_call_ctors).apply(null,arguments)},t._sqlite3_status64=function(){return(t._sqlite3_status64=t.asm.sqlite3_status64).apply(null,arguments)},t._sqlite3_status=function(){return(t._sqlite3_status=t.asm.sqlite3_status).apply(null,arguments)},t._sqlite3_db_status=function(){return(t._sqlite3_db_status=t.asm.sqlite3_db_status).apply(null,arguments)},t._sqlite3_msize=function(){return(t._sqlite3_msize=t.asm.sqlite3_msize).apply(null,arguments)},t._sqlite3_vfs_find=function(){return(t._sqlite3_vfs_find=t.asm.sqlite3_vfs_find).apply(null,arguments)},t._sqlite3_initialize=function(){return(t._sqlite3_initialize=t.asm.sqlite3_initialize).apply(null,arguments)},t._sqlite3_malloc=function(){return(t._sqlite3_malloc=t.asm.sqlite3_malloc).apply(null,arguments)},t._sqlite3_free=function(){return(t._sqlite3_free=t.asm.sqlite3_free).apply(null,arguments)},t._sqlite3_vfs_register=function(){return(t._sqlite3_vfs_register=t.asm.sqlite3_vfs_register).apply(null,arguments)},t._sqlite3_vfs_unregister=function(){return(t._sqlite3_vfs_unregister=t.asm.sqlite3_vfs_unregister).apply(null,arguments)},t._sqlite3_malloc64=function(){return(t._sqlite3_malloc64=t.asm.sqlite3_malloc64).apply(null,arguments)},t._sqlite3_realloc=function(){return(t._sqlite3_realloc=t.asm.sqlite3_realloc).apply(null,arguments)},t._sqlite3_realloc64=function(){return(t._sqlite3_realloc64=t.asm.sqlite3_realloc64).apply(null,arguments)},t._sqlite3_value_text=function(){return(t._sqlite3_value_text=t.asm.sqlite3_value_text).apply(null,arguments)},t._sqlite3_randomness=function(){return(t._sqlite3_randomness=t.asm.sqlite3_randomness).apply(null,arguments)},t._sqlite3_stricmp=function(){return(t._sqlite3_stricmp=t.asm.sqlite3_stricmp).apply(null,arguments)},t._sqlite3_strnicmp=function(){return(t._sqlite3_strnicmp=t.asm.sqlite3_strnicmp).apply(null,arguments)},t._sqlite3_uri_parameter=function(){return(t._sqlite3_uri_parameter=t.asm.sqlite3_uri_parameter).apply(null,arguments)};var Pt=t.___errno_location=function(){return(Pt=t.___errno_location=t.asm.__errno_location).apply(null,arguments)};t._sqlite3_uri_boolean=function(){return(t._sqlite3_uri_boolean=t.asm.sqlite3_uri_boolean).apply(null,arguments)},t._sqlite3_serialize=function(){return(t._sqlite3_serialize=t.asm.sqlite3_serialize).apply(null,arguments)},t._sqlite3_prepare_v2=function(){return(t._sqlite3_prepare_v2=t.asm.sqlite3_prepare_v2).apply(null,arguments)},t._sqlite3_step=function(){return(t._sqlite3_step=t.asm.sqlite3_step).apply(null,arguments)},t._sqlite3_column_int64=function(){return(t._sqlite3_column_int64=t.asm.sqlite3_column_int64).apply(null,arguments)},t._sqlite3_column_int=function(){return(t._sqlite3_column_int=t.asm.sqlite3_column_int).apply(null,arguments)},t._sqlite3_finalize=function(){return(t._sqlite3_finalize=t.asm.sqlite3_finalize).apply(null,arguments)},t._sqlite3_file_control=function(){return(t._sqlite3_file_control=t.asm.sqlite3_file_control).apply(null,arguments)},t._sqlite3_reset=function(){return(t._sqlite3_reset=t.asm.sqlite3_reset).apply(null,arguments)},t._sqlite3_deserialize=function(){return(t._sqlite3_deserialize=t.asm.sqlite3_deserialize).apply(null,arguments)},t._sqlite3_clear_bindings=function(){return(t._sqlite3_clear_bindings=t.asm.sqlite3_clear_bindings).apply(null,arguments)},t._sqlite3_value_blob=function(){return(t._sqlite3_value_blob=t.asm.sqlite3_value_blob).apply(null,arguments)},t._sqlite3_value_bytes=function(){return(t._sqlite3_value_bytes=t.asm.sqlite3_value_bytes).apply(null,arguments)},t._sqlite3_value_double=function(){return(t._sqlite3_value_double=t.asm.sqlite3_value_double).apply(null,arguments)},t._sqlite3_value_int=function(){return(t._sqlite3_value_int=t.asm.sqlite3_value_int).apply(null,arguments)},t._sqlite3_value_int64=function(){return(t._sqlite3_value_int64=t.asm.sqlite3_value_int64).apply(null,arguments)},t._sqlite3_value_subtype=function(){return(t._sqlite3_value_subtype=t.asm.sqlite3_value_subtype).apply(null,arguments)},t._sqlite3_value_pointer=function(){return(t._sqlite3_value_pointer=t.asm.sqlite3_value_pointer).apply(null,arguments)},t._sqlite3_value_type=function(){return(t._sqlite3_value_type=t.asm.sqlite3_value_type).apply(null,arguments)},t._sqlite3_value_nochange=function(){return(t._sqlite3_value_nochange=t.asm.sqlite3_value_nochange).apply(null,arguments)},t._sqlite3_value_frombind=function(){return(t._sqlite3_value_frombind=t.asm.sqlite3_value_frombind).apply(null,arguments)},t._sqlite3_value_dup=function(){return(t._sqlite3_value_dup=t.asm.sqlite3_value_dup).apply(null,arguments)},t._sqlite3_value_free=function(){return(t._sqlite3_value_free=t.asm.sqlite3_value_free).apply(null,arguments)},t._sqlite3_result_blob=function(){return(t._sqlite3_result_blob=t.asm.sqlite3_result_blob).apply(null,arguments)},t._sqlite3_result_error_toobig=function(){return(t._sqlite3_result_error_toobig=t.asm.sqlite3_result_error_toobig).apply(null,arguments)},t._sqlite3_result_error_nomem=function(){return(t._sqlite3_result_error_nomem=t.asm.sqlite3_result_error_nomem).apply(null,arguments)},t._sqlite3_result_double=function(){return(t._sqlite3_result_double=t.asm.sqlite3_result_double).apply(null,arguments)},t._sqlite3_result_error=function(){return(t._sqlite3_result_error=t.asm.sqlite3_result_error).apply(null,arguments)},t._sqlite3_result_int=function(){return(t._sqlite3_result_int=t.asm.sqlite3_result_int).apply(null,arguments)},t._sqlite3_result_int64=function(){return(t._sqlite3_result_int64=t.asm.sqlite3_result_int64).apply(null,arguments)},t._sqlite3_result_null=function(){return(t._sqlite3_result_null=t.asm.sqlite3_result_null).apply(null,arguments)},t._sqlite3_result_pointer=function(){return(t._sqlite3_result_pointer=t.asm.sqlite3_result_pointer).apply(null,arguments)},t._sqlite3_result_subtype=function(){return(t._sqlite3_result_subtype=t.asm.sqlite3_result_subtype).apply(null,arguments)},t._sqlite3_result_text=function(){return(t._sqlite3_result_text=t.asm.sqlite3_result_text).apply(null,arguments)},t._sqlite3_result_zeroblob=function(){return(t._sqlite3_result_zeroblob=t.asm.sqlite3_result_zeroblob).apply(null,arguments)},t._sqlite3_result_zeroblob64=function(){return(t._sqlite3_result_zeroblob64=t.asm.sqlite3_result_zeroblob64).apply(null,arguments)},t._sqlite3_result_error_code=function(){return(t._sqlite3_result_error_code=t.asm.sqlite3_result_error_code).apply(null,arguments)},t._sqlite3_user_data=function(){return(t._sqlite3_user_data=t.asm.sqlite3_user_data).apply(null,arguments)},t._sqlite3_context_db_handle=function(){return(t._sqlite3_context_db_handle=t.asm.sqlite3_context_db_handle).apply(null,arguments)},t._sqlite3_vtab_nochange=function(){return(t._sqlite3_vtab_nochange=t.asm.sqlite3_vtab_nochange).apply(null,arguments)},t._sqlite3_vtab_in_first=function(){return(t._sqlite3_vtab_in_first=t.asm.sqlite3_vtab_in_first).apply(null,arguments)},t._sqlite3_vtab_in_next=function(){return(t._sqlite3_vtab_in_next=t.asm.sqlite3_vtab_in_next).apply(null,arguments)},t._sqlite3_aggregate_context=function(){return(t._sqlite3_aggregate_context=t.asm.sqlite3_aggregate_context).apply(null,arguments)},t._sqlite3_get_auxdata=function(){return(t._sqlite3_get_auxdata=t.asm.sqlite3_get_auxdata).apply(null,arguments)},t._sqlite3_set_auxdata=function(){return(t._sqlite3_set_auxdata=t.asm.sqlite3_set_auxdata).apply(null,arguments)},t._sqlite3_column_count=function(){return(t._sqlite3_column_count=t.asm.sqlite3_column_count).apply(null,arguments)},t._sqlite3_data_count=function(){return(t._sqlite3_data_count=t.asm.sqlite3_data_count).apply(null,arguments)},t._sqlite3_column_blob=function(){return(t._sqlite3_column_blob=t.asm.sqlite3_column_blob).apply(null,arguments)},t._sqlite3_column_bytes=function(){return(t._sqlite3_column_bytes=t.asm.sqlite3_column_bytes).apply(null,arguments)},t._sqlite3_column_double=function(){return(t._sqlite3_column_double=t.asm.sqlite3_column_double).apply(null,arguments)},t._sqlite3_column_text=function(){return(t._sqlite3_column_text=t.asm.sqlite3_column_text).apply(null,arguments)},t._sqlite3_column_value=function(){return(t._sqlite3_column_value=t.asm.sqlite3_column_value).apply(null,arguments)},t._sqlite3_column_type=function(){return(t._sqlite3_column_type=t.asm.sqlite3_column_type).apply(null,arguments)},t._sqlite3_column_name=function(){return(t._sqlite3_column_name=t.asm.sqlite3_column_name).apply(null,arguments)},t._sqlite3_bind_blob=function(){return(t._sqlite3_bind_blob=t.asm.sqlite3_bind_blob).apply(null,arguments)},t._sqlite3_bind_double=function(){return(t._sqlite3_bind_double=t.asm.sqlite3_bind_double).apply(null,arguments)},t._sqlite3_bind_int=function(){return(t._sqlite3_bind_int=t.asm.sqlite3_bind_int).apply(null,arguments)},t._sqlite3_bind_int64=function(){return(t._sqlite3_bind_int64=t.asm.sqlite3_bind_int64).apply(null,arguments)},t._sqlite3_bind_null=function(){return(t._sqlite3_bind_null=t.asm.sqlite3_bind_null).apply(null,arguments)},t._sqlite3_bind_pointer=function(){return(t._sqlite3_bind_pointer=t.asm.sqlite3_bind_pointer).apply(null,arguments)},t._sqlite3_bind_text=function(){return(t._sqlite3_bind_text=t.asm.sqlite3_bind_text).apply(null,arguments)},t._sqlite3_bind_parameter_count=function(){return(t._sqlite3_bind_parameter_count=t.asm.sqlite3_bind_parameter_count).apply(null,arguments)},t._sqlite3_bind_parameter_index=function(){return(t._sqlite3_bind_parameter_index=t.asm.sqlite3_bind_parameter_index).apply(null,arguments)},t._sqlite3_db_handle=function(){return(t._sqlite3_db_handle=t.asm.sqlite3_db_handle).apply(null,arguments)},t._sqlite3_stmt_readonly=function(){return(t._sqlite3_stmt_readonly=t.asm.sqlite3_stmt_readonly).apply(null,arguments)},t._sqlite3_stmt_isexplain=function(){return(t._sqlite3_stmt_isexplain=t.asm.sqlite3_stmt_isexplain).apply(null,arguments)},t._sqlite3_stmt_status=function(){return(t._sqlite3_stmt_status=t.asm.sqlite3_stmt_status).apply(null,arguments)},t._sqlite3_sql=function(){return(t._sqlite3_sql=t.asm.sqlite3_sql).apply(null,arguments)},t._sqlite3_expanded_sql=function(){return(t._sqlite3_expanded_sql=t.asm.sqlite3_expanded_sql).apply(null,arguments)},t._sqlite3_preupdate_old=function(){return(t._sqlite3_preupdate_old=t.asm.sqlite3_preupdate_old).apply(null,arguments)},t._sqlite3_preupdate_count=function(){return(t._sqlite3_preupdate_count=t.asm.sqlite3_preupdate_count).apply(null,arguments)},t._sqlite3_preupdate_depth=function(){return(t._sqlite3_preupdate_depth=t.asm.sqlite3_preupdate_depth).apply(null,arguments)},t._sqlite3_preupdate_blobwrite=function(){return(t._sqlite3_preupdate_blobwrite=t.asm.sqlite3_preupdate_blobwrite).apply(null,arguments)},t._sqlite3_preupdate_new=function(){return(t._sqlite3_preupdate_new=t.asm.sqlite3_preupdate_new).apply(null,arguments)},t._sqlite3_value_numeric_type=function(){return(t._sqlite3_value_numeric_type=t.asm.sqlite3_value_numeric_type).apply(null,arguments)},t._sqlite3_errmsg=function(){return(t._sqlite3_errmsg=t.asm.sqlite3_errmsg).apply(null,arguments)},t._sqlite3_set_authorizer=function(){return(t._sqlite3_set_authorizer=t.asm.sqlite3_set_authorizer).apply(null,arguments)},t._sqlite3_strglob=function(){return(t._sqlite3_strglob=t.asm.sqlite3_strglob).apply(null,arguments)},t._sqlite3_strlike=function(){return(t._sqlite3_strlike=t.asm.sqlite3_strlike).apply(null,arguments)},t._sqlite3_exec=function(){return(t._sqlite3_exec=t.asm.sqlite3_exec).apply(null,arguments)},t._sqlite3_auto_extension=function(){return(t._sqlite3_auto_extension=t.asm.sqlite3_auto_extension).apply(null,arguments)},t._sqlite3_cancel_auto_extension=function(){return(t._sqlite3_cancel_auto_extension=t.asm.sqlite3_cancel_auto_extension).apply(null,arguments)},t._sqlite3_reset_auto_extension=function(){return(t._sqlite3_reset_auto_extension=t.asm.sqlite3_reset_auto_extension).apply(null,arguments)},t._sqlite3_prepare_v3=function(){return(t._sqlite3_prepare_v3=t.asm.sqlite3_prepare_v3).apply(null,arguments)},t._sqlite3_create_module=function(){return(t._sqlite3_create_module=t.asm.sqlite3_create_module).apply(null,arguments)},t._sqlite3_create_module_v2=function(){return(t._sqlite3_create_module_v2=t.asm.sqlite3_create_module_v2).apply(null,arguments)},t._sqlite3_drop_modules=function(){return(t._sqlite3_drop_modules=t.asm.sqlite3_drop_modules).apply(null,arguments)},t._sqlite3_declare_vtab=function(){return(t._sqlite3_declare_vtab=t.asm.sqlite3_declare_vtab).apply(null,arguments)},t._sqlite3_vtab_on_conflict=function(){return(t._sqlite3_vtab_on_conflict=t.asm.sqlite3_vtab_on_conflict).apply(null,arguments)},t._sqlite3_vtab_collation=function(){return(t._sqlite3_vtab_collation=t.asm.sqlite3_vtab_collation).apply(null,arguments)},t._sqlite3_vtab_in=function(){return(t._sqlite3_vtab_in=t.asm.sqlite3_vtab_in).apply(null,arguments)},t._sqlite3_vtab_rhs_value=function(){return(t._sqlite3_vtab_rhs_value=t.asm.sqlite3_vtab_rhs_value).apply(null,arguments)},t._sqlite3_vtab_distinct=function(){return(t._sqlite3_vtab_distinct=t.asm.sqlite3_vtab_distinct).apply(null,arguments)},t._sqlite3_keyword_name=function(){return(t._sqlite3_keyword_name=t.asm.sqlite3_keyword_name).apply(null,arguments)},t._sqlite3_keyword_count=function(){return(t._sqlite3_keyword_count=t.asm.sqlite3_keyword_count).apply(null,arguments)},t._sqlite3_keyword_check=function(){return(t._sqlite3_keyword_check=t.asm.sqlite3_keyword_check).apply(null,arguments)},t._sqlite3_complete=function(){return(t._sqlite3_complete=t.asm.sqlite3_complete).apply(null,arguments)},t._sqlite3_libversion=function(){return(t._sqlite3_libversion=t.asm.sqlite3_libversion).apply(null,arguments)},t._sqlite3_libversion_number=function(){return(t._sqlite3_libversion_number=t.asm.sqlite3_libversion_number).apply(null,arguments)},t._sqlite3_shutdown=function(){return(t._sqlite3_shutdown=t.asm.sqlite3_shutdown).apply(null,arguments)},t._sqlite3_last_insert_rowid=function(){return(t._sqlite3_last_insert_rowid=t.asm.sqlite3_last_insert_rowid).apply(null,arguments)},t._sqlite3_set_last_insert_rowid=function(){return(t._sqlite3_set_last_insert_rowid=t.asm.sqlite3_set_last_insert_rowid).apply(null,arguments)},t._sqlite3_changes64=function(){return(t._sqlite3_changes64=t.asm.sqlite3_changes64).apply(null,arguments)},t._sqlite3_changes=function(){return(t._sqlite3_changes=t.asm.sqlite3_changes).apply(null,arguments)},t._sqlite3_total_changes64=function(){return(t._sqlite3_total_changes64=t.asm.sqlite3_total_changes64).apply(null,arguments)},t._sqlite3_total_changes=function(){return(t._sqlite3_total_changes=t.asm.sqlite3_total_changes).apply(null,arguments)},t._sqlite3_txn_state=function(){return(t._sqlite3_txn_state=t.asm.sqlite3_txn_state).apply(null,arguments)},t._sqlite3_close_v2=function(){return(t._sqlite3_close_v2=t.asm.sqlite3_close_v2).apply(null,arguments)},t._sqlite3_busy_handler=function(){return(t._sqlite3_busy_handler=t.asm.sqlite3_busy_handler).apply(null,arguments)},t._sqlite3_progress_handler=function(){return(t._sqlite3_progress_handler=t.asm.sqlite3_progress_handler).apply(null,arguments)},t._sqlite3_busy_timeout=function(){return(t._sqlite3_busy_timeout=t.asm.sqlite3_busy_timeout).apply(null,arguments)},t._sqlite3_create_function=function(){return(t._sqlite3_create_function=t.asm.sqlite3_create_function).apply(null,arguments)},t._sqlite3_create_function_v2=function(){return(t._sqlite3_create_function_v2=t.asm.sqlite3_create_function_v2).apply(null,arguments)},t._sqlite3_create_window_function=function(){return(t._sqlite3_create_window_function=t.asm.sqlite3_create_window_function).apply(null,arguments)},t._sqlite3_overload_function=function(){return(t._sqlite3_overload_function=t.asm.sqlite3_overload_function).apply(null,arguments)},t._sqlite3_trace_v2=function(){return(t._sqlite3_trace_v2=t.asm.sqlite3_trace_v2).apply(null,arguments)},t._sqlite3_commit_hook=function(){return(t._sqlite3_commit_hook=t.asm.sqlite3_commit_hook).apply(null,arguments)},t._sqlite3_update_hook=function(){return(t._sqlite3_update_hook=t.asm.sqlite3_update_hook).apply(null,arguments)},t._sqlite3_rollback_hook=function(){return(t._sqlite3_rollback_hook=t.asm.sqlite3_rollback_hook).apply(null,arguments)},t._sqlite3_preupdate_hook=function(){return(t._sqlite3_preupdate_hook=t.asm.sqlite3_preupdate_hook).apply(null,arguments)},t._sqlite3_error_offset=function(){return(t._sqlite3_error_offset=t.asm.sqlite3_error_offset).apply(null,arguments)},t._sqlite3_errcode=function(){return(t._sqlite3_errcode=t.asm.sqlite3_errcode).apply(null,arguments)},t._sqlite3_extended_errcode=function(){return(t._sqlite3_extended_errcode=t.asm.sqlite3_extended_errcode).apply(null,arguments)},t._sqlite3_errstr=function(){return(t._sqlite3_errstr=t.asm.sqlite3_errstr).apply(null,arguments)},t._sqlite3_limit=function(){return(t._sqlite3_limit=t.asm.sqlite3_limit).apply(null,arguments)},t._sqlite3_open=function(){return(t._sqlite3_open=t.asm.sqlite3_open).apply(null,arguments)},t._sqlite3_open_v2=function(){return(t._sqlite3_open_v2=t.asm.sqlite3_open_v2).apply(null,arguments)},t._sqlite3_create_collation=function(){return(t._sqlite3_create_collation=t.asm.sqlite3_create_collation).apply(null,arguments)},t._sqlite3_create_collation_v2=function(){return(t._sqlite3_create_collation_v2=t.asm.sqlite3_create_collation_v2).apply(null,arguments)},t._sqlite3_collation_needed=function(){return(t._sqlite3_collation_needed=t.asm.sqlite3_collation_needed).apply(null,arguments)},t._sqlite3_get_autocommit=function(){return(t._sqlite3_get_autocommit=t.asm.sqlite3_get_autocommit).apply(null,arguments)},t._sqlite3_table_column_metadata=function(){return(t._sqlite3_table_column_metadata=t.asm.sqlite3_table_column_metadata).apply(null,arguments)},t._sqlite3_extended_result_codes=function(){return(t._sqlite3_extended_result_codes=t.asm.sqlite3_extended_result_codes).apply(null,arguments)},t._sqlite3_uri_key=function(){return(t._sqlite3_uri_key=t.asm.sqlite3_uri_key).apply(null,arguments)},t._sqlite3_uri_int64=function(){return(t._sqlite3_uri_int64=t.asm.sqlite3_uri_int64).apply(null,arguments)},t._sqlite3_db_name=function(){return(t._sqlite3_db_name=t.asm.sqlite3_db_name).apply(null,arguments)},t._sqlite3_db_filename=function(){return(t._sqlite3_db_filename=t.asm.sqlite3_db_filename).apply(null,arguments)},t._sqlite3_compileoption_used=function(){return(t._sqlite3_compileoption_used=t.asm.sqlite3_compileoption_used).apply(null,arguments)},t._sqlite3_compileoption_get=function(){return(t._sqlite3_compileoption_get=t.asm.sqlite3_compileoption_get).apply(null,arguments)},t._sqlite3session_diff=function(){return(t._sqlite3session_diff=t.asm.sqlite3session_diff).apply(null,arguments)},t._sqlite3session_attach=function(){return(t._sqlite3session_attach=t.asm.sqlite3session_attach).apply(null,arguments)},t._sqlite3session_create=function(){return(t._sqlite3session_create=t.asm.sqlite3session_create).apply(null,arguments)},t._sqlite3session_delete=function(){return(t._sqlite3session_delete=t.asm.sqlite3session_delete).apply(null,arguments)},t._sqlite3session_table_filter=function(){return(t._sqlite3session_table_filter=t.asm.sqlite3session_table_filter).apply(null,arguments)},t._sqlite3session_changeset=function(){return(t._sqlite3session_changeset=t.asm.sqlite3session_changeset).apply(null,arguments)},t._sqlite3session_changeset_strm=function(){return(t._sqlite3session_changeset_strm=t.asm.sqlite3session_changeset_strm).apply(null,arguments)},t._sqlite3session_patchset_strm=function(){return(t._sqlite3session_patchset_strm=t.asm.sqlite3session_patchset_strm).apply(null,arguments)},t._sqlite3session_patchset=function(){return(t._sqlite3session_patchset=t.asm.sqlite3session_patchset).apply(null,arguments)},t._sqlite3session_enable=function(){return(t._sqlite3session_enable=t.asm.sqlite3session_enable).apply(null,arguments)},t._sqlite3session_indirect=function(){return(t._sqlite3session_indirect=t.asm.sqlite3session_indirect).apply(null,arguments)},t._sqlite3session_isempty=function(){return(t._sqlite3session_isempty=t.asm.sqlite3session_isempty).apply(null,arguments)},t._sqlite3session_memory_used=function(){return(t._sqlite3session_memory_used=t.asm.sqlite3session_memory_used).apply(null,arguments)},t._sqlite3session_object_config=function(){return(t._sqlite3session_object_config=t.asm.sqlite3session_object_config).apply(null,arguments)},t._sqlite3session_changeset_size=function(){return(t._sqlite3session_changeset_size=t.asm.sqlite3session_changeset_size).apply(null,arguments)},t._sqlite3changeset_start=function(){return(t._sqlite3changeset_start=t.asm.sqlite3changeset_start).apply(null,arguments)},t._sqlite3changeset_start_v2=function(){return(t._sqlite3changeset_start_v2=t.asm.sqlite3changeset_start_v2).apply(null,arguments)},t._sqlite3changeset_start_strm=function(){return(t._sqlite3changeset_start_strm=t.asm.sqlite3changeset_start_strm).apply(null,arguments)},t._sqlite3changeset_start_v2_strm=function(){return(t._sqlite3changeset_start_v2_strm=t.asm.sqlite3changeset_start_v2_strm).apply(null,arguments)},t._sqlite3changeset_next=function(){return(t._sqlite3changeset_next=t.asm.sqlite3changeset_next).apply(null,arguments)},t._sqlite3changeset_op=function(){return(t._sqlite3changeset_op=t.asm.sqlite3changeset_op).apply(null,arguments)},t._sqlite3changeset_pk=function(){return(t._sqlite3changeset_pk=t.asm.sqlite3changeset_pk).apply(null,arguments)},t._sqlite3changeset_old=function(){return(t._sqlite3changeset_old=t.asm.sqlite3changeset_old).apply(null,arguments)},t._sqlite3changeset_new=function(){return(t._sqlite3changeset_new=t.asm.sqlite3changeset_new).apply(null,arguments)},t._sqlite3changeset_conflict=function(){return(t._sqlite3changeset_conflict=t.asm.sqlite3changeset_conflict).apply(null,arguments)},t._sqlite3changeset_fk_conflicts=function(){return(t._sqlite3changeset_fk_conflicts=t.asm.sqlite3changeset_fk_conflicts).apply(null,arguments)},t._sqlite3changeset_finalize=function(){return(t._sqlite3changeset_finalize=t.asm.sqlite3changeset_finalize).apply(null,arguments)},t._sqlite3changeset_invert=function(){return(t._sqlite3changeset_invert=t.asm.sqlite3changeset_invert).apply(null,arguments)},t._sqlite3changeset_invert_strm=function(){return(t._sqlite3changeset_invert_strm=t.asm.sqlite3changeset_invert_strm).apply(null,arguments)},t._sqlite3changeset_apply_v2=function(){return(t._sqlite3changeset_apply_v2=t.asm.sqlite3changeset_apply_v2).apply(null,arguments)},t._sqlite3changeset_apply=function(){return(t._sqlite3changeset_apply=t.asm.sqlite3changeset_apply).apply(null,arguments)},t._sqlite3changeset_apply_v2_strm=function(){return(t._sqlite3changeset_apply_v2_strm=t.asm.sqlite3changeset_apply_v2_strm).apply(null,arguments)},t._sqlite3changeset_apply_strm=function(){return(t._sqlite3changeset_apply_strm=t.asm.sqlite3changeset_apply_strm).apply(null,arguments)},t._sqlite3changegroup_new=function(){return(t._sqlite3changegroup_new=t.asm.sqlite3changegroup_new).apply(null,arguments)},t._sqlite3changegroup_add=function(){return(t._sqlite3changegroup_add=t.asm.sqlite3changegroup_add).apply(null,arguments)},t._sqlite3changegroup_output=function(){return(t._sqlite3changegroup_output=t.asm.sqlite3changegroup_output).apply(null,arguments)},t._sqlite3changegroup_add_strm=function(){return(t._sqlite3changegroup_add_strm=t.asm.sqlite3changegroup_add_strm).apply(null,arguments)},t._sqlite3changegroup_output_strm=function(){return(t._sqlite3changegroup_output_strm=t.asm.sqlite3changegroup_output_strm).apply(null,arguments)},t._sqlite3changegroup_delete=function(){return(t._sqlite3changegroup_delete=t.asm.sqlite3changegroup_delete).apply(null,arguments)},t._sqlite3changeset_concat=function(){return(t._sqlite3changeset_concat=t.asm.sqlite3changeset_concat).apply(null,arguments)},t._sqlite3changeset_concat_strm=function(){return(t._sqlite3changeset_concat_strm=t.asm.sqlite3changeset_concat_strm).apply(null,arguments)},t._sqlite3session_config=function(){return(t._sqlite3session_config=t.asm.sqlite3session_config).apply(null,arguments)},t._sqlite3_sourceid=function(){return(t._sqlite3_sourceid=t.asm.sqlite3_sourceid).apply(null,arguments)},t._sqlite3_wasm_pstack_ptr=function(){return(t._sqlite3_wasm_pstack_ptr=t.asm.sqlite3_wasm_pstack_ptr).apply(null,arguments)},t._sqlite3_wasm_pstack_restore=function(){return(t._sqlite3_wasm_pstack_restore=t.asm.sqlite3_wasm_pstack_restore).apply(null,arguments)},t._sqlite3_wasm_pstack_alloc=function(){return(t._sqlite3_wasm_pstack_alloc=t.asm.sqlite3_wasm_pstack_alloc).apply(null,arguments)},t._sqlite3_wasm_pstack_remaining=function(){return(t._sqlite3_wasm_pstack_remaining=t.asm.sqlite3_wasm_pstack_remaining).apply(null,arguments)},t._sqlite3_wasm_pstack_quota=function(){return(t._sqlite3_wasm_pstack_quota=t.asm.sqlite3_wasm_pstack_quota).apply(null,arguments)},t._sqlite3_wasm_db_error=function(){return(t._sqlite3_wasm_db_error=t.asm.sqlite3_wasm_db_error).apply(null,arguments)},t._sqlite3_wasm_test_struct=function(){return(t._sqlite3_wasm_test_struct=t.asm.sqlite3_wasm_test_struct).apply(null,arguments)},t._sqlite3_wasm_enum_json=function(){return(t._sqlite3_wasm_enum_json=t.asm.sqlite3_wasm_enum_json).apply(null,arguments)},t._sqlite3_wasm_vfs_unlink=function(){return(t._sqlite3_wasm_vfs_unlink=t.asm.sqlite3_wasm_vfs_unlink).apply(null,arguments)},t._sqlite3_wasm_db_vfs=function(){return(t._sqlite3_wasm_db_vfs=t.asm.sqlite3_wasm_db_vfs).apply(null,arguments)},t._sqlite3_wasm_db_reset=function(){return(t._sqlite3_wasm_db_reset=t.asm.sqlite3_wasm_db_reset).apply(null,arguments)},t._sqlite3_wasm_db_export_chunked=function(){return(t._sqlite3_wasm_db_export_chunked=t.asm.sqlite3_wasm_db_export_chunked).apply(null,arguments)},t._sqlite3_wasm_db_serialize=function(){return(t._sqlite3_wasm_db_serialize=t.asm.sqlite3_wasm_db_serialize).apply(null,arguments)},t._sqlite3_wasm_vfs_create_file=function(){return(t._sqlite3_wasm_vfs_create_file=t.asm.sqlite3_wasm_vfs_create_file).apply(null,arguments)},t._sqlite3_wasm_posix_create_file=function(){return(t._sqlite3_wasm_posix_create_file=t.asm.sqlite3_wasm_posix_create_file).apply(null,arguments)},t._sqlite3_wasm_kvvfsMakeKeyOnPstack=function(){return(t._sqlite3_wasm_kvvfsMakeKeyOnPstack=t.asm.sqlite3_wasm_kvvfsMakeKeyOnPstack).apply(null,arguments)},t._sqlite3_wasm_kvvfs_methods=function(){return(t._sqlite3_wasm_kvvfs_methods=t.asm.sqlite3_wasm_kvvfs_methods).apply(null,arguments)},t._sqlite3_wasm_vtab_config=function(){return(t._sqlite3_wasm_vtab_config=t.asm.sqlite3_wasm_vtab_config).apply(null,arguments)},t._sqlite3_wasm_db_config_ip=function(){return(t._sqlite3_wasm_db_config_ip=t.asm.sqlite3_wasm_db_config_ip).apply(null,arguments)},t._sqlite3_wasm_db_config_pii=function(){return(t._sqlite3_wasm_db_config_pii=t.asm.sqlite3_wasm_db_config_pii).apply(null,arguments)},t._sqlite3_wasm_db_config_s=function(){return(t._sqlite3_wasm_db_config_s=t.asm.sqlite3_wasm_db_config_s).apply(null,arguments)},t._sqlite3_wasm_config_i=function(){return(t._sqlite3_wasm_config_i=t.asm.sqlite3_wasm_config_i).apply(null,arguments)},t._sqlite3_wasm_config_ii=function(){return(t._sqlite3_wasm_config_ii=t.asm.sqlite3_wasm_config_ii).apply(null,arguments)},t._sqlite3_wasm_config_j=function(){return(t._sqlite3_wasm_config_j=t.asm.sqlite3_wasm_config_j).apply(null,arguments)},t._sqlite3_wasm_init_wasmfs=function(){return(t._sqlite3_wasm_init_wasmfs=t.asm.sqlite3_wasm_init_wasmfs).apply(null,arguments)},t._sqlite3_wasm_test_intptr=function(){return(t._sqlite3_wasm_test_intptr=t.asm.sqlite3_wasm_test_intptr).apply(null,arguments)},t._sqlite3_wasm_test_voidptr=function(){return(t._sqlite3_wasm_test_voidptr=t.asm.sqlite3_wasm_test_voidptr).apply(null,arguments)},t._sqlite3_wasm_test_int64_max=function(){return(t._sqlite3_wasm_test_int64_max=t.asm.sqlite3_wasm_test_int64_max).apply(null,arguments)},t._sqlite3_wasm_test_int64_min=function(){return(t._sqlite3_wasm_test_int64_min=t.asm.sqlite3_wasm_test_int64_min).apply(null,arguments)},t._sqlite3_wasm_test_int64_times2=function(){return(t._sqlite3_wasm_test_int64_times2=t.asm.sqlite3_wasm_test_int64_times2).apply(null,arguments)},t._sqlite3_wasm_test_int64_minmax=function(){return(t._sqlite3_wasm_test_int64_minmax=t.asm.sqlite3_wasm_test_int64_minmax).apply(null,arguments)},t._sqlite3_wasm_test_int64ptr=function(){return(t._sqlite3_wasm_test_int64ptr=t.asm.sqlite3_wasm_test_int64ptr).apply(null,arguments)},t._sqlite3_wasm_test_stack_overflow=function(){return(t._sqlite3_wasm_test_stack_overflow=t.asm.sqlite3_wasm_test_stack_overflow).apply(null,arguments)},t._sqlite3_wasm_test_str_hello=function(){return(t._sqlite3_wasm_test_str_hello=t.asm.sqlite3_wasm_test_str_hello).apply(null,arguments)},t._sqlite3_wasm_SQLTester_strglob=function(){return(t._sqlite3_wasm_SQLTester_strglob=t.asm.sqlite3_wasm_SQLTester_strglob).apply(null,arguments)};var Lt=t._malloc=function(){return(Lt=t._malloc=t.asm.malloc).apply(null,arguments)};t._free=function(){return(t._free=t.asm.free).apply(null,arguments)},t._realloc=function(){return(t._realloc=t.asm.realloc).apply(null,arguments)};var Dt=t._emscripten_builtin_memalign=function(){return(Dt=t._emscripten_builtin_memalign=t.asm.emscripten_builtin_memalign).apply(null,arguments)};t.stackSave=function(){return(t.stackSave=t.asm.stackSave).apply(null,arguments)},t.stackRestore=function(){return(t.stackRestore=t.asm.stackRestore).apply(null,arguments)},t.stackAlloc=function(){return(t.stackAlloc=t.asm.stackAlloc).apply(null,arguments)},t.wasmMemory=Le;var Xe;We=function n(){Xe||Ct(),Xe||(We=n)};function Ct(n){if(Ce>0||(Ut(),Ce>0))return;function e(){Xe||(Xe=!0,t.calledRun=!0,!mt&&(zt(),De(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),Wt()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),e()},1)):e()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Ct(),t.postRun||(t.postRun=[]),t.postRun.push(function(n){if(globalThis.sqlite3ApiBootstrap=function e(s=globalThis.sqlite3ApiConfig||e.defaultConfig){if(e.sqlite3)return console.warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),e.sqlite3;const r=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof n<"u"?!!n.HEAPU64:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},s||{});Object.assign(r,{allocExportName:r.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:r.useStdAlloc?"free":"sqlite3_free",reallocExportName:r.useStdAlloc?"realloc":"sqlite3_realloc"},r),["exports","memory","wasmfsOpfsDir"].forEach(a=>{typeof r[a]=="function"&&(r[a]=r[a]())});const i=Object.create(null),l=Object.create(null),h=a=>i.sqlite3_js_rc_str&&i.sqlite3_js_rc_str(a)||"Unknown result code #"+a,w=a=>typeof a=="number"&&a===(a|0);class O extends Error{constructor(...c){let u;if(c.length)if(w(c[0]))if(u=c[0],c.length===1)super(h(c[0]));else{const F=h(u);typeof c[1]=="object"?super(F,c[1]):(c[0]=F+":",super(c.join(" ")))}else c.length===2&&typeof c[1]=="object"?super(...c):super(c.join(" "));this.resultCode=u||i.SQLITE_ERROR,this.name="SQLite3Error"}}O.toss=(...a)=>{throw new O(...a)};const B=O.toss;r.wasmfsOpfsDir&&!/^\/[^/]+$/.test(r.wasmfsOpfsDir)&&B("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const Q=a=>typeof a!="bigint"&&a===(a|0)&&a<=2147483647&&a>=-2147483648,$=function a(c){return a._max||(a._max=BigInt("0x7fffffffffffffff"),a._min=~a._max),c>=a._min&&c<=a._max},I=a=>a>=-0x7fffffffn-1n&&a<=0x7fffffffn,f=function a(c){return a._min||(a._min=Number.MIN_SAFE_INTEGER,a._max=Number.MAX_SAFE_INTEGER),c>=a._min&&c<=a._max},p=a=>a&&a.constructor&&Q(a.constructor.BYTES_PER_ELEMENT)?a:!1,q=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,S=a=>a.buffer instanceof q,g=(a,c,u)=>S(a)?a.slice(c,u):a.subarray(c,u),C=a=>a&&(a instanceof Uint8Array||a instanceof Int8Array||a instanceof ArrayBuffer),j=a=>a&&(a instanceof Uint8Array||a instanceof Int8Array||a instanceof ArrayBuffer),U=a=>C(a)||B("Value is not of a supported TypedArray type."),D=new TextDecoder("utf-8"),te=function(a,c,u){return D.decode(g(a,c,u))},_=function(a){return j(a)?te(a instanceof ArrayBuffer?new Uint8Array(a):a):Array.isArray(a)?a.join(""):(l.isPtr(a)&&(a=l.cstrToJs(a)),a)};class b extends Error{constructor(...c){c.length===2&&typeof c[1]=="object"?super(...c):c.length?super(c.join(" ")):super("Allocation failed."),this.resultCode=i.SQLITE_NOMEM,this.name="WasmAllocError"}}b.toss=(...a)=>{throw new b(...a)},Object.assign(i,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(a,c,u,F,z,K,Y,re,ne)=>{},sqlite3_create_function:(a,c,u,F,z,K,Y,re)=>{},sqlite3_create_window_function:(a,c,u,F,z,K,Y,re,ne,Z)=>{},sqlite3_prepare_v3:(a,c,u,F,z,K)=>{},sqlite3_prepare_v2:(a,c,u,F,z)=>{},sqlite3_exec:(a,c,u,F,z)=>{},sqlite3_randomness:(a,c)=>{}});const x={affirmBindableTypedArray:U,flexibleString:_,bigIntFits32:I,bigIntFits64:$,bigIntFitsDouble:f,isBindableTypedArray:C,isInt32:Q,isSQLableTypedArray:j,isTypedArray:p,typedArrayToString:te,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:S,toss:function(...a){throw new Error(a.join(" "))},toss3:B,typedArrayPart:g,affirmDbHeader:function(a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));const c="SQLite format 3";c.length>a.byteLength&&B("Input does not contain an SQLite3 database header.");for(let u=0;u<c.length;++u)c.charCodeAt(u)!==a[u]&&B("Input does not contain an SQLite3 database header.")},affirmIsDb:function(a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));const c=a.byteLength;(c<512||c%512!==0)&&B("Byte array size",c,"is invalid for an SQLite3 db."),x.affirmDbHeader(a)}};Object.assign(l,{ptrSizeof:r.wasmPtrSizeof||4,ptrIR:r.wasmPtrIR||"i32",bigIntEnabled:!!r.bigIntEnabled,exports:r.exports||B("Missing API config.exports (WASM module exports)."),memory:r.memory||r.exports.memory||B("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),l.allocFromTypedArray=function(a){a instanceof ArrayBuffer&&(a=new Uint8Array(a)),U(a);const c=l.alloc(a.byteLength||1);return l.heapForSize(a.constructor).set(a.byteLength?a:[0],c),c};{const a=r.allocExportName,c=r.deallocExportName,u=r.reallocExportName;for(const F of[a,c,u])l.exports[F]instanceof Function||B("Missing required exports[",F,"] function.");l.alloc=function F(z){return F.impl(z)||b.toss("Failed to allocate",z," bytes.")},l.alloc.impl=l.exports[a],l.realloc=function F(z,K){const Y=F.impl(z,K);return K?Y||b.toss("Failed to reallocate",K," bytes."):0},l.realloc.impl=l.exports[u],l.dealloc=l.exports[c]}l.compileOptionUsed=function a(c){if(arguments.length){if(Array.isArray(c)){const u={};return c.forEach(F=>{u[F]=i.sqlite3_compileoption_used(F)}),u}else if(typeof c=="object")return Object.keys(c).forEach(u=>{c[u]=i.sqlite3_compileoption_used(u)}),c}else{if(a._result)return a._result;a._opt||(a._rx=/^([^=]+)=(.+)/,a._rxInt=/^-?\d+$/,a._opt=function(Y,re){const ne=a._rx.exec(Y);re[0]=ne?ne[1]:Y,re[1]=ne?a._rxInt.test(ne[2])?+ne[2]:ne[2]:!0});const u={},F=[0,0];let z=0,K;for(;K=i.sqlite3_compileoption_get(z++);)a._opt(K,F),u[F[0]]=F[1];return a._result=u}return typeof c=="string"?!!i.sqlite3_compileoption_used(c):!1},l.pstack=Object.assign(Object.create(null),{restore:l.exports.sqlite3_wasm_pstack_restore,alloc:function(a){return typeof a=="string"&&!(a=l.sizeofIR(a))&&b.toss("Invalid value for pstack.alloc(",arguments[0],")"),l.exports.sqlite3_wasm_pstack_alloc(a)||b.toss("Could not allocate",a,"bytes from the pstack.")},allocChunks:function(a,c){typeof c=="string"&&!(c=l.sizeofIR(c))&&b.toss("Invalid size value for allocChunks(",arguments[1],")");const u=l.pstack.alloc(a*c),F=[];let z=0,K=0;for(;z<a;++z,K+=c)F.push(u+K);return F},allocPtr:(a=1,c=!0)=>a===1?l.pstack.alloc(c?8:l.ptrSizeof):l.pstack.allocChunks(a,c?8:l.ptrSizeof),call:function(a){const c=l.pstack.pointer;try{return a(y)}finally{l.pstack.restore(c)}}}),Object.defineProperties(l.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:l.exports.sqlite3_wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:l.exports.sqlite3_wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:l.exports.sqlite3_wasm_pstack_remaining}}),i.sqlite3_randomness=(...a)=>{if(a.length===1&&x.isTypedArray(a[0])&&a[0].BYTES_PER_ELEMENT===1){const c=a[0];if(c.byteLength===0)return l.exports.sqlite3_randomness(0,0),c;const u=l.pstack.pointer;try{let F=c.byteLength,z=0;const K=l.exports.sqlite3_randomness,Y=l.heap8u(),re=F<512?F:512,ne=l.pstack.alloc(re);do{const Z=F>re?re:F;K(Z,ne),c.set(g(Y,ne,ne+Z),z),F-=Z,z+=Z}while(F>0)}catch(F){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",F)}finally{l.pstack.restore(u)}return c}l.exports.sqlite3_randomness(...a)};let M;if(i.sqlite3_wasmfs_opfs_dir=function(){if(M!==void 0)return M;const a=r.wasmfsOpfsDir;if(!a||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return M="";try{return a&&l.xCallWrapped("sqlite3_wasm_init_wasmfs","i32",["string"],a)===0?M=a:M=""}catch{return M=""}},i.sqlite3_wasmfs_filename_is_persistent=function(a){const c=i.sqlite3_wasmfs_opfs_dir();return c&&a?a.startsWith(c+"/"):!1},i.sqlite3_js_db_uses_vfs=function(a,c,u=0){try{const F=i.sqlite3_vfs_find(c);return F?a?F===i.sqlite3_js_db_vfs(a,u)?F:!1:F===i.sqlite3_vfs_find(0)?F:!1:!1}catch{return!1}},i.sqlite3_js_vfs_list=function(){const a=[];let c=i.sqlite3_vfs_find(0);for(;c;){const u=new i.sqlite3_vfs(c);a.push(l.cstrToJs(u.$zName)),c=u.$pNext,u.dispose()}return a},i.sqlite3_js_db_export=function(a,c=0){a=l.xWrap.testConvertArg("sqlite3*",a),a||B("Invalid sqlite3* argument."),l.bigIntEnabled||B("BigInt64 support is not enabled.");const u=l.scopedAllocPush();let F;try{const z=l.scopedAlloc(8+l.ptrSizeof),K=z+8,Y=c?l.isPtr(c)?c:l.scopedAllocCString(""+c):0;let re=l.exports.sqlite3_wasm_db_serialize(a,Y,K,z,0);re&&B("Database serialization failed with code",y.capi.sqlite3_js_rc_str(re)),F=l.peekPtr(K);const ne=l.peek(z,"i64");return re=ne?l.heap8u().slice(F,F+Number(ne)):new Uint8Array,re}finally{F&&l.exports.sqlite3_free(F),l.scopedAllocPop(u)}},i.sqlite3_js_db_vfs=(a,c=0)=>l.sqlite3_wasm_db_vfs(a,c),i.sqlite3_js_aggregate_context=(a,c)=>i.sqlite3_aggregate_context(a,c)||(c?b.toss("Cannot allocate",c,"bytes for sqlite3_aggregate_context()"):0),i.sqlite3_js_posix_create_file=function(a,c,u){let F;c&&l.isPtr(c)?F=c:c instanceof ArrayBuffer||c instanceof Uint8Array?(F=l.allocFromTypedArray(c),(arguments.length<3||!x.isInt32(u)||u<0)&&(u=c.byteLength)):O.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!x.isInt32(u)||u<0)&&O.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const z=l.sqlite3_wasm_posix_create_file(a,F,u);z&&O.toss("Creation of file failed with sqlite3 result code",i.sqlite3_js_rc_str(z))}finally{l.dealloc(F)}},i.sqlite3_js_vfs_create_file=function(a,c,u,F){r.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let z;u?(l.isPtr(u)?z=u:u instanceof ArrayBuffer&&(u=new Uint8Array(u)),u instanceof Uint8Array?(z=l.allocFromTypedArray(u),(arguments.length<4||!x.isInt32(F)||F<0)&&(F=u.byteLength)):O.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):z=0,(!x.isInt32(F)||F<0)&&(l.dealloc(z),O.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const K=l.sqlite3_wasm_vfs_create_file(a,c,z,F);K&&O.toss("Creation of file failed with sqlite3 result code",i.sqlite3_js_rc_str(K))}finally{l.dealloc(z)}},i.sqlite3_js_sql_to_string=a=>{if(typeof a=="string")return a;const c=_(v);return c===v?void 0:c},x.isUIThread()){const a=function(c){const u=Object.create(null);return u.prefix="kvvfs-"+c,u.stores=[],(c==="session"||c==="")&&u.stores.push(globalThis.sessionStorage),(c==="local"||c==="")&&u.stores.push(globalThis.localStorage),u};i.sqlite3_js_kvvfs_clear=function(c=""){let u=0;const F=a(c);return F.stores.forEach(z=>{const K=[];let Y;for(Y=0;Y<z.length;++Y){const re=z.key(Y);re.startsWith(F.prefix)&&K.push(re)}K.forEach(re=>z.removeItem(re)),u+=K.length}),u},i.sqlite3_js_kvvfs_size=function(c=""){let u=0;const F=a(c);return F.stores.forEach(z=>{let K;for(K=0;K<z.length;++K){const Y=z.key(K);Y.startsWith(F.prefix)&&(u+=Y.length,u+=z.getItem(Y).length)}}),u*2}}i.sqlite3_db_config=function(a,c,...u){switch(this.s||(this.s=l.xWrap("sqlite3_wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=l.xWrap("sqlite3_wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=l.xWrap("sqlite3_wasm_db_config_ip","int",["sqlite3*","int","int","*"])),c){case i.SQLITE_DBCONFIG_ENABLE_FKEY:case i.SQLITE_DBCONFIG_ENABLE_TRIGGER:case i.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case i.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case i.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case i.SQLITE_DBCONFIG_ENABLE_QPSG:case i.SQLITE_DBCONFIG_TRIGGER_EQP:case i.SQLITE_DBCONFIG_RESET_DATABASE:case i.SQLITE_DBCONFIG_DEFENSIVE:case i.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case i.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case i.SQLITE_DBCONFIG_DQS_DML:case i.SQLITE_DBCONFIG_DQS_DDL:case i.SQLITE_DBCONFIG_ENABLE_VIEW:case i.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case i.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case i.SQLITE_DBCONFIG_STMT_SCANSTATUS:case i.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(a,c,u[0],u[1]||0);case i.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(a,c,u[0],u[1],u[2]);case i.SQLITE_DBCONFIG_MAINDBNAME:return this.s(a,c,u[0]);default:return i.SQLITE_MISUSE}}.bind(Object.create(null)),i.sqlite3_value_to_js=function(a,c=!0){let u;const F=i.sqlite3_value_type(a);switch(F){case i.SQLITE_INTEGER:l.bigIntEnabled?(u=i.sqlite3_value_int64(a),x.bigIntFitsDouble(u)&&(u=Number(u))):u=i.sqlite3_value_double(a);break;case i.SQLITE_FLOAT:u=i.sqlite3_value_double(a);break;case i.SQLITE_TEXT:u=i.sqlite3_value_text(a);break;case i.SQLITE_BLOB:{const z=i.sqlite3_value_bytes(a),K=i.sqlite3_value_blob(a);z&&!K&&y.WasmAllocError.toss("Cannot allocate memory for blob argument of",z,"byte(s)"),u=z?l.heap8u().slice(K,K+Number(z)):null;break}case i.SQLITE_NULL:u=null;break;default:c&&B(i.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",F),u=void 0}return u},i.sqlite3_values_to_js=function(a,c,u=!0){let F;const z=[];for(F=0;F<a;++F)z.push(i.sqlite3_value_to_js(l.peekPtr(c+l.ptrSizeof*F),u));return z},i.sqlite3_result_error_js=function(a,c){c instanceof b?i.sqlite3_result_error_nomem(a):i.sqlite3_result_error(a,""+c,-1)},i.sqlite3_result_js=function(a,c){if(c instanceof Error){i.sqlite3_result_error_js(a,c);return}try{switch(typeof c){case"undefined":break;case"boolean":i.sqlite3_result_int(a,c?1:0);break;case"bigint":x.bigIntFits32(c)?i.sqlite3_result_int(a,Number(c)):x.bigIntFitsDouble(c)?i.sqlite3_result_double(a,Number(c)):l.bigIntEnabled?x.bigIntFits64(c)?i.sqlite3_result_int64(a,c):B("BigInt value",c.toString(),"is too BigInt for int64."):B("BigInt value",c.toString(),"is too BigInt.");break;case"number":{let u;x.isInt32(c)?u=i.sqlite3_result_int:l.bigIntEnabled&&Number.isInteger(c)&&x.bigIntFits64(BigInt(c))?u=i.sqlite3_result_int64:u=i.sqlite3_result_double,u(a,c);break}case"string":{const[u,F]=l.allocCString(c,!0);i.sqlite3_result_text(a,u,F,i.SQLITE_WASM_DEALLOC);break}case"object":if(c===null){i.sqlite3_result_null(a);break}else if(x.isBindableTypedArray(c)){const u=l.allocFromTypedArray(c);i.sqlite3_result_blob(a,u,c.byteLength,i.SQLITE_WASM_DEALLOC);break}default:B("Don't not how to handle this UDF result value:",typeof c,c)}}catch(u){i.sqlite3_result_error_js(a,u)}},i.sqlite3_column_js=function(a,c,u=!0){const F=i.sqlite3_column_value(a,c);return F===0?void 0:i.sqlite3_value_to_js(F,u)};const d=function(a,c,u){u=i[u],this.ptr?l.pokePtr(this.ptr,0):this.ptr=l.allocPtr();const F=u(a,c,this.ptr);if(F)return O.toss(F,arguments[2]+"() failed with code "+F);const z=l.peekPtr(this.ptr);return z?i.sqlite3_value_to_js(z,!0):void 0}.bind(Object.create(null));i.sqlite3_preupdate_new_js=(a,c)=>d(a,c,"sqlite3_preupdate_new"),i.sqlite3_preupdate_old_js=(a,c)=>d(a,c,"sqlite3_preupdate_old"),i.sqlite3changeset_new_js=(a,c)=>d(a,c,"sqlite3changeset_new"),i.sqlite3changeset_old_js=(a,c)=>d(a,c,"sqlite3changeset_old");const y={WasmAllocError:b,SQLite3Error:O,capi:i,util:x,wasm:l,config:r,version:Object.create(null),client:void 0,asyncPostInit:async function a(){if(a.isReady instanceof Promise)return a.isReady;let c=e.initializersAsync;delete e.initializersAsync;const u=async()=>(y.__isUnderTest||(delete y.util,delete y.StructBinder),y),F=K=>{throw r.error("an async sqlite3 initializer failed:",K),K};if(!c||!c.length)return a.isReady=u().catch(F);c=c.map(K=>K instanceof Function?async Y=>K(y):K),c.push(u);let z=Promise.resolve(y);for(;c.length;)z=z.then(c.shift());return a.isReady=z.catch(F)},scriptInfo:void 0};try{e.initializers.forEach(a=>{a(y)})}catch(a){throw console.error("sqlite3 bootstrap initializer threw:",a),a}return delete e.initializers,e.sqlite3=y,y},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(e){e.bigIntEnabled===void 0&&(e.bigIntEnabled=!!globalThis.BigInt64Array);const s=(..._)=>{throw new Error(_.join(" "))};e.exports||Object.defineProperty(e,"exports",{enumerable:!0,configurable:!0,get:()=>e.instance&&e.instance.exports});const r=e.pointerIR||"i32",i=e.ptrSizeof=r==="i32"?4:r==="i64"?8:s("Unhandled ptrSizeof:",r),l=Object.create(null);l.heapSize=0,l.memory=null,l.freeFuncIndexes=[],l.scopedAlloc=[],l.utf8Decoder=new TextDecoder,l.utf8Encoder=new TextEncoder("utf-8"),e.sizeofIR=_=>{switch(_){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return i;default:return(""+_).endsWith("*")?i:void 0}};const h=function(){if(!l.memory)l.memory=e.memory instanceof WebAssembly.Memory?e.memory:e.exports.memory;else if(l.heapSize===l.memory.buffer.byteLength)return l;const _=l.memory.buffer;return l.HEAP8=new Int8Array(_),l.HEAP8U=new Uint8Array(_),l.HEAP16=new Int16Array(_),l.HEAP16U=new Uint16Array(_),l.HEAP32=new Int32Array(_),l.HEAP32U=new Uint32Array(_),e.bigIntEnabled&&(l.HEAP64=new BigInt64Array(_),l.HEAP64U=new BigUint64Array(_)),l.HEAP32F=new Float32Array(_),l.HEAP64F=new Float64Array(_),l.heapSize=_.byteLength,l};e.heap8=()=>h().HEAP8,e.heap8u=()=>h().HEAP8U,e.heap16=()=>h().HEAP16,e.heap16u=()=>h().HEAP16U,e.heap32=()=>h().HEAP32,e.heap32u=()=>h().HEAP32U,e.heapForSize=function(_,b=!0){const x=l.memory&&l.heapSize===l.memory.buffer.byteLength?l:h();switch(_){case Int8Array:return x.HEAP8;case Uint8Array:return x.HEAP8U;case Int16Array:return x.HEAP16;case Uint16Array:return x.HEAP16U;case Int32Array:return x.HEAP32;case Uint32Array:return x.HEAP32U;case 8:return b?x.HEAP8U:x.HEAP8;case 16:return b?x.HEAP16U:x.HEAP16;case 32:return b?x.HEAP32U:x.HEAP32;case 64:if(x.HEAP64)return b?x.HEAP64U:x.HEAP64;break;default:if(e.bigIntEnabled){if(_===globalThis.BigUint64Array)return x.HEAP64U;if(_===globalThis.BigInt64Array)return x.HEAP64;break}}s("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},e.functionTable=function(){return e.exports.__indirect_function_table},e.functionEntry=function(_){const b=e.functionTable();return _<b.length?b.get(_):void 0},e.jsFuncToWasm=function _(b,x){if(_._||(_._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(y,a,c){c<128?y[a](c):y[a](c%128|128,c>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(y){const a=_._.rxJSig.exec(y);return a?a[2]:y.substr(1)},letterType:y=>_._.sigTypes[y]||s("Invalid signature letter:",y),pushSigType:(y,a)=>y.push(_._.typeCodes[_._.letterType(a)])}),typeof b=="string"){const y=x;x=b,b=y}const M=_._.sigParams(x),d=[1,96];_._.uleb128Encode(d,"push",M.length);for(const y of M)_._.pushSigType(d,y);return x[0]==="v"?d.push(0):(d.push(1),_._.pushSigType(d,x[0])),_._.uleb128Encode(d,"unshift",d.length),d.unshift(0,97,115,109,1,0,0,0,1),d.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(d)),{e:{f:b}}).exports.f};const w=function(b,x,M){if(M&&!l.scopedAlloc.length&&s("No scopedAllocPush() scope is active."),typeof b=="string"){const c=x;x=b,b=c}(typeof x!="string"||!(b instanceof Function))&&s("Invalid arguments: expecting (function,signature) or (signature,function).");const d=e.functionTable(),y=d.length;let a;for(;l.freeFuncIndexes.length&&(a=l.freeFuncIndexes.pop(),d.get(a));){a=null;continue}a||(a=y,d.grow(1));try{return d.set(a,b),M&&l.scopedAlloc[l.scopedAlloc.length-1].push(a),a}catch(c){if(!(c instanceof TypeError))throw a===y&&l.freeFuncIndexes.push(y),c}try{const c=e.jsFuncToWasm(b,x);d.set(a,c),M&&l.scopedAlloc[l.scopedAlloc.length-1].push(a)}catch(c){throw a===y&&l.freeFuncIndexes.push(y),c}return a};e.installFunction=(_,b)=>w(_,b,!1),e.scopedInstallFunction=(_,b)=>w(_,b,!0),e.uninstallFunction=function(_){if(!_&&_!==0)return;const b=l.freeFuncIndexes,x=e.functionTable();b.push(_);const M=x.get(_);return x.set(_,null),M},e.peek=function(b,x="i8"){x.endsWith("*")&&(x=r);const M=l.memory&&l.heapSize===l.memory.buffer.byteLength?l:h(),d=Array.isArray(b)?[]:void 0;let y;do{switch(d&&(b=arguments[0].shift()),x){case"i1":case"i8":y=M.HEAP8[b>>0];break;case"i16":y=M.HEAP16[b>>1];break;case"i32":y=M.HEAP32[b>>2];break;case"float":case"f32":y=M.HEAP32F[b>>2];break;case"double":case"f64":y=Number(M.HEAP64F[b>>3]);break;case"i64":if(e.bigIntEnabled){y=BigInt(M.HEAP64[b>>3]);break}default:s("Invalid type for peek():",x)}d&&d.push(y)}while(d&&arguments[0].length);return d||y},e.poke=function(_,b,x="i8"){x.endsWith("*")&&(x=r);const M=l.memory&&l.heapSize===l.memory.buffer.byteLength?l:h();for(const d of Array.isArray(_)?_:[_])switch(x){case"i1":case"i8":M.HEAP8[d>>0]=b;continue;case"i16":M.HEAP16[d>>1]=b;continue;case"i32":M.HEAP32[d>>2]=b;continue;case"float":case"f32":M.HEAP32F[d>>2]=b;continue;case"double":case"f64":M.HEAP64F[d>>3]=b;continue;case"i64":if(M.HEAP64){M.HEAP64[d>>3]=BigInt(b);continue}default:s("Invalid type for poke(): "+x)}return this},e.peekPtr=(..._)=>e.peek(_.length===1?_[0]:_,r),e.pokePtr=(_,b=0)=>e.poke(_,b,r),e.peek8=(..._)=>e.peek(_.length===1?_[0]:_,"i8"),e.poke8=(_,b)=>e.poke(_,b,"i8"),e.peek16=(..._)=>e.peek(_.length===1?_[0]:_,"i16"),e.poke16=(_,b)=>e.poke(_,b,"i16"),e.peek32=(..._)=>e.peek(_.length===1?_[0]:_,"i32"),e.poke32=(_,b)=>e.poke(_,b,"i32"),e.peek64=(..._)=>e.peek(_.length===1?_[0]:_,"i64"),e.poke64=(_,b)=>e.poke(_,b,"i64"),e.peek32f=(..._)=>e.peek(_.length===1?_[0]:_,"f32"),e.poke32f=(_,b)=>e.poke(_,b,"f32"),e.peek64f=(..._)=>e.peek(_.length===1?_[0]:_,"f64"),e.poke64f=(_,b)=>e.poke(_,b,"f64"),e.getMemValue=e.peek,e.getPtrValue=e.peekPtr,e.setMemValue=e.poke,e.setPtrValue=e.pokePtr,e.isPtr32=_=>typeof _=="number"&&_===(_|0)&&_>=0,e.isPtr=e.isPtr32,e.cstrlen=function(_){if(!_||!e.isPtr(_))return null;const b=h().HEAP8U;let x=_;for(;b[x]!==0;++x);return x-_};const O=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,B=function(_,b,x){return l.utf8Decoder.decode(_.buffer instanceof O?_.slice(b,x):_.subarray(b,x))};e.cstrToJs=function(_){const b=e.cstrlen(_);return b?B(h().HEAP8U,_,_+b):b===null?b:""},e.jstrlen=function(_){if(typeof _!="string")return null;const b=_.length;let x=0;for(let M=0;M<b;++M){let d=_.charCodeAt(M);d>=55296&&d<=57343&&(d=65536+((d&1023)<<10)|_.charCodeAt(++M)&1023),d<=127?++x:d<=2047?x+=2:d<=65535?x+=3:x+=4}return x},e.jstrcpy=function(_,b,x=0,M=-1,d=!0){if((!b||!(b instanceof Int8Array)&&!(b instanceof Uint8Array))&&s("jstrcpy() target must be an Int8Array or Uint8Array."),M<0&&(M=b.length-x),!(M>0)||!(x>=0))return 0;let y=0,a=_.length;const c=x,u=x+M-(d?1:0);for(;y<a&&x<u;++y){let F=_.charCodeAt(y);if(F>=55296&&F<=57343&&(F=65536+((F&1023)<<10)|_.charCodeAt(++y)&1023),F<=127){if(x>=u)break;b[x++]=F}else if(F<=2047){if(x+1>=u)break;b[x++]=192|F>>6,b[x++]=128|F&63}else if(F<=65535){if(x+2>=u)break;b[x++]=224|F>>12,b[x++]=128|F>>6&63,b[x++]=128|F&63}else{if(x+3>=u)break;b[x++]=240|F>>18,b[x++]=128|F>>12&63,b[x++]=128|F>>6&63,b[x++]=128|F&63}}return d&&(b[x++]=0),x-c},e.cstrncpy=function(_,b,x){if((!_||!b)&&s("cstrncpy() does not accept NULL strings."),x<0)x=e.cstrlen(strPtr)+1;else if(!(x>0))return 0;const M=e.heap8u();let d=0,y;for(;d<x&&(y=M[b+d]);++d)M[_+d]=y;return d<x&&(M[_+d++]=0),d},e.jstrToUintArray=(_,b=!1)=>l.utf8Encoder.encode(b?_+"\0":_);const Q=(_,b)=>{(!(_.alloc instanceof Function)||!(_.dealloc instanceof Function))&&s("Object is missing alloc() and/or dealloc() function(s)","required by",b+"().")},$=function(_,b,x,M){if(Q(e,M),typeof _!="string")return null;{const d=l.utf8Encoder.encode(_),y=x(d.length+1),a=h().HEAP8U;return a.set(d,y),a[y+d.length]=0,b?[y,d.length]:y}};e.allocCString=(_,b=!1)=>$(_,b,e.alloc,"allocCString()"),e.scopedAllocPush=function(){Q(e,"scopedAllocPush");const _=[];return l.scopedAlloc.push(_),_},e.scopedAllocPop=function(_){Q(e,"scopedAllocPop");const b=arguments.length?l.scopedAlloc.indexOf(_):l.scopedAlloc.length-1;b<0&&s("Invalid state object for scopedAllocPop()."),arguments.length===0&&(_=l.scopedAlloc[b]),l.scopedAlloc.splice(b,1);for(let x;x=_.pop();)e.functionEntry(x)?e.uninstallFunction(x):e.dealloc(x)},e.scopedAlloc=function(_){l.scopedAlloc.length||s("No scopedAllocPush() scope is active.");const b=e.alloc(_);return l.scopedAlloc[l.scopedAlloc.length-1].push(b),b},Object.defineProperty(e.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>l.scopedAlloc.length,set:()=>s("The 'active' property is read-only.")}),e.scopedAllocCString=(_,b=!1)=>$(_,b,e.scopedAlloc,"scopedAllocCString()");const I=function(_,b){const x=e[_?"scopedAlloc":"alloc"]((b.length+1)*e.ptrSizeof);let M=0;return b.forEach(d=>{e.pokePtr(x+e.ptrSizeof*M++,e[_?"scopedAllocCString":"allocCString"](""+d))}),e.pokePtr(x+e.ptrSizeof*M,0),x};e.scopedAllocMainArgv=_=>I(!0,_),e.allocMainArgv=_=>I(!1,_),e.cArgvToJs=(_,b)=>{const x=[];for(let M=0;M<_;++M){const d=e.peekPtr(b+e.ptrSizeof*M);x.push(d?e.cstrToJs(d):null)}return x},e.scopedAllocCall=function(_){e.scopedAllocPush();try{return _()}finally{e.scopedAllocPop()}};const f=function(_,b,x){Q(e,x);const M=b?"i64":r;let d=e[x](_*(b?8:i));if(e.poke(d,0,M),_===1)return d;const y=[d];for(let a=1;a<_;++a)d+=b?8:i,y[a]=d,e.poke(d,0,M);return y};e.allocPtr=(_=1,b=!0)=>f(_,b,"alloc"),e.scopedAllocPtr=(_=1,b=!0)=>f(_,b,"scopedAlloc"),e.xGet=function(_){return e.exports[_]||s("Cannot find exported symbol:",_)};const p=(_,b)=>s(_+"() requires",b,"argument(s).");e.xCall=function(_,...b){const x=e.xGet(_);return x instanceof Function||s("Exported symbol",_,"is not a function."),x.length!==b.length&&p(_,x.length),arguments.length===2&&Array.isArray(arguments[1])?x.apply(null,arguments[1]):x.apply(null,b)},l.xWrap=Object.create(null),l.xWrap.convert=Object.create(null),l.xWrap.convert.arg=new Map,l.xWrap.convert.result=new Map;const q=l.xWrap.convert.arg,S=l.xWrap.convert.result;e.bigIntEnabled&&q.set("i64",_=>BigInt(_));const g=r==="i32"?_=>_|0:_=>BigInt(_)|BigInt(0);q.set("i32",g).set("i16",_=>(_|0)&65535).set("i8",_=>(_|0)&255).set("f32",_=>Number(_).valueOf()).set("float",q.get("f32")).set("f64",q.get("f32")).set("double",q.get("f64")).set("int",q.get("i32")).set("null",_=>_).set(null,q.get("null")).set("**",g).set("*",g),S.set("*",g).set("pointer",g).set("number",_=>Number(_)).set("void",_=>{}).set("null",_=>_).set(null,S.get("null"));{const _=["i8","i16","i32","int","f32","float","f64","double"];e.bigIntEnabled&&_.push("i64");const b=q.get(r);for(const x of _)q.set(x+"*",b),S.set(x+"*",b),S.set(x,q.get(x)||s("Missing arg converter:",x))}const C=function(_){return typeof _=="string"?e.scopedAllocCString(_):_?g(_):null};q.set("string",C).set("utf8",C).set("pointer",C),S.set("string",_=>e.cstrToJs(_)).set("utf8",S.get("string")).set("string:dealloc",_=>{try{return _?e.cstrToJs(_):null}finally{e.dealloc(_)}}).set("utf8:dealloc",S.get("string:dealloc")).set("json",_=>JSON.parse(e.cstrToJs(_))).set("json:dealloc",_=>{try{return _?JSON.parse(e.cstrToJs(_)):null}finally{e.dealloc(_)}});const j=class{constructor(_){this.name=_.name||"unnamed adapter"}convertArg(_,b,x){s("AbstractArgAdapter must be subclassed.")}};q.FuncPtrAdapter=class Oe extends j{constructor(b){super(b),q.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",b),this.name=b.name||"unnamed",this.signature=b.signature,b.contextKey instanceof Function&&(this.contextKey=b.contextKey,b.bindScope||(b.bindScope="context")),this.bindScope=b.bindScope||s("FuncPtrAdapter options requires a bindScope (explicit or implied)."),Oe.bindScopes.indexOf(b.bindScope)<0&&s("Invalid options.bindScope ("+b.bindMod+") for FuncPtrAdapter. Expecting one of: ("+Oe.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=b.callProxy instanceof Function?b.callProxy:void 0}contextKey(b,x){return this}contextMap(b){const x=this.__cmap||(this.__cmap=new Map);let M=x.get(b);return M===void 0&&x.set(b,M=[]),M}convertArg(b,x,M){let d=this.singleton;if(!d&&this.isContext&&(d=this.contextMap(this.contextKey(x,M))),d&&d[0]===b)return d[1];if(b instanceof Function){this.callProxy&&(b=this.callProxy(b));const y=w(b,this.signature,this.isTransient);if(Oe.debugFuncInstall&&Oe.debugOut("FuncPtrAdapter installed",this,this.contextKey(x,M),"@"+y,b),d){if(d[1]){Oe.debugFuncInstall&&Oe.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(x,M),"@"+d[1],b);try{l.scopedAlloc[l.scopedAlloc.length-1].push(d[1])}catch{}}d[0]=b,d[1]=y}return y}else if(e.isPtr(b)||b===null||b===void 0){if(d&&d[1]&&d[1]!==b){Oe.debugFuncInstall&&Oe.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(x,M),"@"+d[1],b);try{l.scopedAlloc[l.scopedAlloc.length-1].push(d[1])}catch{}d[0]=d[1]=b|0}return b||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},q.FuncPtrAdapter.warnOnUse=!1,q.FuncPtrAdapter.debugFuncInstall=!1,q.FuncPtrAdapter.debugOut=console.debug.bind(console),q.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const U=_=>q.get(_)||s("Argument adapter not found:",_),D=_=>S.get(_)||s("Result adapter not found:",_);l.xWrap.convertArg=(_,...b)=>U(_)(...b),l.xWrap.convertArgNoCheck=(_,...b)=>q.get(_)(...b),l.xWrap.convertResult=(_,b)=>_===null?b:_?D(_)(b):void 0,l.xWrap.convertResultNoCheck=(_,b)=>_===null?b:_?S.get(_)(b):void 0,e.xWrap=function(_,b,...x){arguments.length===3&&Array.isArray(arguments[2])&&(x=arguments[2]),e.isPtr(_)&&(_=e.functionEntry(_)||s("Function pointer not found in WASM function table."));const M=_ instanceof Function,d=M?_:e.xGet(_);if(M&&(_=d.name||"unnamed function"),x.length!==d.length&&p(_,d.length),b===null&&d.length===0)return d;b!=null&&D(b);for(const a of x)a instanceof j?q.set(a,(...c)=>a.convertArg(...c)):U(a);const y=l.xWrap;return d.length===0?(...a)=>a.length?p(_,d.length):y.convertResult(b,d.call(null)):function(...a){a.length!==d.length&&p(_,d.length);const c=e.scopedAllocPush();try{for(const u in a)a[u]=y.convertArgNoCheck(x[u],a[u],a,u);return y.convertResultNoCheck(b,d.apply(null,a))}finally{e.scopedAllocPop(c)}}};const te=function(_,b,x,M,d,y){if(typeof x=="string"){if(b===1)return y.get(x);if(b===2){if(M)M instanceof Function||s(d,"requires a function argument.");else return delete y.get(x),_;return y.set(x,M),_}}s("Invalid arguments to",d)};return e.xWrap.resultAdapter=function _(b,x){return te(_,arguments.length,b,x,"resultAdapter()",S)},e.xWrap.argAdapter=function _(b,x){return te(_,arguments.length,b,x,"argAdapter()",q)},e.xWrap.FuncPtrAdapter=q.FuncPtrAdapter,e.xCallWrapped=function(_,b,x,...M){return Array.isArray(arguments[3])&&(M=arguments[3]),e.xWrap(_,b,x||[]).apply(null,M||[])},e.xWrap.testConvertArg=l.xWrap.convertArg,e.xWrap.testConvertResult=l.xWrap.convertResult,e},globalThis.WhWasmUtilInstaller.yawl=function(e){const s=()=>fetch(e.uri,{credentials:"same-origin"}),r=this,i=function(h){if(e.wasmUtilTarget){const w=(...B)=>{throw new Error(B.join(" "))},O=e.wasmUtilTarget;if(O.module=h.module,O.instance=h.instance,O.instance.exports.memory||(O.memory=e.imports&&e.imports.env&&e.imports.env.memory||w("Missing 'memory' object!")),!O.alloc&&h.instance.exports.malloc){const B=h.instance.exports;O.alloc=function(Q){return B.malloc(Q)||w("Allocation of",Q,"bytes failed.")},O.dealloc=function(Q){B.free(Q)}}r(O)}return e.onload&&e.onload(h,e),h};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(s(),e.imports||{}).then(i)}:function(){return s().then(w=>w.arrayBuffer()).then(w=>WebAssembly.instantiate(w,e.imports||{})).then(i)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function e(s){const r=(...m)=>{throw new Error(m.join(" "))};!(s.heap instanceof WebAssembly.Memory)&&!(s.heap instanceof Function)&&r("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(m){s[m]instanceof Function||r("Config option '"+m+"' must be a function.")});const i=e,l=s.heap instanceof Function?s.heap:()=>new Uint8Array(s.heap.buffer),h=s.alloc,w=s.dealloc,O=s.log||console.log.bind(console),B=s.memberPrefix||"",Q=s.memberSuffix||"",$=s.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!s.bigIntEnabled,I=globalThis.BigInt,f=globalThis.BigInt64Array,p=s.ptrSizeof||4,q=s.ptrIR||"i32";i.debugFlags||(i.__makeDebugFlags=function(m=null){m&&m.__flags&&(m=m.__flags);const A=function T(L){return arguments.length===0?T.__flags:(L<0?(delete T.__flags.getter,delete T.__flags.setter,delete T.__flags.alloc,delete T.__flags.dealloc):(T.__flags.getter=(1&L)!==0,T.__flags.setter=(2&L)!==0,T.__flags.alloc=(4&L)!==0,T.__flags.dealloc=(8&L)!==0),T._flags)};return Object.defineProperty(A,"__flags",{iterable:!1,writable:!1,value:Object.create(m)}),m||A(0),A},i.debugFlags=i.__makeDebugFlags());const S=function(){const m=new ArrayBuffer(2);return new DataView(m).setInt16(0,256,!0),new Int16Array(m)[0]===256}(),g=m=>m[1]==="(",C=m=>m==="P",j=m=>g(m)?"p":m[0],U=function(m){switch(j(m)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return q;case"j":return"i64";case"f":return"float";case"d":return"double"}r("Unhandled signature IR:",m)},D=f?()=>!0:()=>r("BigInt64Array is not available."),te=function(m){switch(j(m)){case"p":case"P":case"s":{switch(p){case 4:return"getInt32";case 8:return D()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return D()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}r("Unhandled DataView getter for signature:",m)},_=function(m){switch(j(m)){case"p":case"P":case"s":{switch(p){case 4:return"setInt32";case 8:return D()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return D()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}r("Unhandled DataView setter for signature:",m)},b=function(m){switch(j(m)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return D()&&I;case"p":case"P":case"s":switch(p){case 4:return Number;case 8:return D()&&I}break}r("Unhandled DataView set wrapper for signature:",m)},x=(m,A)=>m+"::"+A,M=function(m,A){return()=>r(x(m,A),"is read-only.")},d=new WeakMap,y="(pointer-is-external)",a=function(m,A,T){if(T||(T=d.get(A)),T){if(d.delete(A),Array.isArray(A.ondispose)){let L;for(;L=A.ondispose.shift();)try{L instanceof Function?L.call(A):L instanceof J?L.dispose():typeof L=="number"&&w(L)}catch(V){console.warn("ondispose() for",m.structName,"@",T,"threw. NOT propagating it.",V)}}else if(A.ondispose instanceof Function)try{A.ondispose()}catch(L){console.warn("ondispose() for",m.structName,"@",T,"threw. NOT propagating it.",L)}delete A.ondispose,m.debugFlags.__flags.dealloc&&O("debug.dealloc:",A[y]?"EXTERNAL":"",m.structName,"instance:",m.structInfo.sizeof,"bytes @"+T),A[y]||w(T)}},c=m=>({configurable:!1,writable:!1,iterable:!1,value:m}),u=function(m,A,T){let L=!T;T?Object.defineProperty(A,y,c(T)):(T=h(m.structInfo.sizeof),T||r("Allocation of",m.structName,"structure failed."));try{m.debugFlags.__flags.alloc&&O("debug.alloc:",L?"":"EXTERNAL",m.structName,"instance:",m.structInfo.sizeof,"bytes @"+T),L&&l().fill(0,T,T+m.structInfo.sizeof),d.set(A,T)}catch(V){throw a(m,A,T),V}},F=function(){const m=this.pointer;return m?new Uint8Array(l().slice(m,m+this.structInfo.sizeof)):null},K=c(m=>B+m+Q),Y=function(m,A,T=!0){let L=m.members[A];if(!L&&(B||Q)){for(const V of Object.values(m.members))if(V.key===A){L=V;break}!L&&T&&r(x(m.name,A),"is not a mapped struct member.")}return L},re=function m(A,T,L=!1){m._||(m._=ee=>ee.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const V=Y(A.structInfo,T,!0);return L?m._(V.signature):V.signature},ne={configurable:!1,enumerable:!1,get:function(){return d.get(this)},set:()=>r("Cannot assign the 'pointer' property of a struct.")},Z=c(function(){const m=[];for(const A of Object.keys(this.structInfo.members))m.push(this.memberKey(A));return m}),le=new TextDecoder("utf-8"),_e=new TextEncoder,fe=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,ye=function(m,A,T){return le.decode(m.buffer instanceof fe?m.slice(A,T):m.subarray(A,T))},be=function(m,A,T=!1){const L=Y(m.structInfo,A,T);return L&&L.signature.length===1&&L.signature[0]==="s"?L:!1},k=function(m){m.signature!=="s"&&r("Invalid member type signature for C-string value:",JSON.stringify(m))},N=function(A,T){const L=Y(A.structInfo,T,!0);k(L);const V=A[L.key];if(!V)return null;let ee=V;const ie=l();for(;ie[ee]!==0;++ee);return V===ee?"":ye(ie,V,ee)},R=function(m,...A){m.ondispose?Array.isArray(m.ondispose)||(m.ondispose=[m.ondispose]):m.ondispose=[],m.ondispose.push(...A)},H=function(m){const A=_e.encode(m),T=h(A.length+1);T||r("Allocation error while duplicating string:",m);const L=l();return L.set(A,T),L[T+A.length]=0,T},W=function(m,A,T){const L=Y(m.structInfo,A,!0);k(L);const V=H(T);return m[L.key]=V,R(m,V),m},J=function(A,T){arguments[2]!==c&&r("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:c(A),structInfo:c(T)})};J.prototype=Object.create(null,{dispose:c(function(){a(this.constructor,this)}),lookupMember:c(function(m,A=!0){return Y(this.structInfo,m,A)}),memberToJsString:c(function(m){return N(this,m)}),memberIsString:c(function(m,A=!0){return be(this,m,A)}),memberKey:K,memberKeys:Z,memberSignature:c(function(m,A=!1){return re(this,m,A)}),memoryDump:c(F),pointer:ne,setMemberCString:c(function(m,A){return W(this,m,A)})}),Object.assign(J.prototype,{addOnDispose:function(...m){return R(this,...m),this}}),Object.defineProperties(J,{allocCString:c(H),isA:c(m=>m instanceof J),hasExternalPointer:c(m=>m instanceof J&&!!m[y]),memberKey:K});const X=m=>Number.isFinite(m)||m instanceof(I||Number),P=function m(A,T,L){if(!m._){m._={getters:{},setters:{},sw:{}};const we=["i","c","C","p","P","s","f","d","v()"];$&&we.push("j"),we.forEach(function(Ie){m._.getters[Ie]=te(Ie),m._.setters[Ie]=_(Ie),m._.sw[Ie]=b(Ie)});const $n=/^[ipPsjfdcC]$/,Kn=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;m.sigCheck=function(Ie,Jn,Rt,lt){Object.prototype.hasOwnProperty.call(Ie,Rt)&&r(Ie.structName,"already has a property named",Rt+"."),$n.test(lt)||Kn.test(lt)||r("Malformed signature for",x(Ie.structName,Jn)+":",lt)}}const V=A.memberKey(T);m.sigCheck(A.prototype,T,V,L.signature),L.key=V,L.name=T;const ee=j(L.signature),ie=x(A.prototype.structName,V),he=A.prototype.debugFlags.__flags,Fe=Object.create(null);Fe.configurable=!1,Fe.enumerable=!1,Fe.get=function(){he.getter&&O("debug.getter:",m._.getters[ee],"for",U(ee),ie,"@",this.pointer,"+",L.offset,"sz",L.sizeof);let we=new DataView(l().buffer,this.pointer+L.offset,L.sizeof)[m._.getters[ee]](0,S);return he.getter&&O("debug.getter:",ie,"result =",we),we},L.readOnly?Fe.set=M(A.prototype.structName,V):Fe.set=function(we){if(he.setter&&O("debug.setter:",m._.setters[ee],"for",U(ee),ie,"@",this.pointer,"+",L.offset,"sz",L.sizeof,we),this.pointer||r("Cannot set struct property on disposed instance."),we===null)we=0;else for(;!X(we);){if(C(L.signature)&&we instanceof J){we=we.pointer||0,he.setter&&O("debug.setter:",ie,"resolved to",we);break}r("Invalid value for pointer-type",ie+".")}new DataView(l().buffer,this.pointer+L.offset,L.sizeof)[m._.setters[ee]](0,m._.sw[ee](we),S)},Object.defineProperty(A.prototype,V,Fe)},E=function m(A,T){arguments.length===1?(T=A,A=T.name):T.name||(T.name=A),A||r("Struct name is required.");let L=!1;Object.keys(T.members).forEach(ie=>{const he=T.members[ie];he.sizeof?he.sizeof===1?he.signature==="c"||he.signature==="C"||r("Unexpected sizeof==1 member",x(T.name,ie),"with signature",he.signature):(he.sizeof%4!==0&&(console.warn("Invalid struct member description =",he,"from",T),r(A,"member",ie,"sizeof is not aligned. sizeof="+he.sizeof)),he.offset%4!==0&&(console.warn("Invalid struct member description =",he,"from",T),r(A,"member",ie,"offset is not aligned. offset="+he.offset))):r(A,"member",ie,"is missing sizeof."),(!L||L.offset<he.offset)&&(L=he)}),L?T.sizeof<L.offset+L.sizeof&&r("Invalid struct config:",A,"max member offset ("+L.offset+") ","extends past end of struct (sizeof="+T.sizeof+")."):r("No member property descriptions found.");const V=c(i.__makeDebugFlags(m.debugFlags)),ee=function ie(he){this instanceof ie?arguments.length?((he!==(he|0)||he<=0)&&r("Invalid pointer value for",A,"constructor."),u(ie,this,he)):u(ie,this):r("The",A,"constructor may only be called via 'new'.")};return Object.defineProperties(ee,{debugFlags:V,isA:c(ie=>ie instanceof ee),memberKey:K,memberKeys:Z,methodInfoForKey:c(function(ie){}),structInfo:c(T),structName:c(A)}),ee.prototype=new J(A,T,c),Object.defineProperties(ee.prototype,{debugFlags:V,constructor:c(ee)}),Object.keys(T.members).forEach(ie=>P(ee,ie,T.members[ie])),ee};return E.StructType=J,E.config=s,E.allocCString=H,E.debugFlags||(E.debugFlags=i.__makeDebugFlags(i.debugFlags)),E},globalThis.sqlite3ApiBootstrap.initializers.push(function(e){const s=(...I)=>{throw new Error(I.join(" "))};e.SQLite3Error.toss;const r=e.capi,i=e.wasm,l=e.util;if(globalThis.WhWasmUtilInstaller(i),delete globalThis.WhWasmUtilInstaller,i.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new i.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(I,f)=>I[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:I=>I[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new i.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:I=>{let f;return(p,q,S,g)=>{try{const C=i.cArgvToJs(q,S);return f||(f=i.cArgvToJs(q,g)),I(C,f)|0}catch(C){return C.resultCode||r.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_progress_handler",void 0,["sqlite3*","int",new i.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(I,f)=>I[0]}),"*"]],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:I=>I[0]}),"*"]],["sqlite3_set_authorizer","int",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(I,f)=>I[0],callProxy:I=>(f,p,q,S,g,C)=>{try{return q=q&&i.cstrToJs(q),S=S&&i.cstrToJs(S),g=g&&i.cstrToJs(g),C=C&&i.cstrToJs(C),I(f,p,q,S,g,C)||0}catch(j){return j.resultCode||r.SQLITE_ERROR}}}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new i.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(I,f)=>I[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_isexplain","int",["sqlite3_stmt*"]],["sqlite3_stmt_readonly","int",["sqlite3_stmt*"]],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new i.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(I,f)=>I[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],i.exports.sqlite3_activate_see instanceof Function&&i.bindingSignatures.push(["sqlite3_key","int","sqlite3*","string","int"],["sqlite3_key_v2","int","sqlite3*","string","*","int"],["sqlite3_rekey","int","sqlite3*","string","int"],["sqlite3_rekey_v2","int","sqlite3*","string","*","int"],["sqlite3_activate_see",void 0,"string"]),i.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:I=>I[0],callProxy:I=>(f,p,q,S,g,C,j)=>{I(f,p,q,i.cstrToJs(S),i.cstrToJs(g),C,j)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:I=>I[0],callProxy:I=>(f,p,q,S,g)=>{I(f,p,i.cstrToJs(q),i.cstrToJs(S),g)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]],i.bigIntEnabled&&i.exports.sqlite3changegroup_add){const I={signature:"i(ps)",callProxy:f=>(p,q)=>{try{return f(p,i.cstrToJs(q))|0}catch(S){return S.resultCode||r.SQLITE_ERROR}}};i.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new i.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...I}),new i.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...I}),new i.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new i.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...I}),new i.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...I}),new i.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new i.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new i.xWrap.FuncPtrAdapter({name:"xFilter",...I,contextKey:(f,p)=>f[0]}),"*"]])}i.bindingSignatures.wasm=[["sqlite3_wasm_db_reset","int","sqlite3*"],["sqlite3_wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3_wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3_wasm_posix_create_file","int","string","*","int"],["sqlite3_wasm_vfs_unlink","int","sqlite3_vfs*","string"]],e.StructBinder=globalThis.Jaccwabyt({heap:i.heap8u,alloc:i.alloc,dealloc:i.dealloc,bigIntEnabled:i.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const I=i.xWrap.argAdapter("string");i.xWrap.argAdapter("string:flexible",g=>I(l.flexibleString(g))),i.xWrap.argAdapter("string:static",function(g){return i.isPtr(g)?g:(g=""+g,this[g]||(this[g]=i.allocCString(g)))}.bind(Object.create(null)));const f=i.xWrap.argAdapter("*"),p=function(){};i.xWrap.argAdapter("sqlite3_filename",f)("sqlite3_context*",f)("sqlite3_value*",f)("void*",f)("sqlite3_changegroup*",f)("sqlite3_changeset_iter*",f)("sqlite3_session*",f)("sqlite3_stmt*",g=>f(g instanceof(e?.oo1?.Stmt||p)?g.pointer:g))("sqlite3*",g=>f(g instanceof(e?.oo1?.DB||p)?g.pointer:g))("sqlite3_index_info*",g=>f(g instanceof(r.sqlite3_index_info||p)?g.pointer:g))("sqlite3_module*",g=>f(g instanceof(r.sqlite3_module||p)?g.pointer:g))("sqlite3_vfs*",g=>typeof g=="string"?r.sqlite3_vfs_find(g)||e.SQLite3Error.toss(r.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",g):f(g instanceof(r.sqlite3_vfs||p)?g.pointer:g));const q=i.xWrap.resultAdapter("*");i.xWrap.resultAdapter("sqlite3*",q)("sqlite3_context*",q)("sqlite3_stmt*",q)("sqlite3_value*",q)("sqlite3_vfs*",q)("void*",q),i.exports.sqlite3_step.length===0&&(i.xWrap.doArgcCheck=!1,e.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const g of i.bindingSignatures)r[g[0]]=i.xWrap.apply(null,g);for(const g of i.bindingSignatures.wasm)i[g[0]]=i.xWrap.apply(null,g);const S=function(g){return()=>s(g+"() is unavailable due to lack","of BigInt support in this build.")};for(const g of i.bindingSignatures.int64)r[g[0]]=i.bigIntEnabled?i.xWrap.apply(null,g):S(g[0]);if(delete i.bindingSignatures,i.exports.sqlite3_wasm_db_error){const g=i.xWrap("sqlite3_wasm_db_error","int","sqlite3*","int","string");l.sqlite3_wasm_db_error=function(C,j,U){return j instanceof e.WasmAllocError?(j=r.SQLITE_NOMEM,U=0):j instanceof Error&&(U=U||""+j,j=j.resultCode||r.SQLITE_ERROR),C?g(C,j,U):j}}else l.sqlite3_wasm_db_error=function(g,C,j){return console.warn("sqlite3_wasm_db_error() is not exported.",arguments),C}}{const I=i.xCall("sqlite3_wasm_enum_json");I||s("Maintenance required: increase sqlite3_wasm_enum_json()'s","static buffer size!"),i.ctype=JSON.parse(i.cstrToJs(I));const f=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];i.bigIntEnabled&&f.push("serialize","session","vtab");for(const S of f)for(const g of Object.entries(i.ctype[S]))r[g[0]]=g[1];i.functionEntry(r.SQLITE_WASM_DEALLOC)||s("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+r.SQLITE_WASM_DEALLOC+").");const p=Object.create(null);for(const S of["resultCodes"])for(const g of Object.entries(i.ctype[S]))p[g[1]]=g[0];r.sqlite3_js_rc_str=S=>p[S];const q=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!l.isUIThread(),sqlite3_index_info:!i.bigIntEnabled,sqlite3_index_constraint:!i.bigIntEnabled,sqlite3_index_orderby:!i.bigIntEnabled,sqlite3_index_constraint_usage:!i.bigIntEnabled});for(const S of i.ctype.structs)q[S.name]||(r[S.name]=e.StructBinder(S));if(r.sqlite3_index_info){for(const S of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])r.sqlite3_index_info[S]=r[S],delete r[S];r.sqlite3_vtab_config=i.xWrap("sqlite3_wasm_vtab_config","int",["sqlite3*","int","int"])}}const h=(I,f,p)=>l.sqlite3_wasm_db_error(I,r.SQLITE_MISUSE,f+"() requires "+p+" argument"+(p===1?"":"s")+"."),w=I=>l.sqlite3_wasm_db_error(I,r.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),O=I=>i.xWrap.argAdapter("sqlite3*")(I),B=I=>i.isPtr(I)?i.cstrToJs(I):I,Q=function(I,f){I=O(I);let p=this.dbMap.get(I);if(f)!p&&f>0&&this.dbMap.set(I,p=Object.create(null));else return this.dbMap.delete(I),p;return p}.bind(Object.assign(Object.create(null),{dbMap:new Map}));Q.addCollation=function(I,f){const p=Q(I,1);p.collation||(p.collation=new Set),p.collation.add(B(f).toLowerCase())},Q._addUDF=function(I,f,p,q){f=B(f).toLowerCase();let S=q.get(f);S||q.set(f,S=new Set),S.add(p<0?-1:p)},Q.addFunction=function(I,f,p){const q=Q(I,1);q.udf||(q.udf=new Map),this._addUDF(I,f,p,q.udf)},Q.addWindowFunc=function(I,f,p){const q=Q(I,1);q.wudf||(q.wudf=new Map),this._addUDF(I,f,p,q.wudf)},Q.cleanup=function(I){I=O(I);const f=[I];for(const S of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const g=i.exports[S];f.length=g.length;try{r[S](...f)}catch(C){console.warn("close-time call of",S+"(",f,") threw:",C)}}const p=Q(I,0);if(!p)return;if(p.collation){for(const S of p.collation)try{r.sqlite3_create_collation_v2(I,S,r.SQLITE_UTF8,0,0,0)}catch{}delete p.collation}let q;for(q=0;q<2;++q){const S=q?p.wudf:p.udf;if(!S)continue;const g=q?r.sqlite3_create_window_function:r.sqlite3_create_function_v2;for(const C of S){const j=C[0],U=C[1],D=[I,j,0,r.SQLITE_UTF8,0,0,0,0,0];q&&D.push(0);for(const te of U)try{D[2]=te,g.apply(null,D)}catch{}U.clear()}S.clear()}delete p.udf,delete p.wudf};{const I=i.xWrap("sqlite3_close_v2","int","sqlite3*");r.sqlite3_close_v2=function(f){if(arguments.length!==1)return h(f,"sqlite3_close_v2",1);if(f)try{Q.cleanup(f)}catch{}return I(f)}}if(r.sqlite3session_table_filter){const I=i.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);r.sqlite3session_delete=function(f){if(arguments.length!==1)return h(pDb,"sqlite3session_delete",1);f&&r.sqlite3session_table_filter(f,0,0),I(f)}}{const I=(p,q)=>"argv["+q+"]:"+p[0]+":"+i.cstrToJs(p[1]).toLowerCase(),f=i.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new i.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:I}),new i.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:I})]);r.sqlite3_create_collation_v2=function(p,q,S,g,C,j){if(arguments.length!==6)return h(p,"sqlite3_create_collation_v2",6);if(!(S&15))S|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(S&15))return w(p);try{const U=f(p,q,S,g,C,j);return U===0&&C instanceof Function&&Q.addCollation(p,q),U}catch(U){return l.sqlite3_wasm_db_error(p,U)}},r.sqlite3_create_collation=(p,q,S,g,C)=>arguments.length===5?r.sqlite3_create_collation_v2(p,q,S,g,C,0):h(p,"sqlite3_create_collation",5)}{const I=function(S,g){return S[0]+":"+(S[2]<0?-1:S[2])+":"+g+":"+i.cstrToJs(S[1]).toLowerCase()},f=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:I,callProxy:S=>(g,C,j)=>{try{S(g,...r.sqlite3_values_to_js(C,j))}catch(U){r.sqlite3_result_error_js(g,U)}}},xFinalAndValue:{signature:"v(p)",contextKey:I,callProxy:S=>g=>{try{r.sqlite3_result_js(g,S(g))}catch(C){r.sqlite3_result_error_js(g,C)}}},xFunc:{signature:"v(pip)",contextKey:I,callProxy:S=>(g,C,j)=>{try{r.sqlite3_result_js(g,S(g,...r.sqlite3_values_to_js(C,j)))}catch(U){r.sqlite3_result_error_js(g,U)}}},xDestroy:{signature:"v(p)",contextKey:I,callProxy:S=>g=>{try{S(g)}catch(C){console.error("UDF xDestroy method threw:",C)}}}}),p=i.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new i.xWrap.FuncPtrAdapter({name:"xFunc",...f.xFunc}),new i.xWrap.FuncPtrAdapter({name:"xStep",...f.xInverseAndStep}),new i.xWrap.FuncPtrAdapter({name:"xFinal",...f.xFinalAndValue}),new i.xWrap.FuncPtrAdapter({name:"xDestroy",...f.xDestroy})]),q=i.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new i.xWrap.FuncPtrAdapter({name:"xStep",...f.xInverseAndStep}),new i.xWrap.FuncPtrAdapter({name:"xFinal",...f.xFinalAndValue}),new i.xWrap.FuncPtrAdapter({name:"xValue",...f.xFinalAndValue}),new i.xWrap.FuncPtrAdapter({name:"xInverse",...f.xInverseAndStep}),new i.xWrap.FuncPtrAdapter({name:"xDestroy",...f.xDestroy})]);r.sqlite3_create_function_v2=function S(g,C,j,U,D,te,_,b,x){if(S.length!==arguments.length)return h(g,"sqlite3_create_function_v2",S.length);if(!(U&15))U|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(U&15))return w(g);try{const M=p(g,C,j,U,D,te,_,b,x);return M===0&&(te instanceof Function||_ instanceof Function||b instanceof Function||x instanceof Function)&&Q.addFunction(g,C,j),M}catch(M){return console.error("sqlite3_create_function_v2() setup threw:",M),l.sqlite3_wasm_db_error(g,M,"Creation of UDF threw: "+M)}},r.sqlite3_create_function=function S(g,C,j,U,D,te,_,b){return S.length===arguments.length?r.sqlite3_create_function_v2(g,C,j,U,D,te,_,b,0):h(g,"sqlite3_create_function",S.length)},r.sqlite3_create_window_function=function S(g,C,j,U,D,te,_,b,x,M){if(S.length!==arguments.length)return h(g,"sqlite3_create_window_function",S.length);if(!(U&15))U|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(U&15))return w(g);try{const d=q(g,C,j,U,D,te,_,b,x,M);return d===0&&(te instanceof Function||_ instanceof Function||b instanceof Function||x instanceof Function||M instanceof Function)&&Q.addWindowFunc(g,C,j),d}catch(d){return console.error("sqlite3_create_window_function() setup threw:",d),l.sqlite3_wasm_db_error(g,d,"Creation of UDF threw: "+d)}},r.sqlite3_create_function_v2.udfSetResult=r.sqlite3_create_function.udfSetResult=r.sqlite3_create_window_function.udfSetResult=r.sqlite3_result_js,r.sqlite3_create_function_v2.udfConvertArgs=r.sqlite3_create_function.udfConvertArgs=r.sqlite3_create_window_function.udfConvertArgs=r.sqlite3_values_to_js,r.sqlite3_create_function_v2.udfSetError=r.sqlite3_create_function.udfSetError=r.sqlite3_create_window_function.udfSetError=r.sqlite3_result_error_js}{const I=(p,q)=>(typeof p=="string"?q=-1:l.isSQLableTypedArray(p)?(q=p.byteLength,p=l.typedArrayToString(p instanceof ArrayBuffer?new Uint8Array(p):p)):Array.isArray(p)&&(p=p.join(""),q=-1),[p,q]),f={basic:i.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:i.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};r.sqlite3_prepare_v3=function p(q,S,g,C,j,U){if(p.length!==arguments.length)return h(q,"sqlite3_prepare_v3",p.length);const[D,te]=I(S,g);switch(typeof D){case"string":return f.basic(q,D,te,C,j,null);case"number":return f.full(q,D,te,C,j,U);default:return l.sqlite3_wasm_db_error(q,r.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},r.sqlite3_prepare_v2=function p(q,S,g,C,j){return p.length===arguments.length?r.sqlite3_prepare_v3(q,S,g,0,C,j):h(q,"sqlite3_prepare_v2",p.length)}}{const I=i.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),f=i.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);r.sqlite3_bind_text=function p(q,S,g,C,j){if(p.length!==arguments.length)return h(r.sqlite3_db_handle(q),"sqlite3_bind_text",p.length);if(i.isPtr(g)||g===null)return I(q,S,g,C,j);g instanceof ArrayBuffer?g=new Uint8Array(g):Array.isArray(pMem)&&(g=pMem.join(""));let U,D;try{if(l.isSQLableTypedArray(g))U=i.allocFromTypedArray(g),D=g.byteLength;else if(typeof g=="string")[U,D]=i.allocCString(g);else return l.sqlite3_wasm_db_error(r.sqlite3_db_handle(q),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return I(q,S,U,D,r.SQLITE_WASM_DEALLOC)}catch(te){return i.dealloc(U),l.sqlite3_wasm_db_error(r.sqlite3_db_handle(q),te)}},r.sqlite3_bind_blob=function p(q,S,g,C,j){if(p.length!==arguments.length)return h(r.sqlite3_db_handle(q),"sqlite3_bind_blob",p.length);if(i.isPtr(g)||g===null)return f(q,S,g,C,j);g instanceof ArrayBuffer?g=new Uint8Array(g):Array.isArray(g)&&(g=g.join(""));let U,D;try{if(l.isBindableTypedArray(g))U=i.allocFromTypedArray(g),D=C>=0?C:g.byteLength;else if(typeof g=="string")[U,D]=i.allocCString(g);else return l.sqlite3_wasm_db_error(r.sqlite3_db_handle(q),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return f(q,S,U,D,r.SQLITE_WASM_DEALLOC)}catch(te){return i.dealloc(U),l.sqlite3_wasm_db_error(r.sqlite3_db_handle(q),te)}}}r.sqlite3_config=function(I,...f){if(arguments.length<2)return r.SQLITE_MISUSE;switch(I){case r.SQLITE_CONFIG_COVERING_INDEX_SCAN:case r.SQLITE_CONFIG_MEMSTATUS:case r.SQLITE_CONFIG_SMALL_MALLOC:case r.SQLITE_CONFIG_SORTERREF_SIZE:case r.SQLITE_CONFIG_STMTJRNL_SPILL:case r.SQLITE_CONFIG_URI:return i.exports.sqlite3_wasm_config_i(I,f[0]);case r.SQLITE_CONFIG_LOOKASIDE:return i.exports.sqlite3_wasm_config_ii(I,f[0],f[1]);case r.SQLITE_CONFIG_MEMDB_MAXSIZE:return i.exports.sqlite3_wasm_config_j(I,f[0]);case r.SQLITE_CONFIG_GETMALLOC:case r.SQLITE_CONFIG_GETMUTEX:case r.SQLITE_CONFIG_GETPCACHE2:case r.SQLITE_CONFIG_GETPCACHE:case r.SQLITE_CONFIG_HEAP:case r.SQLITE_CONFIG_LOG:case r.SQLITE_CONFIG_MALLOC:case r.SQLITE_CONFIG_MMAP_SIZE:case r.SQLITE_CONFIG_MULTITHREAD:case r.SQLITE_CONFIG_MUTEX:case r.SQLITE_CONFIG_PAGECACHE:case r.SQLITE_CONFIG_PCACHE2:case r.SQLITE_CONFIG_PCACHE:case r.SQLITE_CONFIG_PCACHE_HDRSZ:case r.SQLITE_CONFIG_PMASZ:case r.SQLITE_CONFIG_SERIALIZED:case r.SQLITE_CONFIG_SINGLETHREAD:case r.SQLITE_CONFIG_SQLLOG:case r.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return r.SQLITE_NOTFOUND}};{const I=new Set;r.sqlite3_auto_extension=function(f){if(f instanceof Function)f=i.installFunction("i(ppp)",f);else if(arguments.length!==1||!i.isPtr(f))return r.SQLITE_MISUSE;const p=i.exports.sqlite3_auto_extension(f);return f!==arguments[0]&&(p===0?I.add(f):i.uninstallFunction(f)),p},r.sqlite3_cancel_auto_extension=function(f){return!f||arguments.length!==1||!i.isPtr(f)?0:i.exports.sqlite3_cancel_auto_extension(f)},r.sqlite3_reset_auto_extension=function(){i.exports.sqlite3_reset_auto_extension();for(const f of I)i.uninstallFunction(f);I.clear()}}const $=r.sqlite3_vfs_find("kvvfs");if($)if(l.isUIThread()){const I=new r.sqlite3_kvvfs_methods(i.exports.sqlite3_wasm_kvvfs_methods());delete r.sqlite3_kvvfs_methods;const f=i.exports.sqlite3_wasm_kvvfsMakeKeyOnPstack,p=i.pstack,q=g=>i.peek(g)===115?sessionStorage:localStorage,S={xRead:(g,C,j,U)=>{const D=p.pointer,te=i.scopedAllocPush();try{const _=f(g,C);if(!_)return-3;const b=i.cstrToJs(_),x=q(g).getItem(b);if(!x)return-1;const M=x.length;if(U<=0)return M;if(U===1)return i.poke(j,0),M;const d=i.scopedAllocCString(x);return U>M+1&&(U=M+1),i.heap8u().copyWithin(j,d,d+U-1),i.poke(j+U-1,0),U-1}catch(_){return console.error("kvstorageRead()",_),-2}finally{p.restore(D),i.scopedAllocPop(te)}},xWrite:(g,C,j)=>{const U=p.pointer;try{const D=f(g,C);if(!D)return 1;const te=i.cstrToJs(D);return q(g).setItem(te,i.cstrToJs(j)),0}catch(D){return console.error("kvstorageWrite()",D),r.SQLITE_IOERR}finally{p.restore(U)}},xDelete:(g,C)=>{const j=p.pointer;try{const U=f(g,C);return U?(q(g).removeItem(i.cstrToJs(U)),0):1}catch(U){return console.error("kvstorageDelete()",U),r.SQLITE_IOERR}finally{p.restore(j)}}};for(const g of Object.keys(S))I[I.memberKey(g)]=i.installFunction(I.memberSignature(g),S[g])}else r.sqlite3_vfs_unregister($);i.xWrap.FuncPtrAdapter.warnOnUse=!0}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){e.version={libVersion:"3.45.1",libVersionNumber:3045001,sourceId:"2024-01-30 16:01:20 e876e51a0ed5c5b3126f52e532044363a014bc594cfefa87ffb5b82257cc467a",downloadVersion:3450100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){const s=(...d)=>{throw new e.SQLite3Error(...d)},r=e.capi,i=e.wasm,l=e.util,h=new WeakMap,w=new WeakMap,O=(d,y,a)=>{const c=Object.getOwnPropertyDescriptor(d,y);return c?c.value:a},B=function(d,y){return y&&(d instanceof f&&(d=d.pointer),s(y,"sqlite3 result code",y+":",d?r.sqlite3_errmsg(d):r.sqlite3_errstr(y))),arguments[0]},Q=i.installFunction("i(ippp)",function(d,y,a,c){r.SQLITE_TRACE_STMT===d&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+y+":",i.cstrToJs(c))}.bind({counter:0})),$=Object.create(null),I=function d(...y){if(!d._name2vfs){d._name2vfs=Object.create(null);const Z=typeof importScripts=="function"?le=>s("The VFS for",le,"is only available in the main window thread."):!1;d._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:Z||(()=>"local")},d._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:Z||(()=>"session")}}const a=d.normalizeArgs(...y);let c=a.filename,u=a.vfs,F=a.flags;(typeof c!="string"&&typeof c!="number"||typeof F!="string"||u&&typeof u!="string"&&typeof u!="number")&&(e.config.error("Invalid DB ctor args",a,arguments),s("Invalid arguments for DB constructor."));let z=typeof c=="number"?i.cstrToJs(c):c;const K=d._name2vfs[z];K&&(u=K.vfs,c=z=K.filename(z));let Y,re=0;F.indexOf("c")>=0&&(re|=r.SQLITE_OPEN_CREATE|r.SQLITE_OPEN_READWRITE),F.indexOf("w")>=0&&(re|=r.SQLITE_OPEN_READWRITE),re===0&&(re|=r.SQLITE_OPEN_READONLY),re|=r.SQLITE_OPEN_EXRESCODE;const ne=i.pstack.pointer;try{const Z=i.pstack.allocPtr();let le=r.sqlite3_open_v2(c,Z,re,u||0);Y=i.peekPtr(Z),B(Y,le),r.sqlite3_extended_result_codes(Y,1),F.indexOf("t")>=0&&r.sqlite3_trace_v2(Y,r.SQLITE_TRACE_STMT,Q,Y)}catch(Z){throw Y&&r.sqlite3_close_v2(Y),Z}finally{i.pstack.restore(ne)}this.filename=z,h.set(this,Y),w.set(this,Object.create(null));try{const Z=r.sqlite3_js_db_vfs(Y);Z||s("Internal error: cannot get VFS for new db handle.");const le=$[Z];le instanceof Function?le(this,e):le&&B(Y,r.sqlite3_exec(Y,le,0,0,0))}catch(Z){throw this.close(),Z}};I.setVfsPostOpenSql=function(d,y){$[d]=y},I.normalizeArgs=function(d=":memory:",y="c",a=null){const c={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(c,arguments[0]),c.flags===void 0&&(c.flags="c"),c.vfs===void 0&&(c.vfs=null),c.filename===void 0&&(c.filename=":memory:")):(c.filename=d,c.flags=y,c.vfs=a),c};const f=function(...d){I.apply(this,d)};f.dbCtorHelper=I;const p={null:1,number:2,string:3,boolean:4,blob:5};p.undefined==p.null,i.bigIntEnabled&&(p.bigint=p.number);const q=function(){p!==arguments[2]&&s(r.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],h.set(this,arguments[1]),this.parameterCount=r.sqlite3_bind_parameter_count(this.pointer)},S=function(d){return d.pointer||s("DB has been closed."),d},g=function(d,y){return(y!==(y|0)||y<0||y>=d.columnCount)&&s("Column index",y,"is out of range."),d},C=function(d,y){const a=Object.create(null);switch(a.opt=Object.create(null),y.length){case 1:typeof y[0]=="string"||l.isSQLableTypedArray(y[0])||Array.isArray(y[0])?a.sql=y[0]:y[0]&&typeof y[0]=="object"&&(a.opt=y[0],a.sql=a.opt.sql);break;case 2:a.sql=y[0],a.opt=y[1];break;default:s("Invalid argument count for exec().")}a.sql=l.flexibleString(a.sql),typeof a.sql!="string"&&s("Missing SQL argument or unsupported SQL value type.");const c=a.opt;switch(c.returnValue){case"resultRows":c.resultRows||(c.resultRows=[]),a.returnVal=()=>c.resultRows;break;case"saveSql":c.saveSql||(c.saveSql=[]),a.returnVal=()=>c.saveSql;break;case void 0:case"this":a.returnVal=()=>d;break;default:s("Invalid returnValue value:",c.returnValue)}if(!c.callback&&!c.returnValue&&c.rowMode!==void 0&&(c.resultRows||(c.resultRows=[]),a.returnVal=()=>c.resultRows),c.callback||c.resultRows)switch(c.rowMode===void 0?"array":c.rowMode){case"object":a.cbArg=u=>u.get(Object.create(null));break;case"array":a.cbArg=u=>u.get([]);break;case"stmt":Array.isArray(c.resultRows)&&s("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),a.cbArg=u=>u;break;default:if(l.isInt32(c.rowMode)){a.cbArg=u=>u.get(c.rowMode);break}else if(typeof c.rowMode=="string"&&c.rowMode.length>1&&c.rowMode[0]==="$"){const u=c.rowMode.substr(1);a.cbArg=F=>{const z=F.get(Object.create(null))[u];return z===void 0?s(r.SQLITE_NOTFOUND,"exec(): unknown result column:",u):z};break}s("Invalid rowMode:",c.rowMode)}return a},j=(d,y,a,...c)=>{const u=d.prepare(y);try{const F=u.bind(a).step()?u.get(...c):void 0;return u.reset(),F}finally{u.finalize()}},U=(d,y,a,c)=>d.exec({sql:y,bind:a,rowMode:c,returnValue:"resultRows"});f.checkRc=(d,y)=>B(d,y),f.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return S(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const d=this.pointer;if(Object.keys(w.get(this)).forEach((y,a)=>{if(a&&a.pointer)try{a.finalize()}catch{}}),h.delete(this),w.delete(this),r.sqlite3_close_v2(d),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(d=!1,y=!1){const a=S(this).pointer;return d?y?r.sqlite3_total_changes64(a):r.sqlite3_total_changes(a):y?r.sqlite3_changes64(a):r.sqlite3_changes(a)},dbFilename:function(d="main"){return r.sqlite3_db_filename(S(this).pointer,d)},dbName:function(d=0){return r.sqlite3_db_name(S(this).pointer,d)},dbVfsName:function(d=0){let y;const a=r.sqlite3_js_db_vfs(S(this).pointer,d);if(a){const c=new r.sqlite3_vfs(a);try{y=i.cstrToJs(c.$zName)}finally{c.dispose()}}return y},prepare:function(d){S(this);const y=i.pstack.pointer;let a,c;try{a=i.pstack.alloc(8),f.checkRc(this,r.sqlite3_prepare_v2(this.pointer,d,-1,a,null)),c=i.peekPtr(a)}finally{i.pstack.restore(y)}c||s("Cannot prepare empty SQL.");const u=new q(this,c,p);return w.get(this)[c]=u,u},exec:function(){S(this);const d=C(this,arguments);if(!d.sql)return s("exec() requires an SQL string.");const y=d.opt,a=y.callback,c=Array.isArray(y.resultRows)?y.resultRows:void 0;let u,F=y.bind,z=!!(d.cbArg||y.columnNames||c);const K=i.scopedAllocPush(),Y=Array.isArray(y.saveSql)?y.saveSql:void 0;try{const re=l.isSQLableTypedArray(d.sql);let ne=re?d.sql.byteLength:i.jstrlen(d.sql);const Z=i.scopedAlloc(2*i.ptrSizeof+(ne+1)),le=Z+i.ptrSizeof;let _e=le+i.ptrSizeof;const fe=_e+ne;for(re?i.heap8().set(d.sql,_e):i.jstrcpy(d.sql,i.heap8(),_e,ne,!1),i.poke(_e+ne,0);_e&&i.peek(_e,"i8");){i.pokePtr([Z,le],0),f.checkRc(this,r.sqlite3_prepare_v3(this.pointer,_e,ne,0,Z,le));const ye=i.peekPtr(Z);if(_e=i.peekPtr(le),ne=fe-_e,!!ye){if(Y&&Y.push(r.sqlite3_sql(ye).trim()),u=new q(this,ye,p),F&&u.parameterCount&&(u.bind(F),F=null),z&&u.columnCount){let be=Array.isArray(y.columnNames)?0:1;if(z=!1,d.cbArg||c){for(;u.step();u._lockedByExec=!1){be++===0&&u.getColumnNames(y.columnNames),u._lockedByExec=!0;const k=d.cbArg(u);if(c&&c.push(k),a&&a.call(y,k,u)===!1)break}u._lockedByExec=!1}be===0&&u.getColumnNames(y.columnNames)}else u.step();u.reset().finalize(),u=null}}}finally{i.scopedAllocPop(K),u&&(delete u._lockedByExec,u.finalize())}return d.returnVal()},createFunction:function(y,a,c){const u=k=>k instanceof Function;switch(arguments.length){case 1:c=y,y=c.name,a=c.xFunc||0;break;case 2:u(a)||(c=a,a=c.xFunc||0);break}c||(c={}),typeof y!="string"&&s("Invalid arguments: missing function name.");let F=c.xStep||0,z=c.xFinal||0;const K=c.xValue||0,Y=c.xInverse||0;let re;u(a)?(re=!1,(u(F)||u(z))&&s("Ambiguous arguments: scalar or aggregate?"),F=z=null):u(F)?(u(z)||s("Missing xFinal() callback for aggregate or window UDF."),a=null):u(z)?s("Missing xStep() callback for aggregate or window UDF."):s("Missing function-type properties."),re===!1?(u(K)||u(Y))&&s("xValue and xInverse are not permitted for non-window UDFs."):u(K)?(u(Y)||s("xInverse must be provided if xValue is."),re=!0):u(Y)&&s("xValue must be provided if xInverse is.");const ne=c.pApp;ne!=null&&(typeof ne!="number"||!l.isInt32(ne))&&s("Invalid value for pApp property. Must be a legal WASM pointer value.");const Z=c.xDestroy||0;Z&&!u(Z)&&s("xDestroy property must be a function.");let le=0;O(c,"deterministic")&&(le|=r.SQLITE_DETERMINISTIC),O(c,"directOnly")&&(le|=r.SQLITE_DIRECTONLY),O(c,"innocuous")&&(le|=r.SQLITE_INNOCUOUS),y=y.toLowerCase();const _e=a||F,fe=O(c,"arity"),ye=typeof fe=="number"?fe:_e.length?_e.length-1:0;let be;return re?be=r.sqlite3_create_window_function(this.pointer,y,ye,r.SQLITE_UTF8|le,ne||0,F,z,K,Y,Z):be=r.sqlite3_create_function_v2(this.pointer,y,ye,r.SQLITE_UTF8|le,ne||0,a,F,z,Z),f.checkRc(this,be),this},selectValue:function(d,y,a){return j(this,d,y,0,a)},selectValues:function(d,y,a){const c=this.prepare(d),u=[];try{for(c.bind(y);c.step();)u.push(c.get(0,a));c.reset()}finally{c.finalize()}return u},selectArray:function(d,y){return j(this,d,y,[])},selectObject:function(d,y){return j(this,d,y,{})},selectArrays:function(d,y){return U(this,d,y,"array")},selectObjects:function(d,y){return U(this,d,y,"object")},openStatementCount:function(){return this.pointer?Object.keys(w.get(this)).length:0},transaction:function(d){let y="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&s(r.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),y+=" "+arguments[0],d=arguments[1]),S(this).exec(y);try{const a=d(this);return this.exec("COMMIT"),a}catch(a){throw this.exec("ROLLBACK"),a}},savepoint:function(d){S(this).exec("SAVEPOINT oo1");try{const y=d(this);return this.exec("RELEASE oo1"),y}catch(y){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),y}},checkRc:function(d){return B(this,d)}};const D=function(d){return d.pointer||s("Stmt has been closed."),d},te=function(d){let y=p[d==null?"null":typeof d];switch(y){case p.boolean:case p.null:case p.number:case p.string:return y;case p.bigint:if(i.bigIntEnabled)return y;default:return l.isBindableTypedArray(d)?p.blob:void 0}},_=function(d){return te(d)||s("Unsupported bind() argument type:",typeof d)},b=function(d,y){const a=typeof y=="number"?y:r.sqlite3_bind_parameter_index(d.pointer,y);return a===0||!l.isInt32(a)?s("Invalid bind() parameter name: "+y):(a<1||a>d.parameterCount)&&s("Bind index",y,"is out of range."),a},x=function(d,y){return d._lockedByExec&&s("Operation is illegal when statement is locked:",y),d},M=function d(y,a,c,u){x(D(y),"bind()"),d._||(d._tooBigInt=z=>s("BigInt value is too big to store without precision loss:",z),d._={string:function(z,K,Y,re){const[ne,Z]=i.allocCString(Y,!0);return(re?r.sqlite3_bind_blob:r.sqlite3_bind_text)(z.pointer,K,ne,Z,r.SQLITE_WASM_DEALLOC)}}),_(u),a=b(y,a);let F=0;switch(u==null?p.null:c){case p.null:F=r.sqlite3_bind_null(y.pointer,a);break;case p.string:F=d._.string(y,a,u,!1);break;case p.number:{let z;l.isInt32(u)?z=r.sqlite3_bind_int:typeof u=="bigint"?l.bigIntFits64(u)?i.bigIntEnabled?z=r.sqlite3_bind_int64:l.bigIntFitsDouble(u)?(u=Number(u),z=r.sqlite3_bind_double):d._tooBigInt(u):d._tooBigInt(u):(u=Number(u),i.bigIntEnabled&&Number.isInteger(u)?z=r.sqlite3_bind_int64:z=r.sqlite3_bind_double),F=z(y.pointer,a,u);break}case p.boolean:F=r.sqlite3_bind_int(y.pointer,a,u?1:0);break;case p.blob:{if(typeof u=="string"){F=d._.string(y,a,u,!0);break}else u instanceof ArrayBuffer?u=new Uint8Array(u):l.isBindableTypedArray(u)||s("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const z=i.alloc(u.byteLength||1);i.heap8().set(u.byteLength?u:[0],z),F=r.sqlite3_bind_blob(y.pointer,a,z,u.byteLength,r.SQLITE_WASM_DEALLOC);break}default:e.config.warn("Unsupported bind() argument type:",u),s("Unsupported bind() argument type: "+typeof u)}return F&&f.checkRc(y.db.pointer,F),y._mayGet=!1,y};q.prototype={finalize:function(){if(this.pointer){x(this,"finalize()");const d=r.sqlite3_finalize(this.pointer);return delete w.get(this.db)[this.pointer],h.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,d}},clearBindings:function(){return x(D(this),"clearBindings()"),r.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(d){x(this,"reset()"),d&&this.clearBindings();const y=r.sqlite3_reset(D(this).pointer);return this._mayGet=!1,B(this.db,y),this},bind:function(){D(this);let d,y;switch(arguments.length){case 1:d=1,y=arguments[0];break;case 2:d=arguments[0],y=arguments[1];break;default:s("Invalid bind() arguments.")}return y===void 0?this:(this.parameterCount||s("This statement has no bindable parameters."),this._mayGet=!1,y===null?M(this,d,p.null,y):Array.isArray(y)?(arguments.length!==1&&s("When binding an array, an index argument is not permitted."),y.forEach((a,c)=>M(this,c+1,_(a),a)),this):(y instanceof ArrayBuffer&&(y=new Uint8Array(y)),typeof y=="object"&&!l.isBindableTypedArray(y)?(arguments.length!==1&&s("When binding an object, an index argument is not permitted."),Object.keys(y).forEach(a=>M(this,a,_(y[a]),y[a])),this):M(this,d,_(y),y)))},bindAsBlob:function(d,y){D(this),arguments.length===1&&(y=d,d=1);const a=_(y);return p.string!==a&&p.blob!==a&&p.null!==a&&s("Invalid value type for bindAsBlob()"),M(this,d,p.blob,y)},step:function(){x(this,"step()");const d=r.sqlite3_step(D(this).pointer);switch(d){case r.SQLITE_DONE:return this._mayGet=!1;case r.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,e.config.warn("sqlite3_step() rc=",d,r.sqlite3_js_rc_str(d),"SQL =",r.sqlite3_sql(this.pointer)),f.checkRc(this.db.pointer,d)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const d=this.step();return this.reset(),d}finally{try{this.finalize()}catch{}}},get:function(d,y){if(D(this)._mayGet||s("Stmt.step() has not (recently) returned true."),Array.isArray(d)){let a=0;const c=this.columnCount;for(;a<c;)d[a]=this.get(a++);return d}else if(d&&typeof d=="object"){let a=0;const c=this.columnCount;for(;a<c;)d[r.sqlite3_column_name(this.pointer,a)]=this.get(a++);return d}switch(g(this,d),y===void 0?r.sqlite3_column_type(this.pointer,d):y){case r.SQLITE_NULL:return null;case r.SQLITE_INTEGER:if(i.bigIntEnabled){const a=r.sqlite3_column_int64(this.pointer,d);return a>=Number.MIN_SAFE_INTEGER&&a<=Number.MAX_SAFE_INTEGER?Number(a).valueOf():a}else{const a=r.sqlite3_column_double(this.pointer,d);return(a>Number.MAX_SAFE_INTEGER||a<Number.MIN_SAFE_INTEGER)&&s("Integer is out of range for JS integer range: "+a),l.isInt32(a)?a|0:a}case r.SQLITE_FLOAT:return r.sqlite3_column_double(this.pointer,d);case r.SQLITE_TEXT:return r.sqlite3_column_text(this.pointer,d);case r.SQLITE_BLOB:{const a=r.sqlite3_column_bytes(this.pointer,d),c=r.sqlite3_column_blob(this.pointer,d),u=new Uint8Array(a);return a&&u.set(i.heap8u().slice(c,c+a),0),a&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(u.buffer),u}default:s("Don't know how to translate","type of result column #"+d+".")}s("Not reached.")},getInt:function(d){return this.get(d,r.SQLITE_INTEGER)},getFloat:function(d){return this.get(d,r.SQLITE_FLOAT)},getString:function(d){return this.get(d,r.SQLITE_TEXT)},getBlob:function(d){return this.get(d,r.SQLITE_BLOB)},getJSON:function(d){const y=this.get(d,r.SQLITE_STRING);return y===null?y:JSON.parse(y)},getColumnName:function(d){return r.sqlite3_column_name(g(D(this),d).pointer,d)},getColumnNames:function(d=[]){g(D(this),0);const y=this.columnCount;for(let a=0;a<y;++a)d.push(r.sqlite3_column_name(this.pointer,a));return d},getParamIndex:function(d){return D(this).parameterCount?r.sqlite3_bind_parameter_index(this.pointer,d):void 0}};{const d={enumerable:!0,get:function(){return h.get(this)},set:()=>s("The pointer property is read-only.")};Object.defineProperty(q.prototype,"pointer",d),Object.defineProperty(f.prototype,"pointer",d)}if(Object.defineProperty(q.prototype,"columnCount",{enumerable:!1,get:function(){return r.sqlite3_column_count(this.pointer)},set:()=>s("The columnCount property is read-only.")}),e.oo1={DB:f,Stmt:q},l.isUIThread()){e.oo1.JsStorageDb=function(y="session"){y!=="session"&&y!=="local"&&s("JsStorageDb db name must be one of 'session' or 'local'."),I.call(this,{filename:y,flags:"c",vfs:"kvvfs"})};const d=e.oo1.JsStorageDb;d.prototype=Object.create(f.prototype),d.clearStorage=r.sqlite3_js_kvvfs_clear,d.prototype.clearStorage=function(){return d.clearStorage(S(this).filename)},d.storageSize=r.sqlite3_js_kvvfs_size,d.prototype.storageSize=function(){return d.storageSize(S(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){e.initWorker1API=function(){const s=(...f)=>{throw new Error(f.join(" "))};globalThis.WorkerGlobalScope instanceof Function||s("initWorker1API() must be run from a Worker thread.");const r=this.sqlite3||s("Missing this.sqlite3 object."),i=r.oo1.DB,l=function(f){let p=h.idMap.get(f);return p||(p="db#"+ ++h.idSeq+"@"+f.pointer,h.idMap.set(f,p),p)},h={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(f){const p=new i(f);return this.dbs[l(p)]=p,this.dbList.indexOf(p)<0&&this.dbList.push(p),p},close:function(f,p){if(f){delete this.dbs[l(f)];const q=f.filename,S=r.wasm.sqlite3_wasm_db_vfs(f.pointer,0);f.close();const g=this.dbList.indexOf(f);g>=0&&this.dbList.splice(g,1),p&&q&&S&&r.wasm.sqlite3_wasm_vfs_unlink(S,q)}},post:function(f,p){p&&p.length?(globalThis.postMessage(f,Array.from(p)),p.length=0):globalThis.postMessage(f)},dbs:Object.create(null),getDb:function(f,p=!0){return this.dbs[f]||(p?s("Unknown (or closed) DB ID:",f):void 0)}},w=function(f=h.dbList[0]){return f&&f.pointer?f:s("DB is not opened.")},O=function(f,p=!0){const q=h.getDb(f.dbId,!1)||h.dbList[0];return p?w(q):q},B=function(){return h.dbList[0]&&l(h.dbList[0])},Q=function(f){const p=/^file:.+(vfs=(\w+))/.exec(f);return r.capi.sqlite3_vfs_find(p?p[2]:0)},$=f=>f===""||f[0]===":",I={open:function(f){const p=Object.create(null),q=f.args||Object.create(null);q.simulateError&&s("Throwing because of simulateError flag.");const S=Object.create(null);let g,C;if(p.vfs=q.vfs,$(q.filename)?p.filename=q.filename||"":(p.filename=q.filename,g=q.byteArray,g&&(C=Q(q.filename))),C){let U;try{U=r.wasm.allocFromTypedArray(g);const D=r.wasm.sqlite3_wasm_vfs_create_file(C,p.filename,U,g.byteLength);D&&r.SQLite3Error.toss(D)}catch(D){throw new r.SQLite3Error(D.name+" creating "+q.filename+": "+D.message,{cause:D})}finally{U&&r.wasm.dealloc(U)}}const j=h.open(p);return S.filename=j.filename,S.persistent=!!r.capi.sqlite3_js_db_uses_vfs(j.pointer,"opfs"),S.dbId=l(j),S.vfs=j.dbVfsName(),S},close:function(f){const p=O(f,!1),q={filename:p&&p.filename};if(p){const S=f.args&&typeof f.args=="object"?!!f.args.unlink:!1;h.close(p,S)}return q},exec:function(f){const p=typeof f.args=="string"?{sql:f.args}:f.args||Object.create(null);p.rowMode==="stmt"?s("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):p.sql||s("'exec' requires input SQL.");const q=O(f);(p.callback||Array.isArray(p.resultRows))&&(q._blobXfer=h.xfer);const S=p.callback;let g=0;const C=!!p.columnNames;typeof S=="string"&&(C||(p.columnNames=[]),p.callback=function(j,U){h.post({type:S,columnNames:p.columnNames,rowNumber:++g,row:j},h.xfer)});try{const j=p.countChanges?q.changes(!0,p.countChanges===64):void 0;q.exec(p),j!==void 0&&(p.changeCount=q.changes(!0,p.countChanges===64)-j),p.callback instanceof Function&&(p.callback=S,h.post({type:S,columnNames:p.columnNames,rowNumber:null,row:void 0}))}finally{delete q._blobXfer,p.callback&&(p.callback=S)}return p},"config-get":function(){const f=Object.create(null),p=r.config;return["bigIntEnabled"].forEach(function(q){Object.getOwnPropertyDescriptor(p,q)&&(f[q]=p[q])}),f.version=r.version,f.vfsList=r.capi.sqlite3_js_vfs_list(),f.opfsEnabled=!!r.opfs,f},export:function(f){const p=O(f),q={byteArray:r.capi.sqlite3_js_db_export(p.pointer),filename:p.filename,mimetype:"application/x-sqlite3"};return h.xfer.push(q.byteArray.buffer),q},toss:function(f){s("Testing worker exception")},"opfs-tree":async function(f){return r.opfs||s("OPFS support is unavailable."),await r.opfs.treeList()}};globalThis.onmessage=async function(f){f=f.data;let p,q=f.dbId,S=f.type;const g=performance.now();try{I.hasOwnProperty(S)&&I[S]instanceof Function?p=await I[S](f):s("Unknown db worker message type:",f.type)}catch(C){S="error",p={operation:f.type,message:C.message,errorClass:C.name,input:f},C.stack&&(p.stack=typeof C.stack=="string"?C.stack.split(/\n\s*/):C.stack)}q||(q=p.dbId||B()),h.post({type:S,dbId:q,messageId:f.messageId,workerReceivedTime:g,workerRespondTime:performance.now(),departureTime:f.departureTime,result:p},h.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:e})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){const s=e.wasm,r=e.capi,i=e.util.toss3,l=Object.create(null),h=Object.create(null),w=e.StructBinder;e.vfs=l,e.vtab=h;const O=r.sqlite3_index_info;O.prototype.nthConstraint=function(f,p=!1){if(f<0||f>=this.$nConstraint)return!1;const q=this.$aConstraint+O.sqlite3_index_constraint.structInfo.sizeof*f;return p?q:new O.sqlite3_index_constraint(q)},O.prototype.nthConstraintUsage=function(f,p=!1){if(f<0||f>=this.$nConstraint)return!1;const q=this.$aConstraintUsage+O.sqlite3_index_constraint_usage.structInfo.sizeof*f;return p?q:new O.sqlite3_index_constraint_usage(q)},O.prototype.nthOrderBy=function(f,p=!1){if(f<0||f>=this.$nOrderBy)return!1;const q=this.$aOrderBy+O.sqlite3_index_orderby.structInfo.sizeof*f;return p?q:new O.sqlite3_index_orderby(q)};const B=function f(p,q,S,g=f.installMethodArgcCheck){if(p instanceof w.StructType?!(S instanceof Function)&&!s.isPtr(S)&&i("Usage errror: expecting a Function or WASM pointer to one."):i("Usage error: target object is-not-a StructType."),arguments.length===1)return(D,te)=>f(p,D,te,g);f.argcProxy||(f.argcProxy=function(D,te,_,b){return function(...x){return _.length!==arguments.length&&i("Argument mismatch for",D.structInfo.name+"::"+te+": Native signature is:",b),_.apply(this,x)}},f.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((D,te)=>{if(typeof D=="number")try{s.uninstallFunction(D)}catch{}}),delete this.ondispose.__removeFuncList)});const C=p.memberSignature(q);C.length<2&&i("Member",q,"does not have a function pointer signature:",C);const j=p.memberKey(q),U=g&&!s.isPtr(S)?f.argcProxy(p,j,S,C):S;if(s.isPtr(U))U&&!s.functionEntry(U)&&i("Pointer",U,"is not a WASM function table entry."),p[j]=U;else{const D=s.installFunction(U,p.memberSignature(q,!0));p[j]=D,(!p.ondispose||!p.ondispose.__removeFuncList)&&(p.addOnDispose("ondispose.__removeFuncList handler",f.removeFuncList),p.ondispose.__removeFuncList=[]),p.ondispose.__removeFuncList.push(j,D)}return(D,te)=>f(p,D,te,g)};B.installMethodArgcCheck=!1;const Q=function(f,p,q=B.installMethodArgcCheck){const S=new Map;for(const g of Object.keys(p)){const C=p[g],j=S.get(C);if(j){const U=f.memberKey(g);f[U]=f[f.memberKey(j)]}else B(f,g,C,q),S.set(C,g)}return f};w.StructType.prototype.installMethod=function(p,q,S=B.installMethodArgcCheck){return arguments.length<3&&p&&typeof p=="object"?Q(this,...arguments):B(this,...arguments)},w.StructType.prototype.installMethods=function(f,p=B.installMethodArgcCheck){return Q(this,f,p)},r.sqlite3_vfs.prototype.registerVfs=function(f=!1){this instanceof e.capi.sqlite3_vfs||i("Expecting a sqlite3_vfs-type argument.");const p=r.sqlite3_vfs_register(this,f?1:0);return p&&i("sqlite3_vfs_register(",this,") failed with rc",p),this.pointer!==r.sqlite3_vfs_find(this.$zName)&&i("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},l.installVfs=function(f){let p=0;const q=["io","vfs"];for(const S of q){const g=f[S];g&&(++p,Q(g.struct,g.methods,!!g.applyArgcCheck),S==="vfs"&&(!g.struct.$zName&&typeof g.name=="string"&&g.struct.addOnDispose(g.struct.$zName=s.allocCString(g.name)),g.struct.registerVfs(!!g.asDefault)))}return p||i("Misuse: installVfs() options object requires at least","one of:",q),this};const $=function(f,p){return function(q,S=!1){if(arguments.length===0&&(q=new p),q instanceof p)return this.set(q.pointer,q),q;s.isPtr(q)||e.SQLite3Error.toss("Invalid argument to",f+"()");let g=this.get(q);return S&&this.delete(q),g}.bind(new Map)},I=function(f,p){const q=$(f,p);return Object.assign(Object.create(null),{StructType:p,create:S=>{const g=q();return s.pokePtr(S,g.pointer),g},get:S=>q(S),unget:S=>q(S,!0),dispose:S=>{const g=q(S,!0);g&&g.dispose()}})};h.xVtab=I("xVtab",r.sqlite3_vtab),h.xCursor=I("xCursor",r.sqlite3_vtab_cursor),h.xIndexInfo=f=>new r.sqlite3_index_info(f),h.xError=function f(p,q,S){if(f.errorReporter instanceof Function)try{f.errorReporter("sqlite3_module::"+p+"(): "+q.message)}catch{}let g;return q instanceof e.WasmAllocError?g=r.SQLITE_NOMEM:arguments.length>2?g=S:q instanceof e.SQLite3Error&&(g=q.resultCode),g||r.SQLITE_ERROR},h.xError.errorReporter=console.error.bind(console),h.xRowid=(f,p)=>s.poke(f,p,"i64"),h.setupModule=function(f){let p=!1;const q=this instanceof r.sqlite3_module?this:f.struct||(p=new r.sqlite3_module);try{const S=f.methods||i("Missing 'methods' object.");for(const g of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const C=g[0],j=g[1];S[C]===!0?S[C]=S[j]:S[j]===!0&&(S[j]=S[C])}if(f.catchExceptions){const g=function(U,D){return["xConnect","xCreate"].indexOf(U)>=0?function(te,_,b,x,M,d){try{return D(...arguments)||0}catch(y){return y instanceof e.WasmAllocError||(s.dealloc(s.peekPtr(d)),s.pokePtr(d,s.allocCString(y.message))),h.xError(U,y)}}:function(...te){try{return D(...te)||0}catch(_){return h.xError(U,_)}}},C=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],j=Object.create(null);for(const U of C){const D=S[U];if(D instanceof Function)U==="xConnect"&&S.xCreate===D?j[U]=S.xCreate:U==="xCreate"&&S.xConnect===D?j[U]=S.xConnect:j[U]=g(U,D);else continue}Q(q,j,!1)}else Q(q,S,!!f.applyArgcCheck);if(q.$iVersion===0){let g;typeof f.iVersion=="number"?g=f.iVersion:q.$xShadowName?g=3:q.$xSavePoint||q.$xRelease||q.$xRollbackTo?g=2:g=1,q.$iVersion=g}}catch(S){throw p&&p.dispose(),S}return q},r.sqlite3_module.prototype.setupModule=function(f){return h.setupModule.call(this,f)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){const s=function r(i){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!i||typeof i!="object")&&(i=Object.create(null));const l=new URL(globalThis.location.href).searchParams;return l.has("opfs-disable")?Promise.resolve(e):(i.verbose===void 0&&(i.verbose=l.has("opfs-verbose")?+l.get("opfs-verbose")||2:1),i.sanityChecks===void 0&&(i.sanityChecks=l.has("opfs-sanity-check")),i.proxyUri===void 0&&(i.proxyUri=r.defaultProxyUri),typeof i.proxyUri=="function"&&(i.proxyUri=i.proxyUri()),new Promise(function(w,O){const B=[e.config.error,e.config.warn,e.config.log],Q=(k,...N)=>{i.verbose>k&&B[k]("OPFS syncer:",...N)},$=(...k)=>Q(2,...k),I=(...k)=>Q(1,...k),f=(...k)=>Q(0,...k),p=e.util.toss,q=e.capi,S=e.util,g=e.wasm,C=q.sqlite3_vfs,j=q.sqlite3_file,U=q.sqlite3_io_methods,D=Object.create(null),te=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;D.metrics={dump:function(){let k,N=0,R=0,H=0;for(k in u.opIds){const W=F[k];N+=W.count,R+=W.time,H+=W.wait,W.avgTime=W.count&&W.time?W.time/W.count:0,W.avgWait=W.count&&W.wait?W.wait/W.count:0}e.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",F,`
Total of`,N,"op(s) for",R,"ms (incl. "+H+" ms of waiting on the async side)"),e.config.log("Serialization metrics:",F.s11n),y.postMessage({type:"opfs-async-metrics"})},reset:function(){let k;const N=H=>H.count=H.time=H.wait=0;for(k in u.opIds)N(F[k]=Object.create(null));let R=F.s11n=Object.create(null);R=R.serialize=Object.create(null),R.count=R.time=0,R=F.s11n.deserialize=Object.create(null),R.count=R.time=0}};const _=new U,b=new C().addOnDispose(()=>_.dispose());let x;const M=k=>(x=!0,b.dispose(),O(k)),d=()=>(x=!1,w(e)),y=new Worker(new URL(""+new URL("sqlite3-opfs-async-proxy-oRRWdEq1.js",import.meta.url).href,import.meta.url));setTimeout(()=>{x===void 0&&M(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),y._originalOnError=y.onerror,y.onerror=function(k){f("Error initializing OPFS asyncer:",k),M(new Error("Loading OPFS async Worker failed for unknown reasons."))};const a=q.sqlite3_vfs_find(null),c=a?new C(a):null;_.$iVersion=1,b.$iVersion=2,b.$szOsFile=q.sqlite3_file.structInfo.sizeof,b.$mxPathname=1024,b.$zName=g.allocCString("opfs"),b.$xDlOpen=b.$xDlError=b.$xDlSym=b.$xDlClose=null,b.addOnDispose("$zName",b.$zName,"cleanup default VFS wrapper",()=>c?c.dispose():null);const u=Object.create(null);u.verbose=i.verbose,u.littleEndian=(()=>{const k=new ArrayBuffer(2);return new DataView(k).setInt16(0,256,!0),new Int16Array(k)[0]===256})(),u.asyncIdleWaitTime=150,u.asyncS11nExceptions=1,u.fileBufferSize=1024*64,u.sabS11nOffset=u.fileBufferSize,u.sabS11nSize=b.$mxPathname*2,u.sabIO=new SharedArrayBuffer(u.fileBufferSize+u.sabS11nSize),u.opIds=Object.create(null);const F=Object.create(null);{let k=0;u.opIds.whichOp=k++,u.opIds.rc=k++,u.opIds.xAccess=k++,u.opIds.xClose=k++,u.opIds.xDelete=k++,u.opIds.xDeleteNoWait=k++,u.opIds.xFileSize=k++,u.opIds.xLock=k++,u.opIds.xOpen=k++,u.opIds.xRead=k++,u.opIds.xSleep=k++,u.opIds.xSync=k++,u.opIds.xTruncate=k++,u.opIds.xUnlock=k++,u.opIds.xWrite=k++,u.opIds.mkdir=k++,u.opIds["opfs-async-metrics"]=k++,u.opIds["opfs-async-shutdown"]=k++,u.opIds.retry=k++,u.sabOP=new SharedArrayBuffer(k*4),D.metrics.reset()}u.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(k=>{(u.sq3Codes[k]=q[k])===void 0&&p("Maintenance required: not found:",k)}),u.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,defaultUnlockAsap:!1});const z=(k,...N)=>{const R=u.opIds[k]||p("Invalid op ID:",k);u.s11n.serialize(...N),Atomics.store(u.sabOPView,u.opIds.rc,-1),Atomics.store(u.sabOPView,u.opIds.whichOp,R),Atomics.notify(u.sabOPView,u.opIds.whichOp);const H=performance.now();Atomics.wait(u.sabOPView,u.opIds.rc,-1);const W=Atomics.load(u.sabOPView,u.opIds.rc);if(F[k].wait+=performance.now()-H,W&&u.asyncS11nExceptions){const J=u.s11n.deserialize();J&&f(k+"() async error:",...J)}return W};D.debug={asyncShutdown:()=>{I("Shutting down OPFS async listener. The OPFS VFS will no longer work."),z("opfs-async-shutdown")},asyncRestart:()=>{I("Attempting to restart OPFS VFS async listener. Might work, might not."),y.postMessage({type:"opfs-async-restart"})}};const K=()=>{if(u.s11n)return u.s11n;const k=new TextDecoder,N=new TextEncoder("utf-8"),R=new Uint8Array(u.sabIO,u.sabS11nOffset,u.sabS11nSize),H=new DataView(u.sabIO,u.sabS11nOffset,u.sabS11nSize);u.s11n=Object.create(null);const W=Object.create(null);W.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},W.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},W.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},W.string={id:4};const J=P=>W[typeof P]||p("Maintenance required: this value type cannot be serialized.",P),X=P=>{switch(P){case W.number.id:return W.number;case W.bigint.id:return W.bigint;case W.boolean.id:return W.boolean;case W.string.id:return W.string;default:p("Invalid type ID:",P)}};return u.s11n.deserialize=function(P=!1){++F.s11n.deserialize.count;const E=performance.now(),m=R[0],A=m?[]:null;if(m){const T=[];let L=1,V,ee,ie;for(V=0;V<m;++V,++L)T.push(X(R[L]));for(V=0;V<m;++V){const he=T[V];he.getter?(ie=H[he.getter](L,u.littleEndian),L+=he.size):(ee=H.getInt32(L,u.littleEndian),L+=4,ie=k.decode(R.slice(L,L+ee)),L+=ee),A.push(ie)}}return P&&(R[0]=0),F.s11n.deserialize.time+=performance.now()-E,A},u.s11n.serialize=function(...P){const E=performance.now();if(++F.s11n.serialize.count,P.length){const m=[];let A=0,T=1;for(R[0]=P.length&255;A<P.length;++A,++T)m.push(J(P[A])),R[T]=m[A].id;for(A=0;A<P.length;++A){const L=m[A];if(L.setter)H[L.setter](T,P[A],u.littleEndian),T+=L.size;else{const V=N.encode(P[A]);H.setInt32(T,V.byteLength,u.littleEndian),T+=4,R.set(V,T),T+=V.byteLength}}}else R[0]=0;F.s11n.serialize.time+=performance.now()-E},u.s11n},Y=function k(N=16){k._chars||(k._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",k._n=k._chars.length);const R=[];let H=0;for(;H<N;++H){const W=Math.random()*(k._n*64)%k._n|0;R[H]=k._chars[W]}return R.join("")},re=Object.create(null),ne=Object.create(null);ne.op=void 0,ne.start=void 0;const Z=k=>{ne.start=performance.now(),ne.op=k,++F[k].count},le=()=>F[ne.op].time+=performance.now()-ne.start,_e={xCheckReservedLock:function(k,N){const R=re[k];return g.poke(N,R.lockType?1:0,"i32"),0},xClose:function(k){Z("xClose");let N=0;const R=re[k];return R&&(delete re[k],N=z("xClose",k),R.sq3File&&R.sq3File.dispose()),le(),N},xDeviceCharacteristics:function(k){return q.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(k,N,R){return q.SQLITE_NOTFOUND},xFileSize:function(k,N){Z("xFileSize");let R=z("xFileSize",k);if(R==0)try{const H=u.s11n.deserialize()[0];g.poke(N,H,"i64")}catch(H){f("Unexpected error reading xFileSize() result:",H),R=u.sq3Codes.SQLITE_IOERR}return le(),R},xLock:function(k,N){Z("xLock");const R=re[k];let H=0;return R.lockType?R.lockType=N:(H=z("xLock",k,N),H===0&&(R.lockType=N)),le(),H},xRead:function(k,N,R,H){Z("xRead");const W=re[k];let J;try{J=z("xRead",k,R,Number(H)),(J===0||q.SQLITE_IOERR_SHORT_READ===J)&&g.heap8u().set(W.sabView.subarray(0,R),N)}catch(X){f("xRead(",arguments,") failed:",X,W),J=q.SQLITE_IOERR_READ}return le(),J},xSync:function(k,N){Z("xSync"),++F.xSync.count;const R=z("xSync",k,N);return le(),R},xTruncate:function(k,N){Z("xTruncate");const R=z("xTruncate",k,Number(N));return le(),R},xUnlock:function(k,N){Z("xUnlock");const R=re[k];let H=0;return q.SQLITE_LOCK_NONE===N&&R.lockType&&(H=z("xUnlock",k,N)),H===0&&(R.lockType=N),le(),H},xWrite:function(k,N,R,H){Z("xWrite");const W=re[k];let J;try{W.sabView.set(g.heap8u().subarray(N,N+R)),J=z("xWrite",k,R,Number(H))}catch(X){f("xWrite(",arguments,") failed:",X,W),J=q.SQLITE_IOERR_WRITE}return le(),J}},fe={xAccess:function(k,N,R,H){Z("xAccess");const W=z("xAccess",g.cstrToJs(N));return g.poke(H,W?0:1,"i32"),le(),0},xCurrentTime:function(k,N){return g.poke(N,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(k,N){return g.poke(N,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(k,N,R){Z("xDelete");const H=z("xDelete",g.cstrToJs(N),R,!1);return le(),H},xFullPathname:function(k,N,R,H){return g.cstrncpy(H,N,R)<R?0:q.SQLITE_CANTOPEN},xGetLastError:function(k,N,R){return I("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(N,R,H,W,J){Z("xOpen");let X=0;R===0?R=Y():typeof R=="number"&&(q.sqlite3_uri_boolean(R,"opfs-unlock-asap",0)&&(X|=u.opfsFlags.OPFS_UNLOCK_ASAP),R=g.cstrToJs(R));const P=Object.create(null);P.fid=H,P.filename=R,P.sab=new SharedArrayBuffer(u.fileBufferSize),P.flags=W;const E=z("xOpen",H,R,W,X);return E||(P.readOnly&&g.poke(J,q.SQLITE_OPEN_READONLY,"i32"),re[H]=P,P.sabView=u.sabFileBufView,P.sq3File=new j(H),P.sq3File.$pMethods=_.pointer,P.lockType=q.SQLITE_LOCK_NONE),le(),E}};c&&(b.$xRandomness=c.$xRandomness,b.$xSleep=c.$xSleep),b.$xRandomness||(fe.xRandomness=function(k,N,R){const H=g.heap8u();let W=0;for(;W<N;++W)H[R+W]=Math.random()*255e3&255;return W}),b.$xSleep||(fe.xSleep=function(k,N){return Atomics.wait(u.sabOPView,u.opIds.xSleep,0,N),0}),D.getResolvedPath=function(k,N){const R=new URL(k,"file://irrelevant").pathname;return N?R.split("/").filter(H=>!!H):R},D.getDirForFilename=async function(N,R=!1){const H=D.getResolvedPath(N,!0),W=H.pop();let J=D.rootDirectory;for(const X of H)X&&(J=await J.getDirectoryHandle(X,{create:!!R}));return[J,W]},D.mkdir=async function(k){try{return await D.getDirForFilename(k+"/filepart",!0),!0}catch{return!1}},D.entryExists=async function(k){try{const[N,R]=await D.getDirForFilename(k);return await N.getFileHandle(R),!0}catch{return!1}},D.randomFilename=Y,D.registerVfs=(k=!1)=>g.exports.sqlite3_vfs_register(b.pointer,k?1:0),D.treeList=async function(){const k=async function R(H,W){W.name=H.name,W.dirs=[],W.files=[];for await(const J of H.values())if(J.kind==="directory"){const X=Object.create(null);W.dirs.push(X),await R(J,X)}else W.files.push(J.name)},N=Object.create(null);return await k(D.rootDirectory,N),N},D.rmfr=async function(){const k=D.rootDirectory,N={recurse:!0};for await(const R of k.values())k.removeEntry(R.name,N)},D.unlink=async function(k,N=!1,R=!1){try{const[H,W]=await D.getDirForFilename(k,!1);return await H.removeEntry(W,{recursive:N}),!0}catch(H){if(R)throw new Error("unlink(",arguments[0],") failed: "+H.message,{cause:H});return!1}},D.traverse=async function(k){const N={recursive:!0,directory:D.rootDirectory};typeof k=="function"&&(k={callback:k}),k=Object.assign(N,k||{}),async function H(W,J){for await(const X of W.values()){if(k.callback(X,W,J)===!1)return!1;if(k.recursive&&X.kind==="directory"&&await H(X,J+1)===!1)break}}(k.directory,0)};const ye=async function(k,N){const[R,H]=await D.getDirForFilename(k,!0);let J=await(await R.getFileHandle(H,{create:!0})).createSyncAccessHandle(),X=0,P,E=!1;try{for(J.truncate(0);(P=await N())!==void 0;)P instanceof ArrayBuffer&&(P=new Uint8Array(P)),X===0&&P.byteLength>=15&&(S.affirmDbHeader(P),E=!0),J.write(P,{at:X}),X+=P.byteLength;if((X<512||X%512!==0)&&p("Input size",X,"is not correct for an SQLite database."),!E){const m=new Uint8Array(20);J.read(m,{at:0}),S.affirmDbHeader(m)}return J.write(new Uint8Array([1,1]),{at:18}),X}catch(m){throw await J.close(),J=void 0,await R.removeEntry(H).catch(()=>{}),m}finally{J&&await J.close()}};if(D.importDb=async function(k,N){if(N instanceof Function)return ye(k,N);N instanceof ArrayBuffer&&(N=new Uint8Array(N)),S.affirmIsDb(N);const R=N.byteLength,[H,W]=await D.getDirForFilename(k,!0);let J,X=0;try{return J=await(await H.getFileHandle(W,{create:!0})).createSyncAccessHandle(),J.truncate(0),X=J.write(N,{at:0}),X!=R&&p("Expected to write "+R+" bytes but wrote "+X+"."),J.write(new Uint8Array([1,1]),{at:18}),X}catch(P){throw J&&(await J.close(),J=void 0),await H.removeEntry(W).catch(()=>{}),P}finally{J&&await J.close()}},e.oo1){const k=function(...N){const R=e.oo1.DB.dbCtorHelper.normalizeArgs(...N);R.vfs=b.$zName,e.oo1.DB.dbCtorHelper.call(this,R)};k.prototype=Object.create(e.oo1.DB.prototype),e.oo1.OpfsDb=k,k.importDb=D.importDb,e.oo1.DB.dbCtorHelper.setVfsPostOpenSql(b.pointer,function(N,R){R.capi.sqlite3_busy_timeout(N,1e4),R.capi.sqlite3_exec(N,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)})}const be=function(){const k=g.scopedAllocPush(),N=new j;try{const R=N.pointer,H=q.SQLITE_OPEN_CREATE|q.SQLITE_OPEN_READWRITE|q.SQLITE_OPEN_MAIN_DB,W=g.scopedAlloc(8),J="/sanity/check/file"+Y(8),X=g.scopedAllocCString(J);let P;if(u.s11n.serialize("This is  string."),P=u.s11n.deserialize(),$("deserialize() says:",P),P[0]!=="This is  string."&&p("String d13n error."),fe.xAccess(b.pointer,X,0,W),P=g.peek(W,"i32"),$("xAccess(",J,") exists ?=",P),P=fe.xOpen(b.pointer,X,R,H,W),$("open rc =",P,"state.sabOPView[xOpen] =",u.sabOPView[u.opIds.xOpen]),P!==0){f("open failed with code",P);return}fe.xAccess(b.pointer,X,0,W),P=g.peek(W,"i32"),P||p("xAccess() failed to detect file."),P=_e.xSync(N.pointer,0),P&&p("sync failed w/ rc",P),P=_e.xTruncate(N.pointer,1024),P&&p("truncate failed w/ rc",P),g.poke(W,0,"i64"),P=_e.xFileSize(N.pointer,W),P&&p("xFileSize failed w/ rc",P),$("xFileSize says:",g.peek(W,"i64")),P=_e.xWrite(N.pointer,X,10,1),P&&p("xWrite() failed!");const E=g.scopedAlloc(16);P=_e.xRead(N.pointer,E,6,2),g.poke(E+6,0);let m=g.cstrToJs(E);$("xRead() got:",m),m!=="sanity"&&p("Unexpected xRead() value."),fe.xSleep&&($("xSleep()ing before close()ing..."),fe.xSleep(b.pointer,2e3),$("waking up from xSleep()")),P=_e.xClose(R),$("xClose rc =",P,"sabOPView =",u.sabOPView),$("Deleting file:",J),fe.xDelete(b.pointer,X,4660),fe.xAccess(b.pointer,X,0,W),P=g.peek(W,"i32"),P&&p("Expecting 0 from xAccess(",J,") after xDelete()."),I("End of OPFS sanity checks.")}finally{N.dispose(),g.scopedAllocPop(k)}};y.onmessage=function({data:k}){switch(k.type){case"opfs-unavailable":M(new Error(k.payload.join(" ")));break;case"opfs-async-loaded":y.postMessage({type:"opfs-async-init",args:u});break;case"opfs-async-inited":{if(x===!0)break;try{e.vfs.installVfs({io:{struct:_,methods:_e},vfs:{struct:b,methods:fe}}),u.sabOPView=new Int32Array(u.sabOP),u.sabFileBufView=new Uint8Array(u.sabIO,0,u.fileBufferSize),u.sabS11nView=new Uint8Array(u.sabIO,u.sabS11nOffset,u.sabS11nSize),K(),i.sanityChecks&&(I("Running sanity checks because of opfs-sanity-check URL arg..."),be()),te()?navigator.storage.getDirectory().then(N=>{y.onerror=y._originalOnError,delete y._originalOnError,e.opfs=D,D.rootDirectory=N,$("End of OPFS sqlite3_vfs setup.",b),d()}).catch(M):d()}catch(N){f(N),M(N)}break}default:{const N="Unexpected message from the OPFS async worker: "+JSON.stringify(k);f(N),M(new Error(N));break}}}}))};s.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async r=>{try{let i=s.defaultProxyUri;return r.scriptInfo.sqlite3Dir&&(s.defaultProxyUri=r.scriptInfo.sqlite3Dir+i),s().catch(l=>{r.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",l.message)})}catch(i){return r.config.error("installOpfsVfs() exception:",i),Promise.reject(i)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){var ne,Z,le,_e,fe,ye,be,k,N,R,H,W,Ze,X;const s=e.util.toss,r=e.util.toss3,i=Object.create(null),l=e.capi,h=e.util,w=e.wasm,O=4096,B=512,Q=4,$=8,I=B+Q,f=B,p=I,q=O,S=l.SQLITE_OPEN_MAIN_DB|l.SQLITE_OPEN_MAIN_JOURNAL|l.SQLITE_OPEN_SUPER_JOURNAL|l.SQLITE_OPEN_WAL,g=".opaque",C=()=>Math.random().toString(36).slice(2),j=new TextDecoder,U=new TextEncoder,D=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2}),te=[e.config.error,e.config.warn,e.config.log];e.config.log;const _=e.config.warn;e.config.error;const b=new Map,x=P=>b.get(P),M=(P,E)=>{E?b.set(P,E):b.delete(P)},d=new Map,y=P=>d.get(P),a=(P,E)=>{E?d.set(P,E):d.delete(P)},c={xCheckReservedLock:function(P,E){const m=y(P);return m.log("xCheckReservedLock"),m.storeErr(),w.poke32(E,1),0},xClose:function(P){const E=y(P);E.storeErr();const m=E.getOFileForS3File(P);if(m)try{E.log(`xClose ${m.path}`),E.mapS3FileToOFile(P,!1),m.sah.flush(),m.flags&l.SQLITE_OPEN_DELETEONCLOSE&&E.deletePath(m.path)}catch(A){return E.storeErr(A,l.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(P){return l.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(P,E,m){return l.SQLITE_NOTFOUND},xFileSize:function(P,E){const m=y(P);m.log("xFileSize");const T=m.getOFileForS3File(P).sah.getSize()-q;return w.poke64(E,BigInt(T)),0},xLock:function(P,E){const m=y(P);m.log(`xLock ${E}`),m.storeErr();const A=m.getOFileForS3File(P);return A.lockType=E,0},xRead:function(P,E,m,A){const T=y(P);T.storeErr();const L=T.getOFileForS3File(P);T.log(`xRead ${L.path} ${m} @ ${A}`);try{const V=L.sah.read(w.heap8u().subarray(E,E+m),{at:q+Number(A)});return V<m?(w.heap8u().fill(0,E+V,E+m),l.SQLITE_IOERR_SHORT_READ):0}catch(V){return T.storeErr(V,l.SQLITE_IOERR)}},xSectorSize:function(P){return O},xSync:function(P,E){const m=y(P);m.log(`xSync ${E}`),m.storeErr();const A=m.getOFileForS3File(P);try{return A.sah.flush(),0}catch(T){return m.storeErr(T,l.SQLITE_IOERR)}},xTruncate:function(P,E){const m=y(P);m.log(`xTruncate ${E}`),m.storeErr();const A=m.getOFileForS3File(P);try{return A.sah.truncate(q+Number(E)),0}catch(T){return m.storeErr(T,l.SQLITE_IOERR)}},xUnlock:function(P,E){const m=y(P);m.log("xUnlock");const A=m.getOFileForS3File(P);return A.lockType=E,0},xWrite:function(P,E,m,A){const T=y(P);T.storeErr();const L=T.getOFileForS3File(P);T.log(`xWrite ${L.path} ${m} ${A}`);try{const V=L.sah.write(w.heap8u().subarray(E,E+m),{at:q+Number(A)});return m===V?0:s("Unknown write() failure.")}catch(V){return T.storeErr(V,l.SQLITE_IOERR)}}},u=new l.sqlite3_io_methods;u.$iVersion=1,e.vfs.installVfs({io:{struct:u,methods:c}});const F={xAccess:function(P,E,m,A){const T=x(P);T.storeErr();try{const L=T.getPath(E);w.poke32(A,T.hasFilename(L)?1:0)}catch{w.poke32(A,0)}return 0},xCurrentTime:function(P,E){return w.poke(E,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(P,E){return w.poke(E,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(P,E,m){const A=x(P);A.log(`xDelete ${w.cstrToJs(E)}`),A.storeErr();try{return A.deletePath(A.getPath(E)),0}catch(T){return A.storeErr(T),l.SQLITE_IOERR_DELETE}},xFullPathname:function(P,E,m,A){return w.cstrncpy(A,E,m)<m?0:l.SQLITE_CANTOPEN},xGetLastError:function(P,E,m){const A=x(P),T=A.popErr();if(A.log(`xGetLastError ${E} e =`,T),T){const L=w.scopedAllocPush();try{const[V,ee]=w.scopedAllocCString(T.message,!0);w.cstrncpy(m,V,E),ee>E&&w.poke8(m+E-1,0)}catch{return l.SQLITE_NOMEM}finally{w.scopedAllocPop(L)}}return T?T.sqlite3Rc||l.SQLITE_IOERR:0},xOpen:function(E,m,A,T,L){const V=x(E);try{V.log(`xOpen ${w.cstrToJs(m)} ${T}`);const ee=m&&w.peek8(m)?V.getPath(m):C();let ie=V.getSAHForPath(ee);!ie&&T&l.SQLITE_OPEN_CREATE&&(V.getFileCount()<V.getCapacity()?(ie=V.nextAvailableSAH(),V.setAssociatedPath(ie,ee,T)):s("SAH pool is full. Cannot create file",ee)),ie||s("file not found:",ee);const he={path:ee,flags:T,sah:ie};V.mapS3FileToOFile(A,he),he.lockType=l.SQLITE_LOCK_NONE;const Fe=new l.sqlite3_file(A);return Fe.$pMethods=u.pointer,Fe.dispose(),w.poke32(L,T),0}catch(ee){return V.storeErr(ee),l.SQLITE_CANTOPEN}}},z=function(P){e.capi.sqlite3_vfs_find(P)&&r("VFS name is already registered:",P);const E=new l.sqlite3_vfs,m=l.sqlite3_vfs_find(null),A=m?new l.sqlite3_vfs(m):null;return E.$iVersion=2,E.$szOsFile=l.sqlite3_file.structInfo.sizeof,E.$mxPathname=B,E.addOnDispose(E.$zName=w.allocCString(P),()=>M(E.pointer,0)),A&&(E.$xRandomness=A.$xRandomness,E.$xSleep=A.$xSleep,A.dispose()),!E.$xRandomness&&!F.xRandomness&&(F.xRandomness=function(T,L,V){const ee=w.heap8u();let ie=0;for(;ie<L;++ie)ee[V+ie]=Math.random()*255e3&255;return ie}),!E.$xSleep&&!F.xSleep&&(F.xSleep=(T,L)=>0),e.vfs.installVfs({vfs:{struct:E,methods:F}}),E};class K{constructor(E=Object.create(null)){Ee(this,W);Nt(this,"vfsDir");Ee(this,ne,void 0);Ee(this,Z,void 0);Ee(this,le,void 0);Ee(this,_e,new Map);Ee(this,fe,new Map);Ee(this,ye,new Set);Ee(this,be,new Map);Ee(this,k,new Uint8Array(I));Ee(this,N,void 0);Ee(this,R,void 0);Ee(this,H,void 0);Ae(this,H,E.verbosity??D.verbosity),this.vfsName=E.name||D.name,Ae(this,R,z(this.vfsName)),M(G(this,R).pointer,this),this.vfsDir=E.directory||"."+this.vfsName,Ae(this,N,new DataView(G(this,k).buffer,G(this,k).byteOffset)),this.isReady=this.reset(!!(E.clearOnInit??D.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(E.initialCapacity||D.initialCapacity)})}log(...E){Ye(this,W,Ze).call(this,2,...E)}warn(...E){Ye(this,W,Ze).call(this,1,...E)}error(...E){Ye(this,W,Ze).call(this,0,...E)}getVfs(){return G(this,R)}getCapacity(){return G(this,_e).size}getFileCount(){return G(this,fe).size}getFileNames(){const E=[],m=G(this,fe).keys();for(const A of m)E.push(A);return E}async addCapacity(E){for(let m=0;m<E;++m){const A=C(),L=await(await G(this,Z).getFileHandle(A,{create:!0})).createSyncAccessHandle();G(this,_e).set(L,A),this.setAssociatedPath(L,"",0)}return this.getCapacity()}async reduceCapacity(E){let m=0;for(const A of Array.from(G(this,ye))){if(m===E||this.getFileCount()===this.getCapacity())break;const T=G(this,_e).get(A);A.close(),await G(this,Z).removeEntry(T),G(this,_e).delete(A),G(this,ye).delete(A),++m}return m}releaseAccessHandles(){for(const E of G(this,_e).keys())E.close();G(this,_e).clear(),G(this,fe).clear(),G(this,ye).clear()}async acquireAccessHandles(E){const m=[];for await(const[A,T]of G(this,Z))T.kind==="file"&&m.push([A,T]);return Promise.all(m.map(async([A,T])=>{try{const L=await T.createSyncAccessHandle();if(G(this,_e).set(L,A),E)L.truncate(q),this.setAssociatedPath(L,"",0);else{const V=this.getAssociatedPath(L);V?G(this,fe).set(V,L):G(this,ye).add(L)}}catch(L){throw this.storeErr(L),this.releaseAccessHandles(),L}}))}getAssociatedPath(E){E.read(G(this,k),{at:0});const m=G(this,N).getUint32(f);if(G(this,k)[0]&&(m&l.SQLITE_OPEN_DELETEONCLOSE||!(m&S)))return _(`Removing file with unexpected flags ${m.toString(16)}`,G(this,k)),this.setAssociatedPath(E,"",0),"";const A=new Uint32Array($/4);E.read(A,{at:p});const T=this.computeDigest(G(this,k));if(A.every((L,V)=>L===T[V])){const L=G(this,k).findIndex(V=>V===0);return L===0&&E.truncate(q),L?j.decode(G(this,k).subarray(0,L)):""}else return _("Disassociating file with bad digest."),this.setAssociatedPath(E,"",0),""}setAssociatedPath(E,m,A){const T=U.encodeInto(m,G(this,k));B<=T.written+1&&s("Path too long:",m),G(this,k).fill(0,T.written,B),G(this,N).setUint32(f,A);const L=this.computeDigest(G(this,k));E.write(G(this,k),{at:0}),E.write(L,{at:p}),E.flush(),m?(G(this,fe).set(m,E),G(this,ye).delete(E)):(E.truncate(q),G(this,ye).add(E))}computeDigest(E){let m=3735928559,A=1103547991;for(const T of E)m=31*m+T*307,A=31*A+T*307;return new Uint32Array([m>>>0,A>>>0])}async reset(E){await this.isReady;let m=await navigator.storage.getDirectory(),A;for(const T of this.vfsDir.split("/"))T&&(A=m,m=await m.getDirectoryHandle(T,{create:!0}));return Ae(this,ne,m),Ae(this,le,A),Ae(this,Z,await G(this,ne).getDirectoryHandle(g,{create:!0})),this.releaseAccessHandles(),this.acquireAccessHandles(E)}getPath(E){return w.isPtr(E)&&(E=w.cstrToJs(E)),(E instanceof URL?E:new URL(E,"file://localhost/")).pathname}deletePath(E){const m=G(this,fe).get(E);return m&&(G(this,fe).delete(E),this.setAssociatedPath(m,"",0)),!!m}storeErr(E,m){return E&&(E.sqlite3Rc=m||l.SQLITE_IOERR,this.error(E)),this.$error=E,m}popErr(){const E=this.$error;return this.$error=void 0,E}nextAvailableSAH(){const[E]=G(this,ye).keys();return E}getOFileForS3File(E){return G(this,be).get(E)}mapS3FileToOFile(E,m){m?(G(this,be).set(E,m),a(E,this)):(G(this,be).delete(E),a(E,!1))}hasFilename(E){return G(this,fe).has(E)}getSAHForPath(E){return G(this,fe).get(E)}async removeVfs(){if(!G(this,R).pointer||!G(this,Z))return!1;l.sqlite3_vfs_unregister(G(this,R).pointer),G(this,R).dispose();try{this.releaseAccessHandles(),await G(this,ne).removeEntry(g,{recursive:!0}),Ae(this,Z,void 0),await G(this,le).removeEntry(G(this,ne).name,{recursive:!0}),Ae(this,ne,Ae(this,le,void 0))}catch(E){e.config.error(this.vfsName,"removeVfs() failed:",E)}return!0}exportFile(E){const m=G(this,fe).get(E)||s("File not found:",E),A=m.getSize()-q,T=new Uint8Array(A>0?A:0);if(A>0){const L=m.read(T,{at:q});L!=A&&s("Expected to read "+A+" bytes but read "+L+".")}return T}async importDbChunked(E,m){const A=G(this,fe).get(E)||this.nextAvailableSAH()||s("No available handles to import to.");A.truncate(0);let T=0,L,V=!1;try{for(;(L=await m())!==void 0;)L instanceof ArrayBuffer&&(L=new Uint8Array(L)),T===0&&L.byteLength>=15&&(h.affirmDbHeader(L),V=!0),A.write(L,{at:q+T}),T+=L.byteLength;if((T<512||T%512!==0)&&s("Input size",T,"is not correct for an SQLite database."),!V){const ee=new Uint8Array(20);A.read(ee,{at:0}),h.affirmDbHeader(ee)}A.write(new Uint8Array([1,1]),{at:q+18})}catch(ee){throw this.setAssociatedPath(A,"",0),ee}return this.setAssociatedPath(A,E,l.SQLITE_OPEN_MAIN_DB),T}importDb(E,m){if(m instanceof ArrayBuffer)m=new Uint8Array(m);else if(m instanceof Function)return this.importDbChunked(E,m);const A=G(this,fe).get(E)||this.nextAvailableSAH()||s("No available handles to import to."),T=m.byteLength;(T<512||T%512!=0)&&s("Byte array size is invalid for an SQLite db.");const L="SQLite format 3";for(let ee=0;ee<L.length;++ee)L.charCodeAt(ee)!==m[ee]&&s("Input does not contain an SQLite database header.");const V=A.write(m,{at:q});return V!=T?(this.setAssociatedPath(A,"",0),s("Expected to write "+T+" bytes but wrote "+V+".")):(A.write(new Uint8Array([1,1]),{at:q+18}),this.setAssociatedPath(A,E,l.SQLITE_OPEN_MAIN_DB)),V}}ne=new WeakMap,Z=new WeakMap,le=new WeakMap,_e=new WeakMap,fe=new WeakMap,ye=new WeakMap,be=new WeakMap,k=new WeakMap,N=new WeakMap,R=new WeakMap,H=new WeakMap,W=new WeakSet,Ze=function(E,...m){G(this,H)>E&&te[E](this.vfsName+":",...m)};class Y{constructor(E){Ee(this,X,void 0);Ae(this,X,E),this.vfsName=E.vfsName}async addCapacity(E){return G(this,X).addCapacity(E)}async reduceCapacity(E){return G(this,X).reduceCapacity(E)}getCapacity(){return G(this,X).getCapacity(G(this,X))}getFileCount(){return G(this,X).getFileCount()}getFileNames(){return G(this,X).getFileNames()}async reserveMinimumCapacity(E){const m=G(this,X).getCapacity();return m<E?G(this,X).addCapacity(E-m):m}exportFile(E){return G(this,X).exportFile(E)}importDb(E,m){return G(this,X).importDb(E,m)}async wipeFiles(){return G(this,X).reset(!0)}unlink(E){return G(this,X).deletePath(E)}async removeVfs(){return G(this,X).removeVfs()}}X=new WeakMap;const re=async()=>{const P=await navigator.storage.getDirectory(),E=".opfs-sahpool-sync-check-"+C(),T=(await(await P.getFileHandle(E,{create:!0})).createSyncAccessHandle()).close();return await T,await P.removeEntry(E),T?.then&&s("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};e.installOpfsSAHPoolVfs=async function(P=Object.create(null)){const E=P.name||D.name;return i[E]?i[E]:!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?i[E]=Promise.reject(new Error("Missing required OPFS APIs.")):i[E]=re().then(async function(){if(P.$testThrowInInit)throw P.$testThrowInInit;const m=new K(P);return m.isReady.then(async()=>{const A=new Y(m);if(e.oo1){const T=e.oo1,L=m.getVfs(),V=function(...ee){const ie=T.DB.dbCtorHelper.normalizeArgs(...ee);ie.vfs=L.$zName,T.DB.dbCtorHelper.call(this,ie)};V.prototype=Object.create(T.DB.prototype),A.OpfsSAHPoolDb=V,T.DB.dbCtorHelper.setVfsPostOpenSql(L.pointer,function(ee,ie){ie.capi.sqlite3_exec(ee,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)})}return m.log("VFS initialized."),A}).catch(async A=>(await m.removeVfs().catch(()=>{}),A))}).catch(m=>i[E]=Promise.reject(m))}}),typeof n<"u"){const e=Object.assign(Object.create(null),{exports:typeof wasmExports>"u"?n.asm:wasmExports,memory:n.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=e;let s;try{s=globalThis.sqlite3ApiBootstrap()}catch(r){throw console.error("sqlite3ApiBootstrap() error:",r),r}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}n.sqlite3=s}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),pe.ready}})();const Zn=function(){const me=ct;if(!me)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const ce=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(ce.debugModule=ce.urlParams.has("sqlite3.debugModule")?(...pe)=>console.warn("sqlite3.debugModule:",...pe):()=>{},ce.urlParams.has("sqlite3.dir"))ce.sqlite3Dir=ce.urlParams.get("sqlite3.dir")+"/";else if(ce.moduleScript){const pe=ce.moduleScript.src.split("/");pe.pop(),ce.sqlite3Dir=pe.join("/")+"/"}if(globalThis.sqlite3InitModule=function pe(...t){return me(...t).then(De=>{const ke=De.sqlite3;ke.scriptInfo=ce,pe.__isUnderTest&&(ke.__isUnderTest=!0);const He=ke.asyncPostInit;return delete ke.asyncPostInit,He()}).catch(De=>{throw console.error("Exception loading sqlite3 module:",De),De})},globalThis.sqlite3InitModule.ready=me.ready,globalThis.sqlite3InitModuleState.moduleScript){const pe=globalThis.sqlite3InitModuleState;let t=pe.moduleScript.src.split("/");t.pop(),pe.scriptDir=t.join("/")+"/"}return ce.debugModule("sqlite3InitModuleState =",ce),globalThis.sqlite3InitModule}();ct=Zn;var er=ct;er().then(me=>me.initWorker1API());
